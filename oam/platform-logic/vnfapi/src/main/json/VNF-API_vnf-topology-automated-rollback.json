[{"id":"2df19079.01dee","type":"comment","name":"vnf-topology-automated-rollback","info":"","comments":"","x":781.6666259765625,"y":85,"z":"852e9052.1933","wires":[]},{"id":"8a5a63e.605c3a","type":"method","name":"method vnf-topology-automated-rollback","xml":"<method rpc='vnf-topology-automated-rollback' mode='sync'>\n","comments":"","outputs":1,"x":218.00005340576172,"y":143.72221851348877,"z":"852e9052.1933","wires":[["ea4526ce.6a7fe8"]]},{"id":"64773b27.1076f4","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":311.0000915527344,"y":65.61112022399902,"z":"852e9052.1933","wires":[["8a5a63e.605c3a"]]},{"id":"d15cd70a.44d268","type":"dgstart","name":"DGSTART","outputs":1,"x":107.83336639404297,"y":65.55555725097656,"z":"852e9052.1933","wires":[["64773b27.1076f4"]]},{"id":"38300bd0.9d91a4","type":"set","name":"set: order-status = Deleted","xml":"<set>\n\t<parameter name=\"service-data.oper-status.order-status\" value=\"Deleted\"/>","comments":"","x":565.0120162963867,"y":400.29102516174316,"z":"852e9052.1933","wires":[]},{"id":"8e11ce88.6d977","type":"switchNode","name":"switch: order-status = PendingCreate","xml":"<switch test=\"`$service-data.oper-status.order-status == PendingCreate`\">","comments":"","outputs":1,"x":596.4244003295898,"y":250.84835243225098,"z":"852e9052.1933","wires":[["527bd20f.db61ac"]]},{"id":"527bd20f.db61ac","type":"other","name":"false","xml":"<outcome value='false'>","comments":"","outputs":1,"x":828.0077819824219,"y":250.6816644668579,"z":"852e9052.1933","wires":[["8c38cdbb.f8955"]]},{"id":"8c38cdbb.f8955","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='Invalid order-status'/>","comments":"","x":980.3409118652344,"y":250.68172550201416,"z":"852e9052.1933","wires":[]},{"id":"8cc0bfaa.280a8","type":"set","name":"set: last-action ","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-action\" value=\"`$service-data.request-information.request-action`\"/>","comments":"","x":528.7697296142578,"y":447.87234020233154,"z":"852e9052.1933","wires":[]},{"id":"ed465a50.3ba868","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":816.6819763183594,"y":203.63890933990479,"z":"852e9052.1933","wires":[["a7bd6389.171b5"]]},{"id":"a7bd6389.171b5","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'vnf-id = ' + $vnf-topology-operation-input.vnf-request-information.vnf-id + ' not found in config tree'`\"/>","comments":"","x":979.7727966308594,"y":204.04801273345947,"z":"852e9052.1933","wires":[]},{"id":"ffb7307a.7a1ec","type":"set","name":"set: last-order-status = order-status","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-order-status\" value=\"`$service-data.oper-status.order-status`\"/>","comments":"","x":591.6560516357422,"y":350.84999656677246,"z":"852e9052.1933","wires":[]},{"id":"5953a9f9.983b98","type":"set","name":"Clear vnf topology","xml":"<set>\n\t<parameter name=\"service-data.\" value=\"\" /> \n","comments":"","x":538.0450286865234,"y":495.85004782676697,"z":"852e9052.1933","wires":[]},{"id":"2d8f7fa7.aece","type":"switchNode","name":"switch:CONFIG == INPUT - vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id == $service-data.vnf-id`\">","comments":"","outputs":1,"x":585.8334579467773,"y":203.63890933990479,"z":"852e9052.1933","wires":[["ed465a50.3ba868"]]},{"id":"ea4526ce.6a7fe8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":295.33343505859375,"y":202.88890647888184,"z":"852e9052.1933","wires":[["2d8f7fa7.aece","8e11ce88.6d977","ffb7307a.7a1ec","38300bd0.9d91a4","8cc0bfaa.280a8","5953a9f9.983b98","4ba4d3b6.88298c"]]},{"id":"5fa2bce2.0c59d4","type":"comment","name":"Only valid to rollback assigned vf-module with Orchestration status = PendingCreate","info":"","comments":"","x":793.0833740234375,"y":121.00000190734863,"z":"852e9052.1933","wires":[]},{"id":"4ba4d3b6.88298c","type":"call","name":"call: rollback-eipam-ip-assignment","xml":"<call module='VNF-API' rpc='rollback-eipam-ip-assignment' mode='sync' >","comments":"","outputs":1,"x":586.6428604125977,"y":300,"z":"852e9052.1933","wires":[[]]}]
