[{"id":"ca13d39d.4a481","type":"dgstart","name":"DGSTART","outputs":1,"x":191.66665649414062,"y":130,"z":"81d77771.435188","wires":[["850132f2.97faa"]]},{"id":"d53fa926.bc8038","type":"method","name":"method rollback-eipam-ip-assignment","xml":"<method rpc='rollback-eipam-ip-assignment' mode='sync'>\n","comments":"","outputs":1,"x":359.16664123535156,"y":290.93651580810547,"z":"81d77771.435188","wires":[["d55d452f.723fa8"]]},{"id":"850132f2.97faa","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":293.56346130371094,"y":203.634934425354,"z":"81d77771.435188","wires":[["d53fa926.bc8038"]]},{"id":"bacdf2b.d9c0f1","type":"update","name":"update EIPAM_IP_ASSIGNMENTS to PENDING_DELETE...","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE EIPAM_IP_ASSIGNMENTS set status = $tmp.status \n\t\tWHERE info = $vnf-topology-operation-input.vnf-request-information.vnf-id\" >","comments":"","outputs":1,"x":969.8571624755859,"y":288.5714282989502,"z":"81d77771.435188","wires":[["e93433cf.3976"]]},{"id":"204a22bc.04bd2e","type":"set","name":"set status variable","xml":"<set>\n<parameter name='tmp.status' \n\tvalue=\"`'PENDING_DELETE_' + $vnf-topology-operation-input.vnf-request-information.vnf-id`\" />\n<parameter name='service-data.service-information.service-type' \n\tvalue='NOT_APPLICABLE' />\n\t\n","comments":"","x":839.8571243286133,"y":241.90480041503906,"z":"81d77771.435188","wires":[]},{"id":"e93433cf.3976","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1275.8570709228516,"y":287.904727935791,"z":"81d77771.435188","wires":[["c6588808.afd928"]]},{"id":"c6588808.afd928","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating EIPAM_IP_ASSIGNMENTS table on rollback.\" />\n","comments":"","x":1434.8570976257324,"y":287.71446323394775,"z":"81d77771.435188","wires":[]},{"id":"9f945c90.bbdc5","type":"execute","name":"execute EIPAM unassign IP addresses","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.eipam.EIPAMPlugin\" method=\"unassignIPAddress\">\n<parameter name=\"deleteEIPAM_status\" value=\"`$tmp.status`\" />\n","comments":"","outputs":1,"x":904.8571319580078,"y":333.57147216796875,"z":"81d77771.435188","wires":[["94d18ac.d008f78"]]},{"id":"94d18ac.d008f78","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1141.5237579345703,"y":333.57141494750977,"z":"81d77771.435188","wires":[["c3033b34.c5b888"]]},{"id":"c3033b34.c5b888","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error in EIPAM unassign IP address on rollback.\" />\n","comments":"","x":1331.5237846374512,"y":333.3811502456665,"z":"81d77771.435188","wires":[]},{"id":"eecace93.5e461","type":"comment","name":"rollback-eipam-ip-assignment","info":"","comments":"","x":715.7143402099609,"y":140.71476936340332,"z":"81d77771.435188","wires":[]},{"id":"d55d452f.723fa8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":611.5237884521484,"y":290.9049243927002,"z":"81d77771.435188","wires":[["204a22bc.04bd2e","bacdf2b.d9c0f1","9f945c90.bbdc5"]]}]
