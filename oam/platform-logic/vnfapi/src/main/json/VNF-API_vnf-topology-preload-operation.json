[{"id":"27382898.127288","type":"dgstart","name":"DGSTART","outputs":1,"x":105.71430206298828,"y":20.000000953674316,"z":"92a428a4.4be018","wires":[["da86500.c82cab"]]},{"id":"da86500.c82cab","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":313.3254089355469,"y":20.777785301208496,"z":"92a428a4.4be018","wires":[["45974f49.3e0bb"]]},{"id":"45974f49.3e0bb","type":"method","name":"vnf-topology-preload-operation","xml":"<method rpc='vnf-topology-preload-operation' mode='sync'>\n","comments":"","outputs":1,"x":232.92855834960938,"y":80.79364585876465,"z":"92a428a4.4be018","wires":[["2e83e166.81c9ce"]]},{"id":"19e5b740.1bbdb9","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":364.4126968383789,"y":723.3332614898682,"z":"92a428a4.4be018","wires":[["bc453dc4.37403","f70ce018.29f22","6d06e616.179dc8","fdd37020.a7e9d","8b547a17.7f8778","37529cbb.9f60c4"]]},{"id":"bc453dc4.37403","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":579.9960556030273,"y":1140.083420753479,"z":"92a428a4.4be018","wires":[["66ea35b2.ce742c"]]},{"id":"f70ce018.29f22","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":581.9682540893555,"y":723.3332672119141,"z":"92a428a4.4be018","wires":[["a5973f66.bde0b"]]},{"id":"66ea35b2.ce742c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action not recognized'/>\n","comments":"","x":751.9960556030273,"y":1140.083420753479,"z":"92a428a4.4be018","wires":[]},{"id":"6d06e616.179dc8","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":584.9682693481445,"y":812.5832557678223,"z":"92a428a4.4be018","wires":[["6fc64ea9.47d27"]]},{"id":"fdd37020.a7e9d","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":584.7182693481445,"y":854.8332567214966,"z":"92a428a4.4be018","wires":[["e81e121b.9d7d4"]]},{"id":"37529cbb.9f60c4","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":603.4682693481445,"y":768.8332576751709,"z":"92a428a4.4be018","wires":[["4b2ba6a6.5bfb58"]]},{"id":"8b547a17.7f8778","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":581.0794143676758,"y":1093.6944961547852,"z":"92a428a4.4be018","wires":[["463ecdea.916a04"]]},{"id":"dab3d2fe.9b3b8","type":"call","name":"call: vnf-topology-assign","xml":"<call module='VNF-API' rpc='vnf-topology-assign' mode='sync' >","comments":"","outputs":1,"x":974.2182540893555,"y":723.3332653045654,"z":"92a428a4.4be018","wires":[[]]},{"id":"90793683.10ad78","type":"other","name":"changedelete","xml":"<outcome value='changedelete'>","comments":"","outputs":1,"x":601.7182998657227,"y":952.5832653045654,"z":"92a428a4.4be018","wires":[["99083217.f89ae"]]},{"id":"852e8019.fd2ce","type":"call","name":"call: vnf-topology-changeassign","xml":"<call module='VNF-API' rpc='vnf-topology-changeassign' mode='sync' >","comments":"","outputs":1,"x":997.468376159668,"y":767.3332653045654,"z":"92a428a4.4be018","wires":[[]]},{"id":"d6877835.c8b078","type":"call","name":"call: vnf-topology-rollback","xml":"<call module='VNF-API' rpc='vnf-topology-rollback' mode='sync' >","comments":"","outputs":1,"x":979.218376159668,"y":854.8332672119141,"z":"92a428a4.4be018","wires":[[]]},{"id":"463ecdea.916a04","type":"call","name":"call: vnf-topology-delete","xml":"<call module='VNF-API' rpc='vnf-topology-delete' mode='sync' >","comments":"","outputs":1,"x":789.8294830322266,"y":1093.6944971084595,"z":"92a428a4.4be018","wires":[[]]},{"id":"7d86d5e2.f9dc1c","type":"call","name":"call: vnf-topology-activate","xml":"<call module='VNF-API' rpc='vnf-topology-activate' mode='sync' >","comments":"","outputs":1,"x":978.7183685302734,"y":811.833261013031,"z":"92a428a4.4be018","wires":[[]]},{"id":"18365e43.db5f52","type":"call","name":"call: vnf-topology-changedelete","xml":"<call module='VNF-API' rpc='vnf-topology-changedelete' mode='sync' >","comments":"","outputs":1,"x":984.2183837890625,"y":1043.583267211914,"z":"92a428a4.4be018","wires":[[]]},{"id":"edaa795d.815648","type":"comment","name":"vnf-topology-preload-operation","info":"","comments":"","x":708.6031723022461,"y":59.587297439575195,"z":"92a428a4.4be018","wires":[]},{"id":"2e83e166.81c9ce","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":169.8571548461914,"y":138.0000057220459,"z":"92a428a4.4be018","wires":[["e10d753d.1a5108","e57664b7.a0cb78","19e5b740.1bbdb9","6ee4c55.7765b3c"]]},{"id":"e10d753d.1a5108","type":"switchNode","name":"switch: INPUT vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-name`\">","comments":"","outputs":1,"x":418.36509704589844,"y":138.15870761871338,"z":"92a428a4.4be018","wires":[["f6d54468.393c88","7be45943.cc6978"]]},{"id":"f6d54468.393c88","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":632.3650970458984,"y":138.15870761871338,"z":"92a428a4.4be018","wires":[["d8f7b15c.f03e6"]]},{"id":"7be45943.cc6978","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":633.3651428222656,"y":185.58727836608887,"z":"92a428a4.4be018","wires":[["b1504b8f.bb2e18"]]},{"id":"d8f7b15c.f03e6","type":"switchNode","name":"switch: PRELOAD vnf-name","xml":"<switch test=\"`$preload-data.vnf-topology-information.vnf-topology-identifier.vnf-name`\">","comments":"","outputs":1,"x":843.3650970458984,"y":138.15870761871338,"z":"92a428a4.4be018","wires":[["6b9d4424.f09efc","99560218.ef1e6"]]},{"id":"6b9d4424.f09efc","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1054.3650970458984,"y":138.15870761871338,"z":"92a428a4.4be018","wires":[["b2beb900.1fb638"]]},{"id":"99560218.ef1e6","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1055.3651428222656,"y":184.58727836608887,"z":"92a428a4.4be018","wires":[["34e1e6d9.6c147a"]]},{"id":"b2beb900.1fb638","type":"switchNode","name":"switch: vnf-name INPUT == PRELOAD","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-name == $preload-data.vnf-topology-information.vnf-topology-identifier.vnf-name`\">","comments":"","outputs":1,"x":1302.3650817871094,"y":138.15870571136475,"z":"92a428a4.4be018","wires":[["4acdda61.594564"]]},{"id":"4acdda61.594564","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1548.6984481811523,"y":137.825608253479,"z":"92a428a4.4be018","wires":[["4f6229f6.67b498"]]},{"id":"4f6229f6.67b498","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request.vnf-name not found in preload-data'/>","comments":"","x":1707.3650741577148,"y":137.15870761871338,"z":"92a428a4.4be018","wires":[]},{"id":"34e1e6d9.6c147a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-name'/>","comments":"","x":1222.3651428222656,"y":184.58727836608887,"z":"92a428a4.4be018","wires":[]},{"id":"b1504b8f.bb2e18","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-name is required'/>","comments":"","x":794.8651428222656,"y":185.83727836608887,"z":"92a428a4.4be018","wires":[]},{"id":"e57664b7.a0cb78","type":"switchNode","name":"switch: INPUT vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-type`\">","comments":"","outputs":1,"x":410.2222442626953,"y":257.5872712135315,"z":"92a428a4.4be018","wires":[["e531261b.ed3c88","b1342015.3408b"]]},{"id":"e531261b.ed3c88","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":627.2222366333008,"y":258.5872712135315,"z":"92a428a4.4be018","wires":[["5edfa51c.3acd5c"]]},{"id":"b1342015.3408b","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":628.2222785949707,"y":308.87298822402954,"z":"92a428a4.4be018","wires":[["9119f902.c4ce58"]]},{"id":"5edfa51c.3acd5c","type":"switchNode","name":"switch: PRELOAD vnf-type","xml":"<switch test=\"`$preload-data.vnf-topology-information.vnf-topology-identifier.vnf-type`\">","comments":"","outputs":1,"x":838.2222366333008,"y":258.5872712135315,"z":"92a428a4.4be018","wires":[["306c4502.a9f18a","457d774f.08d388"]]},{"id":"306c4502.a9f18a","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1049.2222366333008,"y":258.5872712135315,"z":"92a428a4.4be018","wires":[["713425d2.ff15dc"]]},{"id":"457d774f.08d388","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1050.2222785949707,"y":307.87298822402954,"z":"92a428a4.4be018","wires":[["4e5864e1.616eac"]]},{"id":"9119f902.c4ce58","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-type is required'/>","comments":"","x":789.7222785949707,"y":309.12298822402954,"z":"92a428a4.4be018","wires":[]},{"id":"713425d2.ff15dc","type":"switchNode","name":"switch: vnf-type INPUT == PRELOAD","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-type == $preload-data.vnf-topology-information.vnf-topology-identifier.vnf-type`\">","comments":"","outputs":1,"x":1297.2222137451172,"y":258.5872712135315,"z":"92a428a4.4be018","wires":[["7851a2cb.dac9cc"]]},{"id":"4e5864e1.616eac","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-type'/>","comments":"","x":1217.222255706787,"y":307.87298822402954,"z":"92a428a4.4be018","wires":[]},{"id":"7851a2cb.dac9cc","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1546.2222137451172,"y":258.9207673072815,"z":"92a428a4.4be018","wires":[["352d87ea.74b988"]]},{"id":"352d87ea.74b988","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request.vnf-type not found in preload-data'/>","comments":"","x":1704.8888397216797,"y":258.25386667251587,"z":"92a428a4.4be018","wires":[]},{"id":"6ee4c55.7765b3c","type":"switchNode","name":"switch: INPUT vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id`\">","comments":"","outputs":1,"x":405.75806427001953,"y":374.90874195098877,"z":"92a428a4.4be018","wires":[["a668f8f8.c2e6e8","36879ada.5a4b76"]]},{"id":"36879ada.5a4b76","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":588.7580184936523,"y":424.9087247848511,"z":"92a428a4.4be018","wires":[["caf5e229.ed387"]]},{"id":"a668f8f8.c2e6e8","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":587.9009628295898,"y":374.4801778793335,"z":"92a428a4.4be018","wires":[["caf5e229.ed387"]]},{"id":"caf5e229.ed387","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vf-modules vnf-id cannot be NULL or 0'/>","comments":"","x":763.6152267456055,"y":425.1944456100464,"z":"92a428a4.4be018","wires":[]},{"id":"bd1afb26.982af8","type":"switchNode","name":"switch: INPUT generic-vnf-id","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-id`\">","comments":"","outputs":1,"x":1223.8295059204102,"y":489.05160427093506,"z":"92a428a4.4be018","wires":[["fa68e5d5.3ea798","cbda632b.05b6"]]},{"id":"cbda632b.05b6","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1456.829475402832,"y":527.1944417953491,"z":"92a428a4.4be018","wires":[["4e5d27c4.668018"]]},{"id":"fa68e5d5.3ea798","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":1455.9724044799805,"y":489.6230401992798,"z":"92a428a4.4be018","wires":[["4e5d27c4.668018"]]},{"id":"4e5d27c4.668018","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-id cannot be NULL or 0'/>","comments":"","x":1610.6866836547852,"y":527.4801626205444,"z":"92a428a4.4be018","wires":[]},{"id":"92006f83.303b6","type":"switchNode","name":"switch: INPUT generic-vnf-name","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-name`\">","comments":"","outputs":1,"x":1235.5795059204102,"y":570.0516042709351,"z":"92a428a4.4be018","wires":[["cae82f17.dd03f"]]},{"id":"cae82f17.dd03f","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1453.579475402832,"y":570.1944417953491,"z":"92a428a4.4be018","wires":[["e4890c61.433f"]]},{"id":"e4890c61.433f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-name cannot be NULL'/>","comments":"","x":1607.4366836547852,"y":570.4801626205444,"z":"92a428a4.4be018","wires":[]},{"id":"844204d8.c22708","type":"switchNode","name":"switch: INPUT generic-vnf-type","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.generic-vnf-type`\">","comments":"","outputs":1,"x":1229.8295059204102,"y":614.0516042709351,"z":"92a428a4.4be018","wires":[["b35bce0.f21be3"]]},{"id":"b35bce0.f21be3","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1447.829475402832,"y":614.1944417953491,"z":"92a428a4.4be018","wires":[["d570b3ad.3533e"]]},{"id":"d570b3ad.3533e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='generic-vnf-type cannot be NULL'/>","comments":"","x":1601.6866836547852,"y":614.4801626205444,"z":"92a428a4.4be018","wires":[]},{"id":"b87379e9.53f3e8","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":941.3573303222656,"y":488.60720443725586,"z":"92a428a4.4be018","wires":[["bd1afb26.982af8","92006f83.303b6","844204d8.c22708","450707b1.858888"]]},{"id":"6fc64ea9.47d27","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":733.3571624755859,"y":812.0000095367432,"z":"92a428a4.4be018","wires":[["b87379e9.53f3e8","7d86d5e2.f9dc1c"]]},{"id":"4b2ba6a6.5bfb58","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":762.1071624755859,"y":768.2500095367432,"z":"92a428a4.4be018","wires":[["b87379e9.53f3e8","852e8019.fd2ce"]]},{"id":"e81e121b.9d7d4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":734.6071624755859,"y":854.5000104904175,"z":"92a428a4.4be018","wires":[["d6877835.c8b078","b87379e9.53f3e8"]]},{"id":"a5973f66.bde0b","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":752.1071624755859,"y":723.2500114440918,"z":"92a428a4.4be018","wires":[["b87379e9.53f3e8","dab3d2fe.9b3b8"]]},{"id":"4038275c.842618","type":"comment","name":"changedelete is for 1604 VNF ONLY","info":"","comments":"","x":1038.857162475586,"y":903.7500133514404,"z":"92a428a4.4be018","wires":[]},{"id":"450707b1.858888","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":1229.1072082519531,"y":656.6071491241455,"z":"92a428a4.4be018","wires":[["9cbb01c7.83921"]]},{"id":"9cbb01c7.83921","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1447.107177734375,"y":656.7499866485596,"z":"92a428a4.4be018","wires":[["e698a55e.3f6698"]]},{"id":"e698a55e.3f6698","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region cannot be NULL'/>","comments":"","x":1600.9643859863281,"y":657.0357074737549,"z":"92a428a4.4be018","wires":[]},{"id":"4636fdf4.bf5944","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":982.6071662902832,"y":953.0000133514404,"z":"92a428a4.4be018","wires":[["8e8be05f.50d97"]]},{"id":"8e8be05f.50d97","type":"outcome","name":"other","xml":"<outcome value='other'>","comments":"","outputs":1,"x":1200.607135772705,"y":953.1428508758545,"z":"92a428a4.4be018","wires":[["5fc9284e.ceef08"]]},{"id":"5fc9284e.ceef08","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region can not be present for 1604 VNF changedelete'/>","comments":"","x":1354.4643440246582,"y":953.4285717010498,"z":"92a428a4.4be018","wires":[]},{"id":"1576a27c.acc86e","type":"switchNode","name":"switch: INPUT aic-clli","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.aic-clli`\">","comments":"","outputs":1,"x":952.6071853637695,"y":996.5000276565552,"z":"92a428a4.4be018","wires":[["bb182be9.4c74d8"]]},{"id":"bb182be9.4c74d8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1134.6071548461914,"y":996.6428651809692,"z":"92a428a4.4be018","wires":[["4b5b253c.5dcfcc"]]},{"id":"4b5b253c.5dcfcc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region can not be present for 1604 VNF changedelete'/>","comments":"","x":1288.4643630981445,"y":996.9285860061646,"z":"92a428a4.4be018","wires":[]},{"id":"99083217.f89ae","type":"block","name":"block","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":763.8571662902832,"y":952.7500133514404,"z":"92a428a4.4be018","wires":[["4636fdf4.bf5944","1576a27c.acc86e","18365e43.db5f52"]]},{"id":"99f9cba3.9ea678","type":"comment","name":"Removing outcome for changeDelete in 1707","info":"ks220y: Confirmed with Pat Cheung, as MSO is not at all calling with this svc action","comments":"","x":696.1904373168945,"y":911.4815158843994,"z":"92a428a4.4be018","wires":[]}]
