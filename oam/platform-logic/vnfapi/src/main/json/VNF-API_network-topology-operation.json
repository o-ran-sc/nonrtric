[{"id":"cc8952bd.01144","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$network-topology-operation-input.request-information.request-action`\">\n","comments":"","outputs":1,"x":372.8571472167969,"y":208.63279914855957,"z":"cf03aec.9922b5","wires":[["4c41531b.7bfc9c","e130a2cb.76694","77db12a6.c13bdc"]]},{"id":"4c41531b.7bfc9c","type":"other","name":"NetworkActivateRequest","xml":"<outcome value='NetworkActivateRequest'>","comments":"","outputs":1,"x":633.4604797363281,"y":207.8074131011963,"z":"cf03aec.9922b5","wires":[["3959ce4f.944012"]]},{"id":"86daa5ed.972558","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":155.53559112548828,"y":122.77776908874512,"z":"cf03aec.9922b5","wires":[["cc8952bd.01144"]]},{"id":"7d290301.28b16c","type":"method","name":"method network-topology-operation","xml":"<method rpc=\"network-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":217.09117889404297,"y":71.33332443237305,"z":"cf03aec.9922b5","wires":[["86daa5ed.972558"]]},{"id":"c478d676.6453f8","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":329.5356140136719,"y":20,"z":"cf03aec.9922b5","wires":[["7d290301.28b16c"]]},{"id":"c07c1301.4dfef","type":"dgstart","name":"DGSTART","outputs":1,"x":128.42449951171875,"y":20,"z":"cf03aec.9922b5","wires":[["c478d676.6453f8"]]},{"id":"fe0a67ff.83d1e8","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":1297.1108665466309,"y":703.3849267959595,"z":"cf03aec.9922b5","wires":[["588586d4.12fbc8"]]},{"id":"8c7a9569.d57008","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1276.9678535461426,"y":618.9527864456177,"z":"cf03aec.9922b5","wires":[["ead75f3a.51643"]]},{"id":"ead75f3a.51643","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action is not found'/>","comments":"","x":1432.3011054992676,"y":618.8099336624146,"z":"cf03aec.9922b5","wires":[]},{"id":"535fa224.5d6a7c","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":1277.3290367126465,"y":764.3809337615967,"z":"cf03aec.9922b5","wires":[["ae5d1f41.9b158"]]},{"id":"e130a2cb.76694","type":"other","name":"DisconnectNetworkRequest","xml":"<outcome value='DisconnectNetworkRequest'>","comments":"","outputs":1,"x":635.4273681640625,"y":804.8360719680786,"z":"cf03aec.9922b5","wires":[["36833426.9875fc"]]},{"id":"36833426.9875fc","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$network-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":1054.5842361450195,"y":804.6429119110107,"z":"cf03aec.9922b5","wires":[["9ce5608d.d74db","4585d7c1.f39d38","535fa224.5d6a7c"]]},{"id":"9ce5608d.d74db","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1274.7564392089844,"y":845.8952465057373,"z":"cf03aec.9922b5","wires":[["69ab51be.f77ab"]]},{"id":"4585d7c1.f39d38","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":1274.5265579223633,"y":805.2641544342041,"z":"cf03aec.9922b5","wires":[["6661afbb.fb47d"]]},{"id":"77db12a6.c13bdc","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":590.23779296875,"y":973.148886680603,"z":"cf03aec.9922b5","wires":[["64c62b7b.a65014"]]},{"id":"64c62b7b.a65014","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='request-action is not found'/>","comments":"","x":778.6143264770508,"y":972.8133153915405,"z":"cf03aec.9922b5","wires":[]},{"id":"aabe8f81.43c7f","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$network-topology-operation-input.sdnc-request-header.svc-action`\">\n<!--\nleaf svc-action { \n\ttype enumeration { \n\t\tenum \"reserve\";\n\t\tenum \"assign\";\n\t\tenum \"activate\";  // equal to commit\n\t\tenum \"delete\";\t  // equal to commit\n\t\tenum \"changeassign\";\n\t\tenum \"changedelete\";\n\t\tenum \"rollback\";\n\t}\n}\n-->\n\n","comments":"","outputs":1,"x":1064.2219123840332,"y":619.3849020004272,"z":"cf03aec.9922b5","wires":[["8c7a9569.d57008","6e355467.bd533c","fe0a67ff.83d1e8","535fa224.5d6a7c"]]},{"id":"6e355467.bd533c","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":1275.9996490478516,"y":660.6071405410767,"z":"cf03aec.9922b5","wires":[["134ac69f.15aa29"]]},{"id":"134ac69f.15aa29","type":"call","name":"call network-topology-assign","xml":"<call module=\"VNF-API\" rpc=\"network-topology-assign\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1480.4442710876465,"y":660.2737684249878,"z":"cf03aec.9922b5","wires":[[]]},{"id":"588586d4.12fbc8","type":"call","name":"call network-topology-changeassign","xml":"<call module=\"VNF-API\" rpc=\"network-topology-changeassign\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1543.7774620056152,"y":703.2738027572632,"z":"cf03aec.9922b5","wires":[[]]},{"id":"6661afbb.fb47d","type":"call","name":"call network-topology-delete","xml":"<call module=\"VNF-API\" rpc=\"network-topology-delete\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1488.4402618408203,"y":805.0198135375977,"z":"cf03aec.9922b5","wires":[[]]},{"id":"ae5d1f41.9b158","type":"call","name":"call network-topology-rollback","xml":"<call module=\"VNF-API\" rpc=\"network-topology-rollback\" mode=\"sync\" >\n","comments":"","outputs":1,"x":1495.1069526672363,"y":764.2698259353638,"z":"cf03aec.9922b5","wires":[[]]},{"id":"69ab51be.f77ab","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action is not found'/>","comments":"","x":1441.6623344421387,"y":846.2261772155762,"z":"cf03aec.9922b5","wires":[]},{"id":"657de4c7.50482c","type":"switchNode","name":"switch: INPUT tenant","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.tenant`\">","comments":"","outputs":1,"x":1074.3537902832031,"y":531.2381191253662,"z":"cf03aec.9922b5","wires":[["ccce555e.a5d1e8"]]},{"id":"8453258.a70d4d8","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":1105.0916442871094,"y":488.1388759613037,"z":"cf03aec.9922b5","wires":[["4b54d3a.984b22c"]]},{"id":"4b54d3a.984b22c","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1325.0916442871094,"y":488.1388759613037,"z":"cf03aec.9922b5","wires":[["57afe76d.be0978"]]},{"id":"57afe76d.be0978","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='aic-cloud-region is required.'/>","comments":"","x":1483.0916442871094,"y":488.1388759613037,"z":"cf03aec.9922b5","wires":[]},{"id":"7528b8c6.f78868","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='tenant is required.'/>","comments":"","x":1422.0916442871094,"y":531.1388759613037,"z":"cf03aec.9922b5","wires":[]},{"id":"ccce555e.a5d1e8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1263.0916442871094,"y":531.1388759613037,"z":"cf03aec.9922b5","wires":[["7528b8c6.f78868"]]},{"id":"52e3c7a2.607c48","type":"switchNode","name":"switch: INPUT service-id","xml":"<switch test=\"`$network-topology-operation-input.service-information.service-id`\">","comments":"","outputs":1,"x":1084.4687805175781,"y":575.250020980835,"z":"cf03aec.9922b5","wires":[["bc9b4f8e.0fd5f"]]},{"id":"bc9b4f8e.0fd5f","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1281.4687805175781,"y":575.250020980835,"z":"cf03aec.9922b5","wires":[["dcd4ec18.41266"]]},{"id":"dcd4ec18.41266","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='service-id is required.'/>","comments":"","x":1439.4687805175781,"y":575.250020980835,"z":"cf03aec.9922b5","wires":[]},{"id":"3959ce4f.944012","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":851.6071510314941,"y":207.21612358093262,"z":"cf03aec.9922b5","wires":[["8453258.a70d4d8","657de4c7.50482c","52e3c7a2.607c48","aabe8f81.43c7f","c6819f24.6143f","8b92cff3.8fb5c","d58471ed.067e"]]},{"id":"c6819f24.6143f","type":"switchNode","name":"switch test: INPUT network-name","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-name`\">","comments":"","outputs":1,"x":1108.9029693603516,"y":208.10726642608643,"z":"cf03aec.9922b5","wires":[["e79fabb5.3c1d58","68bd0f13.5871b"]]},{"id":"e79fabb5.3c1d58","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1334.3473663330078,"y":208.10725212097168,"z":"cf03aec.9922b5","wires":[["e298897.825df78"]]},{"id":"68bd0f13.5871b","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1334.1410446166992,"y":253.7580966949463,"z":"cf03aec.9922b5","wires":[["1123eaed.206925"]]},{"id":"e298897.825df78","type":"switchNode","name":"switch test: PRELOAD network-name","xml":"<switch test=\"`$preload-data.network-topology-information.network-topology-identifier.network-name`\">","comments":"","outputs":1,"x":1571.9707984924316,"y":208.3418140411377,"z":"cf03aec.9922b5","wires":[["75edc30c.2e5d1c","41291a34.1acd64"]]},{"id":"1123eaed.206925","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-name is required from input'/>","comments":"","x":1493.4188232421875,"y":253.6747341156006,"z":"cf03aec.9922b5","wires":[]},{"id":"75edc30c.2e5d1c","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1827.7918701171875,"y":207.77392864227295,"z":"cf03aec.9922b5","wires":[["b37eb3cf.6ca5f"]]},{"id":"41291a34.1acd64","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1828.2521896362305,"y":249.3135986328125,"z":"cf03aec.9922b5","wires":[["de0d4c5.4679eb"]]},{"id":"b37eb3cf.6ca5f","type":"switchNode","name":"switch: network-name INPUT == PRELOAD","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-name == $preload-data.network-topology-information.network-topology-identifier.network-name`\">","comments":"","outputs":1,"x":2091.0494232177734,"y":208.468768119812,"z":"cf03aec.9922b5","wires":[["144a5081.bac47f"]]},{"id":"de0d4c5.4679eb","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-name not found from preload-data'/>","comments":"","x":1989.7521286010742,"y":249.34133529663086,"z":"cf03aec.9922b5","wires":[]},{"id":"144a5081.bac47f","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2357.4586448669434,"y":207.77416324615479,"z":"cf03aec.9922b5","wires":[["86a746fe.7491e8"]]},{"id":"86a746fe.7491e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'No preload-data found to match input network-name = ' + $network-topology-operation-input.network-request-information.network-name`\"/>","comments":"","x":2525.014190673828,"y":207.10725212097168,"z":"cf03aec.9922b5","wires":[]},{"id":"8b92cff3.8fb5c","type":"switchNode","name":"switch test: INPUT network-type","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-type`\">","comments":"","outputs":1,"x":1110.0000610351562,"y":328.6327838897705,"z":"cf03aec.9922b5","wires":[["eb995458.ad64c8","eb85171a.141aa8"]]},{"id":"eb995458.ad64c8","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1335.4444580078125,"y":328.63276958465576,"z":"cf03aec.9922b5","wires":[["d4b33de8.c3994"]]},{"id":"eb85171a.141aa8","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1335.238136291504,"y":374.28361415863037,"z":"cf03aec.9922b5","wires":[["510d46b5.7c8cc8"]]},{"id":"d4b33de8.c3994","type":"switchNode","name":"switch test: PRELOAD network-type","xml":"<switch test=\"`$preload-data.network-topology-information.network-topology-identifier.network-type`\">","comments":"","outputs":1,"x":1573.0678901672363,"y":328.8673315048218,"z":"cf03aec.9922b5","wires":[["79e007d7.cb0018","357acb99.e99cb4"]]},{"id":"510d46b5.7c8cc8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-type is required from input'/>","comments":"","x":1494.5159149169922,"y":374.20025157928467,"z":"cf03aec.9922b5","wires":[]},{"id":"79e007d7.cb0018","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1828.8889617919922,"y":328.29944610595703,"z":"cf03aec.9922b5","wires":[["be09f603.e76d88"]]},{"id":"357acb99.e99cb4","type":"other","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1829.3492813110352,"y":369.8391160964966,"z":"cf03aec.9922b5","wires":[["4d8c7f82.8fff1"]]},{"id":"be09f603.e76d88","type":"switchNode","name":"switch: network-type INPUT == PRELOAD","xml":"<switch test=\"`$network-topology-operation-input.network-request-information.network-type == $preload-data.network-topology-information.network-topology-identifier.network-type`\">","comments":"","outputs":1,"x":2092.146514892578,"y":328.9942855834961,"z":"cf03aec.9922b5","wires":[["299c8dd.b652c72"]]},{"id":"4d8c7f82.8fff1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='network-type not found from preload-data'/>","comments":"","x":1990.849220275879,"y":369.86685276031494,"z":"cf03aec.9922b5","wires":[]},{"id":"299c8dd.b652c72","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2358.555736541748,"y":328.29968070983887,"z":"cf03aec.9922b5","wires":[["da9775b6.375548"]]},{"id":"da9775b6.375548","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value=\"`'No preload-data found to match input network-type = ' + $network-topology-operation-input.network-request-information.network-type`\"/>","comments":"","x":2526.111282348633,"y":327.63276958465576,"z":"cf03aec.9922b5","wires":[]},{"id":"d58471ed.067e","type":"switchNode","name":"switch: INPUT service-instance-id","xml":"<switch test=\"`$network-topology-operation-input.service-information.service-instance-id`\">","comments":"","outputs":1,"x":1112.8571472167969,"y":437.1428699493408,"z":"cf03aec.9922b5","wires":[["26657535.6feeaa"]]},{"id":"26657535.6feeaa","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1332.8571472167969,"y":437.1428699493408,"z":"cf03aec.9922b5","wires":[["3eb7a225.48f2be"]]},{"id":"3eb7a225.48f2be","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value='service-instance-id is required.'/>","comments":"","x":1490.8571472167969,"y":437.1428699493408,"z":"cf03aec.9922b5","wires":[]}]
