[{"id":"d2cea9e2.1fdc78","type":"dgstart","name":"DGSTART","outputs":1,"x":135.71429443359375,"y":102.85714721679688,"z":"9b38888e.2edc68","wires":[["a67d94b9.dd3888"]]},{"id":"a67d94b9.dd3888","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":168.7143096923828,"y":153.96824645996094,"z":"9b38888e.2edc68","wires":[["70ca3740.839b38"]]},{"id":"70ca3740.839b38","type":"method","name":"preload-vf-module-topology-operation","xml":"<method rpc=\"preload-vf-module-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":256.0476379394531,"y":199.079345703125,"z":"9b38888e.2edc68","wires":[["f38d7271.b1bad"]]},{"id":"f38d7271.b1bad","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":238.2221908569336,"y":259.66666412353516,"z":"9b38888e.2edc68","wires":[["b003587f.590da8"]]},{"id":"b003587f.590da8","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$preload-vf-module-topology-operation-input.request-information.request-action`\">\n\n","comments":"","outputs":1,"x":473.57139587402344,"y":304.48198413848877,"z":"9b38888e.2edc68","wires":[["c28f1e55.dce72","5b6a1c71.3ecc64","ad9bcdf5.5fbaa"]]},{"id":"c28f1e55.dce72","type":"other","name":"PreloadVfModuleRequest","xml":"<outcome value='PreloadVfModuleRequest'>","comments":"","outputs":1,"x":729.5713958740234,"y":304.48198413848877,"z":"9b38888e.2edc68","wires":[["7cee46a7.2c1b98"]]},{"id":"5b6a1c71.3ecc64","type":"other","name":"DeletePreloadVfModuleRequest","xml":"<outcome value='DeletePreloadVfModuleRequest'>","comments":"","outputs":1,"x":745.8570098876953,"y":525.6962842941284,"z":"9b38888e.2edc68","wires":[["ada7947d.7e5ed8"]]},{"id":"44ee2d8.e4dbcd4","type":"set","name":"Delete vf-module-preload-data","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"\" />\n","comments":"","x":1261.1070709228516,"y":525.4463138580322,"z":"9b38888e.2edc68","wires":[]},{"id":"ad9bcdf5.5fbaa","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":684.1427307128906,"y":644.6962747573853,"z":"9b38888e.2edc68","wires":[["7e2bfb9e.53fef4"]]},{"id":"7e2bfb9e.53fef4","type":"returnFailure","name":"return failure","xml":" <return status=\"failure\">\n\t<parameter name='error-code' value='2000'/>\n\t<parameter name='error-message' value=\"`'Invalid Request, ' + $preload-vf-module-topology-operation-input.request-information.request-action`\"/>\n\n \n","comments":"","x":932.0819244384766,"y":645.0167264938354,"z":"9b38888e.2edc68","wires":[]},{"id":"7cee46a7.2c1b98","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":970.5713958740234,"y":304.48198413848877,"z":"9b38888e.2edc68","wires":[["14e44ca1.dac4d3","d9d4f8e7.cb22b8","7176e99a.abbfc8","9914570a.6811f8","ce6fc41b.78e588"]]},{"id":"bb6a127d.cef8b","type":"returnSuccess","name":"return success","xml":"<return status=\"success\">\n\t<parameter name=\"error-code\" value=\"200\" />","comments":"","x":1350.5714416503906,"y":642.1606178283691,"z":"9b38888e.2edc68","wires":[]},{"id":"7176e99a.abbfc8","type":"set","name":"set: order-status = PendingAssignment","xml":"<set>\n\t<parameter name=\"vf-module-preload-data.oper-status.order-status\" value=\"PendingAssignment\"/>","comments":"","x":1283.5953521728516,"y":439.1051263809204,"z":"9b38888e.2edc68","wires":[]},{"id":"b3b7a80f.2755f8","type":"set","name":"Set final indicator to Y","xml":"<set>\n<parameter name=\"ack-final\" value=\"Y\"/>","comments":"","x":1371.4802551269531,"y":599.1687049865723,"z":"9b38888e.2edc68","wires":[]},{"id":"14e44ca1.dac4d3","type":"get-resource","name":"get-resource: vnf-profile.vnf-type","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" \n\tresource=\"vnf-profile\" key=\"SELECT * from VNF_PROFILE where vnf_type = $preload-vf-module-topology-operation-input.vf-module-topology-information.vf-module-identifiers.vf-module-model-id\">\n","comments":"","outputs":1,"x":1262.0914459228516,"y":304.93456268310547,"z":"9b38888e.2edc68","wires":[["e81e4681.2cd218","47e205dc.4d75fc"]]},{"id":"c6977735.6f78c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"preload vnf-model-id not found. New vnf-model-id can be added via admin portal\" />","comments":"","x":1752.4246368408203,"y":304.15673065185547,"z":"9b38888e.2edc68","wires":[]},{"id":"e81e4681.2cd218","type":"success","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1539.0913848876953,"y":304.71227264404297,"z":"9b38888e.2edc68","wires":[["c6977735.6f78c8"]]},{"id":"d9d4f8e7.cb22b8","type":"set","name":"set: vf-module-preload-data += input","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"preload-vf-module-topology-operation-input.\" />\n","comments":"","x":1276.761978149414,"y":393.40056705474854,"z":"9b38888e.2edc68","wires":[]},{"id":"47e205dc.4d75fc","type":"success","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1531.3690948486328,"y":346.2577438354492,"z":"9b38888e.2edc68","wires":[["c6977735.6f78c8"]]},{"id":"ada7947d.7e5ed8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":997.6070098876953,"y":525.6962833404541,"z":"9b38888e.2edc68","wires":[["44ee2d8.e4dbcd4","ce6fc41b.78e588"]]},{"id":"9914570a.6811f8","type":"set","name":"Delete vf-module-preload-data","xml":"<set>\n<parameter name=\"vf-module-preload-data.\" value=\"\" />\n","comments":"","x":1255.785659790039,"y":349.82149505615234,"z":"9b38888e.2edc68","wires":[]},{"id":"ce6fc41b.78e588","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1182.250015258789,"y":599.9286470413208,"z":"9b38888e.2edc68","wires":[["b3b7a80f.2755f8","bb6a127d.cef8b"]]}]
