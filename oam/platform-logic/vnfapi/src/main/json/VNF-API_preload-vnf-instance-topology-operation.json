[{"id":"acb78607.669d98","type":"dgstart","name":"DGSTART","outputs":1,"x":174.2857208251953,"y":107.14286041259766,"z":"8933f47c.8eca28","wires":[["1d5dd029.fdeb2"]]},{"id":"1d5dd029.fdeb2","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":207.28573608398438,"y":158.25395965576172,"z":"8933f47c.8eca28","wires":[["d17b44c2.cdd0f8"]]},{"id":"d17b44c2.cdd0f8","type":"method","name":"preload-vnf-instance-topology-operation","xml":"<method rpc=\"preload-vnf-instance-topology-operation\" mode=\"sync\">","comments":"","outputs":1,"x":294.6190643310547,"y":203.36505889892578,"z":"8933f47c.8eca28","wires":[["15e09d37.0dd353"]]},{"id":"15e09d37.0dd353","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":276.79361724853516,"y":263.95237731933594,"z":"8933f47c.8eca28","wires":[["e7a7dbc2.f05948"]]},{"id":"e7a7dbc2.f05948","type":"switchNode","name":"switch: request-action","xml":"<switch test=\"`$preload-vnf-instance-topology-operation-input.request-information.request-action`\">\n\n","comments":"","outputs":1,"x":512.142822265625,"y":308.76769733428955,"z":"8933f47c.8eca28","wires":[["10b04798.1315a8","2fb0d9fd.987eb6","5221dded.ffd334"]]},{"id":"10b04798.1315a8","type":"other","name":"PreloadVnfInstanceRequest","xml":"<outcome value='PreloadVnfInstanceRequest'>","comments":"","outputs":1,"x":774.142822265625,"y":308.76769733428955,"z":"8933f47c.8eca28","wires":[["c7936654.a5eee8"]]},{"id":"2fb0d9fd.987eb6","type":"other","name":"DeletePreloadVnfInstanceRequest","xml":"<outcome value='DeletePreloadVnfInstanceRequest'>","comments":"","outputs":1,"x":793.4284362792969,"y":529.9819974899292,"z":"8933f47c.8eca28","wires":[["ba7d7b73.a72568"]]},{"id":"804376ed.19eab8","type":"set","name":"Delete vnf-instance-preload-data","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"\" />\n","comments":"","x":1309.6784973144531,"y":529.732027053833,"z":"8933f47c.8eca28","wires":[]},{"id":"5221dded.ffd334","type":"other","name":"outcome: Other","xml":"<outcome value=\"Other\">\n\n","outputs":1,"x":722.7141571044922,"y":648.981987953186,"z":"8933f47c.8eca28","wires":[["11a3d982.d1fa06"]]},{"id":"11a3d982.d1fa06","type":"returnFailure","name":"return failure","xml":" <return status=\"failure\">\n\t<parameter name='error-code' value='2000'/>\n\t<parameter name='error-message' value='Invalid Request `$preload-vnf-instance-topology-operation-input.request-information.request-action`'/>\n\n \n","comments":"","x":980.6533508300781,"y":649.3024396896362,"z":"8933f47c.8eca28","wires":[]},{"id":"c7936654.a5eee8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1019.142822265625,"y":308.76769733428955,"z":"8933f47c.8eca28","wires":[["7288864f.4ca648","add8c4fe.ffd258","55c30909.4c2f38","729a6f33.9aa24","61b570ed.ef516"]]},{"id":"b9a99e15.45ee4","type":"returnSuccess","name":"return success","xml":"<return status=\"success\">\n\t<parameter name=\"error-code\" value=\"200\" />","comments":"","x":1399.1428680419922,"y":646.4463310241699,"z":"8933f47c.8eca28","wires":[]},{"id":"55c30909.4c2f38","type":"set","name":"set: order-status = PendingAssignment","xml":"<set>\n\t<parameter name=\"vnf-instance-preload-data.oper-status.order-status\" value=\"PendingAssignment\"/>","comments":"","x":1332.1667785644531,"y":443.3908395767212,"z":"8933f47c.8eca28","wires":[]},{"id":"eb852ae1.437ce8","type":"set","name":"Set final indicator to Y","xml":"<set>\n<parameter name=\"ack-final\" value=\"Y\"/>","comments":"","x":1420.0516815185547,"y":603.454418182373,"z":"8933f47c.8eca28","wires":[]},{"id":"7288864f.4ca648","type":"get-resource","name":"get-resource: vnf-profile.vnf-type","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" \n\tresource=\"vnf-profile\" key=\"SELECT * from VNF_PROFILE where vnf_type = $preload-vnf-instance-topology-operation-input.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id\">\n","comments":"","outputs":1,"x":1310.6628723144531,"y":309.22027587890625,"z":"8933f47c.8eca28","wires":[["4464022f.8d1b5c","a85fb482.a59958"]]},{"id":"1181ba91.3da815","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"preload vnf-model-id not found. New vnf-model-id can be added via admin portal\" />","comments":"","x":1800.9960632324219,"y":308.44244384765625,"z":"8933f47c.8eca28","wires":[]},{"id":"4464022f.8d1b5c","type":"success","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1587.6628112792969,"y":308.99798583984375,"z":"8933f47c.8eca28","wires":[["1181ba91.3da815"]]},{"id":"add8c4fe.ffd258","type":"set","name":"set: vnf-instance-preload-data += input","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"preload-vnf-instance-topology-operation-input.\" />\n","comments":"","x":1330.3334045410156,"y":397.6862802505493,"z":"8933f47c.8eca28","wires":[]},{"id":"a85fb482.a59958","type":"success","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1579.9405212402344,"y":350.54345703125,"z":"8933f47c.8eca28","wires":[["1181ba91.3da815"]]},{"id":"ba7d7b73.a72568","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1046.1784362792969,"y":529.9819965362549,"z":"8933f47c.8eca28","wires":[["804376ed.19eab8","61b570ed.ef516"]]},{"id":"729a6f33.9aa24","type":"set","name":"Delete vnf-instance-preload-data","xml":"<set>\n<parameter name=\"vnf-instance-preload-data.\" value=\"\" />\n","comments":"","x":1312.3570861816406,"y":354.1072082519531,"z":"8933f47c.8eca28","wires":[]},{"id":"61b570ed.ef516","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1230.8214416503906,"y":604.2143602371216,"z":"8933f47c.8eca28","wires":[["eb852ae1.437ce8","b9a99e15.45ee4"]]}]
