[{"id":"fd297644.e7c598","type":"dgstart","name":"DGSTART","outputs":1,"x":122.85714721679688,"y":74.28571319580078,"z":"fd58158c.ce6608","wires":[["c46e7454.e9c9b8"]]},{"id":"c46e7454.e9c9b8","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":290.1349105834961,"y":73.95238208770752,"z":"fd58158c.ce6608","wires":[["8e79a786.9a27d8"]]},{"id":"8e79a786.9a27d8","type":"method","name":"vnf-instance-topology-operation","xml":"<method rpc='vnf-instance-topology-operation' mode='sync'>\n","comments":"","outputs":1,"x":217.35714721679688,"y":128.50793075561523,"z":"fd58158c.ce6608","wires":[["c9295ef5.984bc"]]},{"id":"bcf03a22.4acff8","type":"switchNode","name":"switch: svc-action","xml":"<switch test=\"`$vnf-instance-topology-operation-input.sdnc-request-header.svc-action`\">\n","comments":"","outputs":1,"x":435.9126968383789,"y":594.3689575195312,"z":"fd58158c.ce6608","wires":[["8fca1abe.fbd228","ab124c9a.57743","c514096c.65a738","bfc509a.8c94bf8","ee98fdb6.3bc2b","33f9f05f.770f5"]]},{"id":"8fca1abe.fbd228","type":"other","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":653.7182998657227,"y":811.1189594268799,"z":"fd58158c.ce6608","wires":[["8b2d7ea.7a8088"]]},{"id":"ab124c9a.57743","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":653.4682540893555,"y":594.3689632415771,"z":"fd58158c.ce6608","wires":[["cc0dbb0.31d6348"]]},{"id":"8b2d7ea.7a8088","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='svc-action not recognized'/>\n","comments":"","x":867.7182998657227,"y":811.1189594268799,"z":"fd58158c.ce6608","wires":[]},{"id":"c514096c.65a738","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":656.4682693481445,"y":683.6189517974854,"z":"fd58158c.ce6608","wires":[["6753428c.6d54dc"]]},{"id":"bfc509a.8c94bf8","type":"other","name":"rollback","xml":"<outcome value='rollback'>","comments":"","outputs":1,"x":656.2182693481445,"y":725.8689527511597,"z":"fd58158c.ce6608","wires":[["cff4c731.8d74f8"]]},{"id":"33f9f05f.770f5","type":"other","name":"changeassign","xml":"<outcome value='changeassign'>","comments":"","outputs":1,"x":674.9682693481445,"y":639.868953704834,"z":"fd58158c.ce6608","wires":[["84079b33.ceeeb8"]]},{"id":"ee98fdb6.3bc2b","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":653.9682998657227,"y":767.3689603805542,"z":"fd58158c.ce6608","wires":[["820d7e4e.7102c"]]},{"id":"cc0dbb0.31d6348","type":"call","name":"call: vnf-instance-topology-assign","xml":"<call module='VNF-API' rpc='vnf-instance-topology-assign' mode='sync' >","comments":"","outputs":1,"x":927.7182540893555,"y":594.3689613342285,"z":"fd58158c.ce6608","wires":[[]]},{"id":"84079b33.ceeeb8","type":"call","name":"call: vnf-instance-topology-changeassign","xml":"<call module='VNF-API' rpc='vnf-instance-topology-changeassign' mode='sync' >","comments":"","outputs":1,"x":950.968376159668,"y":639.3689613342285,"z":"fd58158c.ce6608","wires":[[]]},{"id":"cff4c731.8d74f8","type":"call","name":"call: vnf-instance-topology-rollback","xml":"<call module='VNF-API' rpc='vnf-instance-topology-rollback' mode='sync' >","comments":"","outputs":1,"x":932.718376159668,"y":725.8689632415771,"z":"fd58158c.ce6608","wires":[[]]},{"id":"820d7e4e.7102c","type":"call","name":"call: vnf-instance-topology-delete","xml":"<call module='VNF-API' rpc='vnf-instance-topology-delete' mode='sync' >","comments":"","outputs":1,"x":928.7183685302734,"y":767.3689613342285,"z":"fd58158c.ce6608","wires":[[]]},{"id":"6753428c.6d54dc","type":"call","name":"call: vnf-instance-topology-activate","xml":"<call module='VNF-API' rpc='vnf-instance-topology-activate' mode='sync' >","comments":"","outputs":1,"x":932.2183685302734,"y":683.8689570426941,"z":"fd58158c.ce6608","wires":[[]]},{"id":"5559eeb0.3a344","type":"comment","name":"vnf-instance-topology-operation","info":"","comments":"","x":649.7460250854492,"y":119.73015689849854,"z":"fd58158c.ce6608","wires":[]},{"id":"c9295ef5.984bc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":225.85714721679688,"y":178.28572463989258,"z":"fd58158c.ce6608","wires":[["5e104a56.a77f04","4b089ba9.cc5224","bcf03a22.4acff8","f93caaf5.9786d8","738dcb6b.5f37c4"]]},{"id":"5e104a56.a77f04","type":"switchNode","name":"switch: INPUT vnf-instance-name","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-name`\">","comments":"","outputs":1,"x":491.0793762207031,"y":224.73014545440674,"z":"fd58158c.ce6608","wires":[["4888dd7b.ca0734","be681e5f.25477"]]},{"id":"4888dd7b.ca0734","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":725.0793762207031,"y":224.73014545440674,"z":"fd58158c.ce6608","wires":[["2bd3a996.402226"]]},{"id":"be681e5f.25477","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":725.0793762207031,"y":266.73014545440674,"z":"fd58158c.ce6608","wires":[["201420c1.169e5"]]},{"id":"2bd3a996.402226","type":"switchNode","name":"switch: PRELOAD vnf-instance-name","xml":"<switch test=\"`$vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-instance-name`\">","comments":"","outputs":1,"x":963.0793762207031,"y":224.73014545440674,"z":"fd58158c.ce6608","wires":[["41f12dd4.ed9824","9d58cea8.cde5d"]]},{"id":"41f12dd4.ed9824","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1196.0793762207031,"y":224.73014545440674,"z":"fd58158c.ce6608","wires":[["dc375cfa.881af"]]},{"id":"9d58cea8.cde5d","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1194.0793762207031,"y":265.73014545440674,"z":"fd58158c.ce6608","wires":[["85123cbc.181bb"]]},{"id":"dc375cfa.881af","type":"switchNode","name":"switch: vnf-instance-name INPUT == PRELOAD","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-name == $vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-instance-name`\">","comments":"","outputs":1,"x":1470.079360961914,"y":224.7301435470581,"z":"fd58158c.ce6608","wires":[["1ecb91bb.6831de"]]},{"id":"1ecb91bb.6831de","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1745.412727355957,"y":224.39704608917236,"z":"fd58158c.ce6608","wires":[["154ef7f.4af5608"]]},{"id":"154ef7f.4af5608","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='404'/>\n\t<parameter name='error-message' value='vnf-instance-name from input not found in vnf-instance-preload-data'/>","comments":"","x":1904.0793533325195,"y":224.73014545440674,"z":"fd58158c.ce6608","wires":[]},{"id":"85123cbc.181bb","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-instance-name from input'/>","comments":"","x":1361.0793762207031,"y":265.73014545440674,"z":"fd58158c.ce6608","wires":[]},{"id":"201420c1.169e5","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-instance-name is required'/>","comments":"","x":886.5793762207031,"y":266.98014545440674,"z":"fd58158c.ce6608","wires":[]},{"id":"4b089ba9.cc5224","type":"switchNode","name":"switch: INPUT vnf-model-id","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-model-id`\">","comments":"","outputs":1,"x":471.07940673828125,"y":312.73014545440674,"z":"fd58158c.ce6608","wires":[["1c8fb5e0.30549a","8375a795.3229a8"]]},{"id":"1c8fb5e0.30549a","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":688.0793991088867,"y":313.73014545440674,"z":"fd58158c.ce6608","wires":[["4de2da3a.8608c4"]]},{"id":"8375a795.3229a8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":689.0793991088867,"y":356.73014545440674,"z":"fd58158c.ce6608","wires":[["73308a13.e64bb4"]]},{"id":"4de2da3a.8608c4","type":"switchNode","name":"switch: PRELOAD vnf-model-id","xml":"<switch test=\"`$vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id`\">","comments":"","outputs":1,"x":899.0793991088867,"y":313.73014545440674,"z":"fd58158c.ce6608","wires":[["bdac221b.8b4d2","1346493e.864997"]]},{"id":"bdac221b.8b4d2","type":"outcome","name":"Other","xml":"<outcome value='Other'>","comments":"","outputs":1,"x":1110.0793991088867,"y":313.73014545440674,"z":"fd58158c.ce6608","wires":[["530c77e7.241608"]]},{"id":"1346493e.864997","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":1111.0793991088867,"y":355.73014545440674,"z":"fd58158c.ce6608","wires":[["9daf4382.f092a"]]},{"id":"73308a13.e64bb4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vnf-model-id is required'/>","comments":"","x":842.5793991088867,"y":356.98014545440674,"z":"fd58158c.ce6608","wires":[]},{"id":"530c77e7.241608","type":"switchNode","name":"switch: vnf-model-id INPUT == PRELOAD","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-model-id == $vnf-instance-preload-data.vnf-instance-topology-information.vnf-instance-identifiers.vnf-model-id`\">","comments":"","outputs":1,"x":1358.0793762207031,"y":313.73014545440674,"z":"fd58158c.ce6608","wires":[["ad4966b9.8c18d8"]]},{"id":"9daf4382.f092a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='No preload data found to match vnf-model-id from input'/>","comments":"","x":1270.0793762207031,"y":355.73014545440674,"z":"fd58158c.ce6608","wires":[]},{"id":"ad4966b9.8c18d8","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1607.0793762207031,"y":313.06364154815674,"z":"fd58158c.ce6608","wires":[["29ab6ac5.37ac76"]]},{"id":"29ab6ac5.37ac76","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='404'/>\n\t<parameter name='error-message' value='request.vnf-model-id not found in vnf-instance-preload-data'/>","comments":"","x":1765.7460021972656,"y":312.3967409133911,"z":"fd58158c.ce6608","wires":[]},{"id":"f93caaf5.9786d8","type":"switchNode","name":"switch: INPUT vnf-instance-id","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.vnf-instance-id`\">","comments":"","outputs":1,"x":476.75804901123047,"y":407.19447231292725,"z":"fd58158c.ce6608","wires":[["8a575356.8ffc1","3b617d0c.95eb72"]]},{"id":"3b617d0c.95eb72","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":695.7580184936523,"y":448.3373098373413,"z":"fd58158c.ce6608","wires":[["c5bccaf4.2f4438"]]},{"id":"8a575356.8ffc1","type":"outcome","name":"0","xml":"<outcome value='0'>","comments":"","outputs":1,"x":694.9009475708008,"y":406.765908241272,"z":"fd58158c.ce6608","wires":[["c5bccaf4.2f4438"]]},{"id":"c5bccaf4.2f4438","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='vf-instance-id cannot be NULL or 0'/>","comments":"","x":870.6152267456055,"y":448.6230306625366,"z":"fd58158c.ce6608","wires":[]},{"id":"738dcb6b.5f37c4","type":"switchNode","name":"switch: INPUT aic-cloud-region","xml":"<switch test=\"`$vnf-instance-topology-operation-input.vnf-instance-request-information.aic-cloud-region`\">","comments":"","outputs":1,"x":478.60716247558594,"y":529.7857036590576,"z":"fd58158c.ce6608","wires":[["db22259e.8012b8"]]},{"id":"db22259e.8012b8","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":696.6071319580078,"y":529.9285411834717,"z":"fd58158c.ce6608","wires":[["a48a127d.62bfa"]]},{"id":"a48a127d.62bfa","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='aic-cloud-region cannot be NULL'/>","comments":"","x":850.4643402099609,"y":530.214262008667,"z":"fd58158c.ce6608","wires":[]}]
