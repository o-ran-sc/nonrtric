[{"id":"a17f2c56.75bec","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":257.8570556640625,"y":235.57144355773926,"z":"e9465f3b.ff9db","wires":[["277a3558.11867a","35cf5f24.d47eb","bd77133.bab7af","ede0237b.f3b56","95956b76.93c358","c369ede6.f62b2","834d2cf5.5a461","e2863c33.6bb83"]]},{"id":"277a3558.11867a","type":"set","name":"set: order-status = Deleted","xml":"<set>\n\t<parameter name=\"service-data.oper-status.order-status\" value=\"Deleted\"/>","comments":"","x":542.2856979370117,"y":452.8453245162964,"z":"e9465f3b.ff9db","wires":[]},{"id":"3840051b.85529a","type":"method","name":"method vnf-topology-automated-delete","xml":"<method rpc='vnf-topology-automated-delete' mode='sync'>\n","comments":"","outputs":1,"x":250.9523468017578,"y":154.73809337615967,"z":"e9465f3b.ff9db","wires":[["a17f2c56.75bec"]]},{"id":"6ea1ded.d5f8b2","type":"service-logic","name":"VNF-API ${project.version}","module":"VNF-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='VNF-API' version='${project.version}'>","outputs":1,"x":333.33326721191406,"y":74.16667461395264,"z":"e9465f3b.ff9db","wires":[["3840051b.85529a"]]},{"id":"8a168a7b.717948","type":"dgstart","name":"DGSTART","outputs":1,"x":123.49994659423828,"y":74,"z":"e9465f3b.ff9db","wires":[["6ea1ded.d5f8b2"]]},{"id":"6ca1cda5.7a4a04","type":"other","name":"false","xml":"<outcome value='false'>","comments":"","outputs":1,"x":749.0671157836914,"y":289.7478561401367,"z":"e9465f3b.ff9db","wires":[["b065b223.b815b"]]},{"id":"b065b223.b815b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='400'/>\n\t<parameter name='error-message' value='Invalid order-status'/>","comments":"","x":901.4002456665039,"y":289.74791717529297,"z":"e9465f3b.ff9db","wires":[]},{"id":"bd77133.bab7af","type":"set","name":"set: last-action ","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-action\" value=\"`$service-data.request-information.request-action`\"/>","comments":"","x":503.5432891845703,"y":500.6766357421875,"z":"e9465f3b.ff9db","wires":[]},{"id":"35cf5f24.d47eb","type":"set","name":"set: last-order-status = order-status","xml":"<set>\n\t<parameter name=\"service-data.oper-status.last-order-status\" value=\"`$service-data.oper-status.order-status`\"/>","comments":"","x":568.6796417236328,"y":403.0114555358887,"z":"e9465f3b.ff9db","wires":[]},{"id":"ede0237b.f3b56","type":"set","name":"Clear vnf topology","xml":"<set>\n\t<parameter name=\"service-data.\" value=\"\" /> \n","comments":"","x":511.2510757446289,"y":550.868616104126,"z":"e9465f3b.ff9db","wires":[]},{"id":"c369ede6.f62b2","type":"switchNode","name":"switch: order-status = Active","xml":"<switch test=\"`$service-data.oper-status.order-status == Active`\">","comments":"","outputs":1,"x":547.2500152587891,"y":290.04765701293945,"z":"e9465f3b.ff9db","wires":[["6ca1cda5.7a4a04"]]},{"id":"95956b76.93c358","type":"set","name":"Set final indicator to Y","xml":"<set>\n<parameter name=\"ack-final\" value=\"Y\"/>","comments":"","x":521.1428985595703,"y":596.0715312957764,"z":"e9465f3b.ff9db","wires":[]},{"id":"834d2cf5.5a461","type":"switchNode","name":"switch:vnf-id   config == input","xml":"<switch test=\"`$vnf-topology-operation-input.vnf-request-information.vnf-id == $service-data.vnf-id`\">","comments":"","outputs":1,"x":547.1428451538086,"y":234.8571605682373,"z":"e9465f3b.ff9db","wires":[["6c92b5e8.1192bc"]]},{"id":"6c92b5e8.1192bc","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":748.5974044799805,"y":235.03898811340332,"z":"e9465f3b.ff9db","wires":[["caf756bf.ce79e8"]]},{"id":"caf756bf.ce79e8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='404'/>\n\t<parameter name='error-message' value='vnf-id not found'/>","comments":"","x":912.1883239746094,"y":235.19808864593506,"z":"e9465f3b.ff9db","wires":[]},{"id":"e2863c33.6bb83","type":"call","name":"call: rollback-eipam-ip-assignment","xml":"<call module='VNF-API' rpc='rollback-eipam-ip-assignment' mode='sync' >","comments":"","outputs":1,"x":567.1428833007812,"y":344.28573417663574,"z":"e9465f3b.ff9db","wires":[[]]}]
