<service-logic
    xmlns='http://www.onap.org/sdnc/svclogic'
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>
    <method rpc='getpathsegment-composite-match-pair' mode='sync'>
        <block>
            <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >
                <parameter name='filename' value='/var/tmp/gpsc.log' />
            </execute>
            <for index='left-node-index' start='0' end='`$serv-cust_length - 1`' >
                <block>
                    <set>
                        <parameter name='right-node-index' value='`$left-node-index + 1`' />
                    </set>
                    <for silentFailure='true' index='left-serv-index' start='0' end='`$serv-cust[$left-node-index].serv-insts_length`' >
                        <block>
                            <set>
                                <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length' value='0' />
                            </set>
                            <for silentFailure='true' index='right-serv-index' start='0' end='`$serv-cust[$right-node-index].serv-insts_length`' >
                                <block>
                                    <switch test='`$match-type`'>
                                        <outcome value='network-name'>
                                            <block>
                                                <set>
                                                    <parameter name='found-match' value='false' />
                                                </set>
                                                <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`'>
                                                    <outcome value=''>
                                                        <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`'>
                                                            <outcome value=''>
                                                                <block>
                                                                    <set>
                                                                        <parameter name='vnf-index' value='0' />
                                                                        <parameter name='left-vnf-index' value='0' />
                                                                        <parameter name='right-vnf-index' value='0' />
                                                                    </set>
                                                                    <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                        <block>
                                                                            <switch test="`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == 'oam'`">
                                                                                <outcome value='false'>
                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                            <outcome value='true'>
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='found-match' value='true' />
                                                                                                    </set>
                                                                                                    <break/>
                                                                                                </block>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                    </for>
                                                                                </outcome>
                                                                            </switch>
                                                                            <switch test='`$found-match`'>
                                                                                <outcome value='true'>
                                                                                    <break/>
                                                                                </outcome>
                                                                            </switch>
                                                                        </block>
                                                                    </for>
                                                                </block>
                                                            </outcome>
                                                            <outcome value='0'>
                                                                <block>
                                                                    <set>
                                                                        <parameter name='vnf-index' value='0' />
                                                                        <parameter name='left-vnf-index' value='0' />
                                                                        <parameter name='right-vnf-index' value='0' />
                                                                    </set>
                                                                    <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                        <block>
                                                                            <switch test="`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == 'oam'`">
                                                                                <outcome value='false'>
                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                            <outcome value='true'>
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='found-match' value='true' />
                                                                                                    </set>
                                                                                                    <break/>
                                                                                                </block>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                    </for>
                                                                                </outcome>
                                                                            </switch>
                                                                            <switch test='`$found-match`'>
                                                                                <outcome value='true'>
                                                                                    <break/>
                                                                                </outcome>
                                                                            </switch>
                                                                        </block>
                                                                    </for>
                                                                </block>
                                                            </outcome>
                                                            <outcome value='Other'>
                                                                <for index='right-fp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                    <for index='right-sp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path_length`' >
                                                                        <block>
                                                                            <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >
                                                                                <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id
  == 1`'>
                                                                                    <outcome value='true'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />
                                                                                            </set>
                                                                                            <break/>
                                                                                        </block>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </for>
                                                                            <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                <block>
                                                                                    <switch test='`$right-vnf-instance-id
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>
                                                                                        <outcome value='true'>
                                                                                            <block>
                                                                                                <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >
                                                                                                    <block>
                                                                                                        <for index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                            <block>
                                                                                                                <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                        <outcome value='true'>
                                                                                                                            <block>
                                                                                                                                <set>
                                                                                                                                    <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$right-vnf-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                    <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='found-match' value='true' />
                                                                                                                                </set>
                                                                                                                                <break/>
                                                                                                                            </block>
                                                                                                                        </outcome>
                                                                                                                    </switch>
                                                                                                                </for>
                                                                                                                <switch test='`$found-match`'>
                                                                                                                    <outcome value='true'>
                                                                                                                        <break/>
                                                                                                                    </outcome>
                                                                                                                </switch>
                                                                                                            </block>
                                                                                                        </for>
                                                                                                    </block>
                                                                                                </for>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test='`$found-match`'>
                                                                                        <outcome value='true'>
                                                                                            <break/>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                        </block>
                                                                    </for>
                                                                </for>
                                                            </outcome>
                                                        </switch>
                                                    </outcome>
                                                    <outcome value='0'>
                                                        <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`'>
                                                            <outcome value=''>
                                                                <block>
                                                                    <set>
                                                                        <parameter name='vnf-index' value='0' />
                                                                        <parameter name='left-vnf-index' value='0' />
                                                                        <parameter name='right-vnf-index' value='0' />
                                                                    </set>
                                                                    <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                        <block>
                                                                            <switch test="`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == 'oam'`">
                                                                                <outcome value='false'>
                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                            <outcome value='true'>
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='found-match' value='true' />
                                                                                                    </set>
                                                                                                    <break/>
                                                                                                </block>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                    </for>
                                                                                </outcome>
                                                                            </switch>
                                                                            <switch test='`$found-match`'>
                                                                                <outcome value='true'>
                                                                                    <break/>
                                                                                </outcome>
                                                                            </switch>
                                                                        </block>
                                                                    </for>
                                                                </block>
                                                            </outcome>
                                                            <outcome value='0'>
                                                                <block>
                                                                    <set>
                                                                        <parameter name='vnf-index' value='0' />
                                                                        <parameter name='left-vnf-index' value='0' />
                                                                        <parameter name='right-vnf-index' value='0' />
                                                                    </set>
                                                                    <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                        <block>
                                                                            <switch test="`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == 'oam'`">
                                                                                <outcome value='false'>
                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                            <outcome value='true'>
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='found-match' value='true' />
                                                                                                    </set>
                                                                                                    <break/>
                                                                                                </block>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                    </for>
                                                                                </outcome>
                                                                            </switch>
                                                                            <switch test='`$found-match`'>
                                                                                <outcome value='true'>
                                                                                    <break/>
                                                                                </outcome>
                                                                            </switch>
                                                                        </block>
                                                                    </for>
                                                                </block>
                                                            </outcome>
                                                            <outcome value='Other'>
                                                                <for index='right-fp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                    <for index='right-sp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path_length`' >
                                                                        <block>
                                                                            <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >
                                                                                <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id
  == 1`'>
                                                                                    <outcome value='true'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />
                                                                                            </set>
                                                                                            <break/>
                                                                                        </block>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </for>
                                                                            <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                <block>
                                                                                    <switch test='`$right-vnf-instance-id
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>
                                                                                        <outcome value='true'>
                                                                                            <block>
                                                                                                <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >
                                                                                                    <block>
                                                                                                        <for index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                            <block>
                                                                                                                <for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                        <outcome value='true'>
                                                                                                                            <block>
                                                                                                                                <set>
                                                                                                                                    <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$right-vnf-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                    <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='found-match' value='true' />
                                                                                                                                </set>
                                                                                                                                <break/>
                                                                                                                            </block>
                                                                                                                        </outcome>
                                                                                                                    </switch>
                                                                                                                </for>
                                                                                                                <switch test='`$found-match`'>
                                                                                                                    <outcome value='true'>
                                                                                                                        <break/>
                                                                                                                    </outcome>
                                                                                                                </switch>
                                                                                                            </block>
                                                                                                        </for>
                                                                                                    </block>
                                                                                                </for>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test='`$found-match`'>
                                                                                        <outcome value='true'>
                                                                                            <break/>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                        </block>
                                                                    </for>
                                                                </for>
                                                            </outcome>
                                                        </switch>
                                                    </outcome>
                                                    <outcome value='Other'>
                                                        <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`'>
                                                            <outcome value=''>
                                                                <for index='left-fp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                    <for index='left-sp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path_length`' >
                                                                        <block>
                                                                            <set>
                                                                                <parameter name='max-seq' value='-1' />
                                                                            </set>
                                                                            <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf_length`' >
                                                                                <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id
  &gt; $max-seq`'>
                                                                                    <outcome value='true'>
                                                                                        <set>
                                                                                            <parameter name='max-seq'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id`' />
                                                                                            <parameter name='left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-instance-id`' />
                                                                                        </set>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </for>
                                                                            <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >
                                                                                <block>
                                                                                    <switch test='`$left-vnf-instance-id
  == $serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`'>
                                                                                        <outcome value='true'>
                                                                                            <block>
                                                                                                <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                                    <block>
                                                                                                        <for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                            <block>
                                                                                                                <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                        <outcome value='true'>
                                                                                                                            <block>
                                                                                                                                <set>
                                                                                                                                    <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$left-vnf-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='found-match' value='true' />
                                                                                                                                </set>
                                                                                                                                <break/>
                                                                                                                            </block>
                                                                                                                        </outcome>
                                                                                                                    </switch>
                                                                                                                </for>
                                                                                                                <switch test='`$found-match`'>
                                                                                                                    <outcome value='true'>
                                                                                                                        <break/>
                                                                                                                    </outcome>
                                                                                                                </switch>
                                                                                                            </block>
                                                                                                        </for>
                                                                                                    </block>
                                                                                                </for>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test='`$found-match`'>
                                                                                        <outcome value='true'>
                                                                                            <break/>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                        </block>
                                                                    </for>
                                                                </for>
                                                            </outcome>
                                                            <outcome value='0'>
                                                                <for index='left-fp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                    <for index='left-sp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path_length`' >
                                                                        <block>
                                                                            <set>
                                                                                <parameter name='max-seq' value='-1' />
                                                                            </set>
                                                                            <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf_length`' >
                                                                                <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id
  &gt; $max-seq`'>
                                                                                    <outcome value='true'>
                                                                                        <set>
                                                                                            <parameter name='max-seq'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id`' />
                                                                                            <parameter name='left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-instance-id`' />
                                                                                        </set>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </for>
                                                                            <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >
                                                                                <block>
                                                                                    <switch test='`$left-vnf-instance-id
  == $serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`'>
                                                                                        <outcome value='true'>
                                                                                            <block>
                                                                                                <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                                    <block>
                                                                                                        <for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                            <block>
                                                                                                                <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                        <outcome value='true'>
                                                                                                                            <block>
                                                                                                                                <set>
                                                                                                                                    <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$left-vnf-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />
                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                </set>
                                                                                                                                <set>
                                                                                                                                    <parameter name='found-match' value='true' />
                                                                                                                                </set>
                                                                                                                                <break/>
                                                                                                                            </block>
                                                                                                                        </outcome>
                                                                                                                    </switch>
                                                                                                                </for>
                                                                                                                <switch test='`$found-match`'>
                                                                                                                    <outcome value='true'>
                                                                                                                        <break/>
                                                                                                                    </outcome>
                                                                                                                </switch>
                                                                                                            </block>
                                                                                                        </for>
                                                                                                    </block>
                                                                                                </for>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test='`$found-match`'>
                                                                                        <outcome value='true'>
                                                                                            <break/>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                        </block>
                                                                    </for>
                                                                </for>
                                                            </outcome>
                                                            <outcome value='Other'>
                                                                <block>
                                                                    <for index='left-fp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                        <for index='left-sp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path_length`' >
                                                                            <block>
                                                                                <set>
                                                                                    <parameter name='max-seq' value='-1' />
                                                                                </set>
                                                                                <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf_length`' >
                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id
  &gt; $max-seq`'>
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='max-seq'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id`' />
                                                                                                <parameter name='left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-instance-id`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </for>
                                                                                <for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >
                                                                                    <block>
                                                                                        <switch test='`$left-vnf-instance-id
  == $serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`'>
                                                                                            <outcome value='true'>
                                                                                                <block>
                                                                                                    <for index='right-fp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`' >
                                                                                                        <for index='right-sp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path_length`' >
                                                                                                            <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`'>
                                                                                                                <outcome value=''>
                                                                                                                    <block>
                                                                                                                        <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >
                                                                                                                            <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id
  == 1`'>
                                                                                                                                <outcome value='true'>
                                                                                                                                    <block>
                                                                                                                                        <set>
                                                                                                                                            <parameter name='right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />
                                                                                                                                        </set>
                                                                                                                                        <break/>
                                                                                                                                    </block>
                                                                                                                                </outcome>
                                                                                                                            </switch>
                                                                                                                        </for>
                                                                                                                        <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                                                            <block>
                                                                                                                                <switch test='`$right-vnf-instance-id
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>
                                                                                                                                    <outcome value='true'>
                                                                                                                                        <block>
                                                                                                                                            <set>
                                                                                                                                                <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index'
  value='`$right-vnf-index`' />
                                                                                                                                            </set>
                                                                                                                                            <break/>
                                                                                                                                        </block>
                                                                                                                                    </outcome>
                                                                                                                                </switch>
                                                                                                                            </block>
                                                                                                                        </for>
                                                                                                                        <block>
                                                                                                                            <set>
                                                                                                                                <parameter name='right-vnf-index'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`' />
                                                                                                                            </set>
                                                                                                                            <for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                                                <block>
                                                                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                                            <outcome value='true'>
                                                                                                                                                <block>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                                    </set>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />
                                                                                                                                                        <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                                    </set>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='found-match' value='true' />
                                                                                                                                                    </set>
                                                                                                                                                    <break/>
                                                                                                                                                </block>
                                                                                                                                            </outcome>
                                                                                                                                        </switch>
                                                                                                                                    </for>
                                                                                                                                    <switch test='`$found-match`'>
                                                                                                                                        <outcome value='true'>
                                                                                                                                            <break/>
                                                                                                                                        </outcome>
                                                                                                                                    </switch>
                                                                                                                                </block>
                                                                                                                            </for>
                                                                                                                        </block>
                                                                                                                    </block>
                                                                                                                </outcome>
                                                                                                                <outcome value='0'>
                                                                                                                    <block>
                                                                                                                        <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >
                                                                                                                            <switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id
  == 1`'>
                                                                                                                                <outcome value='true'>
                                                                                                                                    <block>
                                                                                                                                        <set>
                                                                                                                                            <parameter name='right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />
                                                                                                                                        </set>
                                                                                                                                        <break/>
                                                                                                                                    </block>
                                                                                                                                </outcome>
                                                                                                                            </switch>
                                                                                                                        </for>
                                                                                                                        <for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >
                                                                                                                            <block>
                                                                                                                                <switch test='`$right-vnf-instance-id
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>
                                                                                                                                    <outcome value='true'>
                                                                                                                                        <block>
                                                                                                                                            <set>
                                                                                                                                                <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index'
  value='`$right-vnf-index`' />
                                                                                                                                            </set>
                                                                                                                                            <break/>
                                                                                                                                        </block>
                                                                                                                                    </outcome>
                                                                                                                                </switch>
                                                                                                                            </block>
                                                                                                                        </for>
                                                                                                                        <block>
                                                                                                                            <set>
                                                                                                                                <parameter name='right-vnf-index'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`' />
                                                                                                                            </set>
                                                                                                                            <for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                                                <block>
                                                                                                                                    <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                                                        <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                                            <outcome value='true'>
                                                                                                                                                <block>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                                    </set>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />
                                                                                                                                                        <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />
                                                                                                                                                        <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                                    </set>
                                                                                                                                                    <set>
                                                                                                                                                        <parameter name='found-match' value='true' />
                                                                                                                                                    </set>
                                                                                                                                                    <break/>
                                                                                                                                                </block>
                                                                                                                                            </outcome>
                                                                                                                                        </switch>
                                                                                                                                    </for>
                                                                                                                                    <switch test='`$found-match`'>
                                                                                                                                        <outcome value='true'>
                                                                                                                                            <break/>
                                                                                                                                        </outcome>
                                                                                                                                    </switch>
                                                                                                                                </block>
                                                                                                                            </for>
                                                                                                                        </block>
                                                                                                                    </block>
                                                                                                                </outcome>
                                                                                                                <outcome value='Other'>
                                                                                                                    <block>
                                                                                                                        <set>
                                                                                                                            <parameter name='right-vnf-index'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`' />
                                                                                                                        </set>
                                                                                                                        <for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >
                                                                                                                            <block>
                                                                                                                                <for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >
                                                                                                                                    <switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name
  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>
                                                                                                                                        <outcome value='true'>
                                                                                                                                            <block>
                                                                                                                                                <set>
                                                                                                                                                    <parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />
                                                                                                                                                </set>
                                                                                                                                                <set>
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />
                                                                                                                                                    <parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'
  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />
                                                                                                                                                    <parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'
  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />
                                                                                                                                                </set>
                                                                                                                                                <set>
                                                                                                                                                    <parameter name='found-match' value='true' />
                                                                                                                                                </set>
                                                                                                                                                <break/>
                                                                                                                                            </block>
                                                                                                                                        </outcome>
                                                                                                                                    </switch>
                                                                                                                                </for>
                                                                                                                                <switch test='`$found-match`'>
                                                                                                                                    <outcome value='true'>
                                                                                                                                        <break/>
                                                                                                                                    </outcome>
                                                                                                                                </switch>
                                                                                                                            </block>
                                                                                                                        </for>
                                                                                                                    </block>
                                                                                                                </outcome>
                                                                                                            </switch>
                                                                                                        </for>
                                                                                                    </for>
                                                                                                </block>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                        <switch test='`$found-match`'>
                                                                                            <outcome value='true'>
                                                                                                <break/>
                                                                                            </outcome>
                                                                                        </switch>
                                                                                    </block>
                                                                                </for>
                                                                            </block>
                                                                        </for>
                                                                    </for>
                                                                </block>
                                                            </outcome>
                                                        </switch>
                                                    </outcome>
                                                </switch>
                                            </block>
                                        </outcome>
                                    </switch>
                                </block>
                            </for>
                        </block>
                    </for>
                </block>
            </for>
            <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >
                <parameter name='filename' value='/var/tmp/gpsd.log' />
            </execute>
            <set>
                <parameter name='path-index' value='0' />
            </set>
            <for silentFailure='true' index='first-serv-index' start='0' end='`$serv-cust[0].serv-insts_length`' >
                <switch test='`$serv-cust[0].serv-insts[$first-serv-index].path-segments_length`'>
                    <outcome value=''>
                        <block></block>
                    </outcome>
                    <outcome value='0'>
                        <block></block>
                    </outcome>
                    <outcome value='Other'>
                        <block>
                            <set>
                                <parameter name='cur-vnf-seq' value='1' />
                            </set>
                            <set>
                                <parameter name='end-to-end-path' value='false' />
                            </set>
                            <execute plugin="org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils" method="generateUUID" >
                                <parameter name="ctx-destination" value="tmp.service-path-instance-id" />
                            </execute>
                            <set>
                                <parameter name='service-paths.service-path[$path-index].service-path-instance-id' value='`$tmp.service-path-instance-id`' />
                                <parameter name='service-paths.service-path[$path-index].service-path-instance-name'
  value='`$db.path-segment[0].path-name + $tmp.service-path-instance-id`' />
                            </set>
                            <switch test='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`'>
                                <outcome value=''>
                                    <block>
                                        <set>
                                            <parameter name='service-paths.service-path[$path-index].service_length' value='1' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].service-instance-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-path-sequence-id'
  value='1' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vnf-instance-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vf-module-instance.vf-module-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vf-module-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf_length'
  value='1' />
                                        </set>
                                        <set>
                                            <parameter name='cur-vnf-seq' value='`$cur-vnf-seq + 1`' />
                                        </set>
                                    </block>
                                </outcome>
                                <outcome value='0'>
                                    <block>
                                        <set>
                                            <parameter name='service-paths.service-path[$path-index].service_length' value='1' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].service-instance-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-path-sequence-id'
  value='1' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vnf-instance-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vf-module-instance.vf-module-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vf-module-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf_length'
  value='1' />
                                        </set>
                                        <set>
                                            <parameter name='cur-vnf-seq' value='`$cur-vnf-seq + 1`' />
                                        </set>
                                    </block>
                                </outcome>
                                <outcome value='Other'>
                                    <block>
                                        <set>
                                            <parameter name='max-vnf-seq' value='-1' />
                                            <parameter name='max-vnf-idx' value='-1' />
                                        </set>
                                        <set>
                                            <parameter name='service-paths.service-path[$path-index].service_length' value='1' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].service-instance-id`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].service-path-sequence-id'
  value='1' />
                                        </set>
                                        <for index='idx' start='0' end='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' >
                                            <block>
                                                <set>
                                                    <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                </set>
                                                <set>
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].left-network-name`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].left-network-role`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].right-network-name`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].right-network-role`' />
                                                    <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                </set>
                                                <switch test='`$service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id
  &gt; $max-vnf-seq`'>
                                                    <outcome value='true'>
                                                        <set>
                                                            <parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                            <parameter name='max-vnf-idx' value='`$idx`' />
                                                        </set>
                                                    </outcome>
                                                </switch>
                                            </block>
                                        </for>
                                        <set>
                                            <parameter name='cur-vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' />
                                        </set>
                                        <set>
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$max-vnf-idx].right-network-name'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$max-vnf-idx].right-network-role'
  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />
                                        </set>
                                        <set>
                                            <parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf_length'
  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' />
                                        </set>
                                    </block>
                                </outcome>
                            </switch>
                            <set>
                                <parameter name='next-service-instance-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-service-instance-id`' />
                                <parameter name='prev-network-name' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />
                                <parameter name='prev-network-role' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />
                                <parameter name='next-vnf-instance-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-vnf-instance-id`' />
                                <parameter name='next-vf-module-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-vf-module-id`' />
                            </set>
                            <for index='node-index' start='1' end='`$serv-cust_length`' >
                                <block>
                                    <set>
                                        <parameter name='found-match' value='false' />
                                    </set>
                                    <for index='serv-index' start='0' end='`$serv-cust[$node-index].serv-insts_length`' >
                                        <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments_length`'>
                                            <outcome value=''>
                                                <switch test='`$node-index == $serv-cust_length - 1`'>
                                                    <outcome value='false'>
                                                        <block></block>
                                                    </outcome>
                                                    <outcome value='true'>
                                                        <block>
                                                            <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id
  == $next-service-instance-id`'>
                                                                <outcome value='true'>
                                                                    <block>
                                                                        <set>
                                                                            <parameter name='found-match' value='true' />
                                                                        </set>
                                                                        <switch test='`$node-index == $serv-cust_length - 1`'>
                                                                            <outcome value='true'>
                                                                                <block>
                                                                                    <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                                        <outcome value=''>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                        <outcome value='0'>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                        <outcome value='Other'>
                                                                                            <block>
                                                                                                <set>
                                                                                                    <parameter name='min-vnf-seq' value='99' />
                                                                                                    <parameter name='min-vnf-idx' value='99' />
                                                                                                </set>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                </set>
                                                                                                <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' >
                                                                                                    <block>
                                                                                                        <set>
                                                                                                            <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                                        </set>
                                                                                                        <set>
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                                        </set>
                                                                                                        <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &lt; $min-vnf-seq`'>
                                                                                                            <outcome value='true'>
                                                                                                                <set>
                                                                                                                    <parameter name='min-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                                    <parameter name='min-vnf-idx' value='`$idx`' />
                                                                                                                </set>
                                                                                                            </outcome>
                                                                                                        </switch>
                                                                                                    </block>
                                                                                                </for>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-name'
  value='`$prev-network-name`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-role'
  value='`$prev-network-role`' />
                                                                                                </set>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' />
                                                                                                </set>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <set>
                                                                                        <parameter name='end-to-end-path' value='true' />
                                                                                    </set>
                                                                                </block>
                                                                            </outcome>
                                                                            <outcome value='false'>
                                                                                <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                                    <outcome value=''>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                    <outcome value='0'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                    <outcome value='Other'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='-1' />
                                                                                                <parameter name='max-vnf-idx' value='-1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                            </set>
                                                                                            <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' >
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                                    </set>
                                                                                                    <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &gt; $max-vnf-seq`'>
                                                                                                        <outcome value='true'>
                                                                                                            <set>
                                                                                                                <parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                                <parameter name='max-vnf-idx' value='`$idx`' />
                                                                                                            </set>
                                                                                                        </outcome>
                                                                                                    </switch>
                                                                                                </block>
                                                                                            </for>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </outcome>
                                                                        </switch>
                                                                        <break/>
                                                                    </block>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </outcome>
                                                </switch>
                                            </outcome>
                                            <outcome value='0'>
                                                <switch test='`$node-index == $serv-cust_length - 1`'>
                                                    <outcome value='false'>
                                                        <block></block>
                                                    </outcome>
                                                    <outcome value='true'>
                                                        <block>
                                                            <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id
  == $next-service-instance-id`'>
                                                                <outcome value='true'>
                                                                    <block>
                                                                        <set>
                                                                            <parameter name='found-match' value='true' />
                                                                        </set>
                                                                        <switch test='`$node-index == $serv-cust_length - 1`'>
                                                                            <outcome value='true'>
                                                                                <block>
                                                                                    <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                                        <outcome value=''>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                        <outcome value='0'>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                        <outcome value='Other'>
                                                                                            <block>
                                                                                                <set>
                                                                                                    <parameter name='min-vnf-seq' value='99' />
                                                                                                    <parameter name='min-vnf-idx' value='99' />
                                                                                                </set>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                </set>
                                                                                                <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' >
                                                                                                    <block>
                                                                                                        <set>
                                                                                                            <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                                        </set>
                                                                                                        <set>
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                                        </set>
                                                                                                        <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &lt; $min-vnf-seq`'>
                                                                                                            <outcome value='true'>
                                                                                                                <set>
                                                                                                                    <parameter name='min-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                                    <parameter name='min-vnf-idx' value='`$idx`' />
                                                                                                                </set>
                                                                                                            </outcome>
                                                                                                        </switch>
                                                                                                    </block>
                                                                                                </for>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-name'
  value='`$prev-network-name`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-role'
  value='`$prev-network-role`' />
                                                                                                </set>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' />
                                                                                                </set>
                                                                                            </block>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <set>
                                                                                        <parameter name='end-to-end-path' value='true' />
                                                                                    </set>
                                                                                </block>
                                                                            </outcome>
                                                                            <outcome value='false'>
                                                                                <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                                    <outcome value=''>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                    <outcome value='0'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                    <outcome value='Other'>
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='max-vnf-seq' value='-1' />
                                                                                                <parameter name='max-vnf-idx' value='-1' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                            </set>
                                                                                            <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' >
                                                                                                <block>
                                                                                                    <set>
                                                                                                        <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                                    </set>
                                                                                                    <set>
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                                    </set>
                                                                                                    <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &gt; $max-vnf-seq`'>
                                                                                                        <outcome value='true'>
                                                                                                            <set>
                                                                                                                <parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                                <parameter name='max-vnf-idx' value='`$idx`' />
                                                                                                            </set>
                                                                                                        </outcome>
                                                                                                    </switch>
                                                                                                </block>
                                                                                            </for>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' />
                                                                                            </set>
                                                                                        </block>
                                                                                    </outcome>
                                                                                </switch>
                                                                            </outcome>
                                                                        </switch>
                                                                        <break/>
                                                                    </block>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </outcome>
                                                </switch>
                                            </outcome>
                                            <outcome value='Other'>
                                                <block>
                                                    <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id
  == $next-service-instance-id`'>
                                                        <outcome value='true'>
                                                            <block>
                                                                <set>
                                                                    <parameter name='found-match' value='true' />
                                                                </set>
                                                                <switch test='`$node-index == $serv-cust_length - 1`'>
                                                                    <outcome value='true'>
                                                                        <block>
                                                                            <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                                <outcome value=''>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                    </set>
                                                                                </outcome>
                                                                                <outcome value='0'>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$next-vnf-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$next-vf-module-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                    </set>
                                                                                </outcome>
                                                                                <outcome value='Other'>
                                                                                    <block>
                                                                                        <set>
                                                                                            <parameter name='min-vnf-seq' value='99' />
                                                                                            <parameter name='min-vnf-idx' value='99' />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                        </set>
                                                                                        <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' >
                                                                                            <block>
                                                                                                <set>
                                                                                                    <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                                </set>
                                                                                                <set>
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                    <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                                </set>
                                                                                                <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &lt; $min-vnf-seq`'>
                                                                                                    <outcome value='true'>
                                                                                                        <set>
                                                                                                            <parameter name='min-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                            <parameter name='min-vnf-idx' value='`$idx`' />
                                                                                                        </set>
                                                                                                    </outcome>
                                                                                                </switch>
                                                                                            </block>
                                                                                        </for>
                                                                                        <set>
                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-name'
  value='`$prev-network-name`' />
                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-role'
  value='`$prev-network-role`' />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' />
                                                                                        </set>
                                                                                    </block>
                                                                                </outcome>
                                                                            </switch>
                                                                            <set>
                                                                                <parameter name='end-to-end-path' value='true' />
                                                                            </set>
                                                                        </block>
                                                                    </outcome>
                                                                    <outcome value='false'>
                                                                        <switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>
                                                                            <outcome value=''>
                                                                                <block>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                    </set>
                                                                                    <set>
                                                                                        <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                    </set>
                                                                                </block>
                                                                            </outcome>
                                                                            <outcome value='0'>
                                                                                <block>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'
  value='`$cur-vnf-seq`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'
  value='`$prev-network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'
  value='`$prev-network-role`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='1' />
                                                                                    </set>
                                                                                    <set>
                                                                                        <parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />
                                                                                    </set>
                                                                                </block>
                                                                            </outcome>
                                                                            <outcome value='Other'>
                                                                                <block>
                                                                                    <set>
                                                                                        <parameter name='max-vnf-seq' value='-1' />
                                                                                        <parameter name='max-vnf-idx' value='-1' />
                                                                                    </set>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service_length'
  value='`$service-paths.service-path[$path-index].service_length + 1`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'
  value='`$node-index + 1`' />
                                                                                    </set>
                                                                                    <for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' >
                                                                                        <block>
                                                                                            <set>
                                                                                                <parameter name='vnf-seq'
  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />
                                                                                            </set>
                                                                                            <set>
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'
  value='`$vnf-seq`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-name`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-role`' />
                                                                                                <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />
                                                                                            </set>
                                                                                            <switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id
  &gt; $max-vnf-seq`'>
                                                                                                <outcome value='true'>
                                                                                                    <set>
                                                                                                        <parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />
                                                                                                        <parameter name='max-vnf-idx' value='`$idx`' />
                                                                                                    </set>
                                                                                                </outcome>
                                                                                            </switch>
                                                                                        </block>
                                                                                    </for>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-name'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-role'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                                                                    </set>
                                                                                    <set>
                                                                                        <parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'
  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' />
                                                                                    </set>
                                                                                </block>
                                                                            </outcome>
                                                                        </switch>
                                                                    </outcome>
                                                                </switch>
                                                                <break/>
                                                            </block>
                                                        </outcome>
                                                    </switch>
                                                </block>
                                            </outcome>
                                        </switch>
                                    </for>
                                    <switch test='`$found-match`'>
                                        <outcome value='false'>
                                            <block>
                                                <set>
                                                    <parameter name='service-paths.service-path[$path-index].service-path-instance-id' value='' />
                                                </set>
                                                <break/>
                                            </block>
                                        </outcome>
                                    </switch>
                                    <set>
                                        <parameter name='next-service-instance-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-service-instance-id`' />
                                        <parameter name='prev-network-name' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />
                                        <parameter name='prev-network-role' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />
                                        <parameter name='next-vnf-instance-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-vnf-instance-id`' />
                                        <parameter name='next-vf-module-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-vf-module-id`' />
                                    </set>
                                    <set>
                                        <parameter name='cur-vnf-seq' value='`$max-vnf-seq + 1`' />
                                    </set>
                                </block>
                            </for>
                            <set>
                                <parameter name='path-index' value='`$path-index + 1`' />
                            </set>
                        </block>
                    </outcome>
                </switch>
            </for>
            <set>
                <parameter name='service-paths.service-path_length' value='`$path-index`' />
            </set>
        </block>
    </method>
</service-logic>