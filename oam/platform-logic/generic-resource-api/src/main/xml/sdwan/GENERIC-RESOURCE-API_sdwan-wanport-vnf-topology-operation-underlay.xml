<service-logic
    xmlns='http://www.onap.org/sdnc/svclogic'
    xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>
    <method rpc='sdwan-wanport-vnf-topology-operation-underlay' mode='sync'>
        <block atomic="true">
            <set>
                <parameter name='prop.underlay.routeIds_length' value='0' />
            </set>
            <set>
                <parameter name='prop.provision.siteIds_length' value='0' />
            </set>
            <for index='cidx' start='0' end='`$service-data.consumed-allotted-resources.consumed-allotted-resource_length`' >
                <block atomic="true">
                    <set>
                        <parameter name='prop.ar.allotted-resource-id' value='`$service-data.consumed-allotted-resources.consumed-allotted-resource[$cidx].allotted-resource-id`' />
                    </set>
                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >
                        <parameter name="source" value="`$prop.restapi.connection-attachment-allottedresource`"/>
                        <parameter name="outputPath" value="tmp.ar-url-connection"/>
                        <parameter name="target" value="{allotted-resource-id}"/>
                        <parameter name="replacement" value="`$prop.ar.allotted-resource-id`"/>
                    </execute>
                    <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                        <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-connection`' />
                        <parameter name='restapiUser' value='`$prop.controller.user`' />
                        <parameter name='restapiPassword' value='`$prop.controller.pwd`' />
                        <parameter name='format' value='json' />
                        <parameter name='httpMethod' value='GET' />
                        <parameter name="responsePrefix" value="mdsal-ar" />
                        <outcome value='success'>
                            <block atomic="true">
                                <switch test='`$mdsal-ar.connection-attachment-allotted-resource_length`'>
                                    <outcome value='1'>
                                        <block atomic='true'>
                                            <set>
                                                <parameter name='prop.parent-service-instance-id' value='`$mdsal-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.allotted-resource-information.parent-service-instance-id`' />
                                            </set>
                                            <for index="roleidx" start="0" end="`$mdsal-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param_length`">
                                                <block>
                                                    <switch test="`$mdsal-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$roleidx].name == 'role'`">
                                                        <outcome value='true'>
                                                            <set>
                                                                <parameter name='prop.spoke.role' value='`$mdsal-ar.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$roleidx].value`' />
                                                            </set>
                                                        </outcome>
                                                    </switch>
                                                </block>
                                            </for>
                                        </block>
                                    </outcome>
                                    <outcome value='Other'>
                                        <return status='failure'>
                                            <parameter name='ack-final' value='Y'/>
                                            <parameter name="error-code" value="404" />
                                            <parameter name="error-message" value="Error: Connection attachement resource not found" />
                                        </return>
                                    </outcome>
                                </switch>
                            </block>
                        </outcome>
                        <outcome value='Other'>
                            <block atomic="true">
                                <return status='failure'>
                                    <parameter name='ack-final' value='Y'/>
                                    <parameter name="error-code" value="404" />
                                    <parameter name="error-message" value="Error: Connection attachement resource not found" />
                                </return>
                            </block>
                        </outcome>
                    </execute>
                    <switch test="`$prop.spoke.role == 'spoke'`">
                        <outcome value='true'>
                            <block atomic="true">
                                <for index='i' start='0' end='`$service-data.vnfs.vnf_length`' >
                                    <block atomic="true">
                                        <switch test="`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANPortInstance'`">
                                            <outcome value='true'>
                                                <block atomic="true">
                                                    <for index="widx" start="0" end="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                        <block atomic="true">
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].name == 'transportNetworkName'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.transportNetworkName' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].name == 'wanPortId'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.wanPortId' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].name == 'providerIpAddress'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.providerIpAddress' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].name == 'ipAddress'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.ipAddress' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$widx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </for>
                                                </block>
                                            </outcome>
                                        </switch>
                                        <switch test="`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`">
                                            <outcome value='true'>
                                                <block atomic="true">
                                                    <for index="didx" start="0" end="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                        <block atomic="true">
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$didx].name == 'deviceId'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.deviceId' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$didx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </for>
                                                </block>
                                            </outcome>
                                        </switch>
                                        <switch test="`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSiteInstance'`">
                                            <outcome value='true'>
                                                <block atomic="true">
                                                    <set>
                                                        <parameter name='prop.spoke.siteidx' value='`$i`' />
                                                    </set>
                                                    <for index="sidx" start="0" end="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                        <block atomic="true">
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].name == 'name'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.siteName' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].name == 'siteId'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.spoke.siteId' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                            <switch test="`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].name == 'underlayRouteIds'`">
                                                                <outcome value='true'>
                                                                    <block atomic="true">
                                                                        <set>
                                                                            <parameter name='prop.underlay.routeIdsString' value='`$service-data.vnfs.vnf[$i].vnf-data.vnf-request-input.vnf-input-parameters.param[$sidx].value`' />
                                                                        </set>
                                                                        <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >
                                                                            <parameter name="original_string" value='`$prop.underlay.routeIdsString`'/>
                                                                            <parameter name="regex" value=" | "/>
                                                                            <parameter name="ctx_memory_result_key" value="prop.underlay.routeIdsValue"/>
                                                                            <outcome value='success'>
                                                                                <for index="ridx" start="0" end="`$prop.underlay.routeIdsValue_length`">
                                                                                    <block atomic="true">
                                                                                        <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >
                                                                                            <parameter name="original_string" value='`$prop.underlay.routeIdsValue[$ridx]`'/>
                                                                                            <parameter name="regex" value=","/>
                                                                                            <parameter name="ctx_memory_result_key" value="prop.underlay.routeIdsValues"/>
                                                                                            <outcome value='success'>
                                                                                                <switch test='`$prop.underlay.routeIdsValues_length`'>
                                                                                                    <outcome value='Other'>
                                                                                                        <block></block>
                                                                                                    </outcome>
                                                                                                    <outcome value='3'>
                                                                                                        <block atomic="true">
                                                                                                            <set>
                                                                                                                <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].hubSiteId' value='`$prop.underlay.routeIdsValues[0]`' />
                                                                                                                <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].hubRouteId' value='`$prop.underlay.routeIdsValues[1]`' />
                                                                                                                <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].spokeRouteId' value='`$prop.underlay.routeIdsValues[2]`' />
                                                                                                            </set>
                                                                                                            <set>
                                                                                                                <parameter name='prop.underlay.routeIds_length' value='`$prop.underlay.routeIds_length + 1`' />
                                                                                                            </set>
                                                                                                        </block>
                                                                                                    </outcome>
                                                                                                </switch>
                                                                                            </outcome>
                                                                                            <outcome value='failure'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                        </execute>
                                                                                    </block>
                                                                                </for>
                                                                            </outcome>
                                                                            <outcome value='failure'>
                                                                                <block></block>
                                                                            </outcome>
                                                                        </execute>
                                                                    </block>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </for>
                                                </block>
                                            </outcome>
                                        </switch>
                                    </block>
                                </for>
                                <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >
                                    <parameter name="source" value="/restconf/config/GENERIC-RESOURCE-API:services/service/{service-instance-id}/service-data"/>
                                    <parameter name="outputPath" value="tmp.ar-url-parent-connection"/>
                                    <parameter name="target" value="{service-instance-id}"/>
                                    <parameter name="replacement" value="`$prop.parent-service-instance-id`"/>
                                </execute>
                                <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-parent-connection`' />
                                    <parameter name='restapiUser' value='`$prop.controller.user`' />
                                    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />
                                    <parameter name='format' value='json' />
                                    <parameter name='httpMethod' value='GET' />
                                    <parameter name="responsePrefix" value="mdsal-psd" />
                                    <outcome value='success'>
                                        <block></block>
                                    </outcome>
                                    <outcome value='Other'>
                                        <return status='failure'>
                                            <parameter name='ack-final' value='Y'/>
                                            <parameter name="error-code" value="404" />
                                            <parameter name="error-message" value="Error: SOTN resource not found" />
                                        </return>
                                    </outcome>
                                </execute>
                                <for index='pnidx' start='0' end='`$mdsal-psd.service-data.networks.network_length`' >
                                    <block atomic="true">
                                        <switch test="`$mdsal-psd.service-data.networks.network[$pnidx].network-data.request-information.request-action == 'ActivateSDWANConnectivityInstance'`">
                                            <outcome value='true'>
                                                <set>
                                                    <parameter name='tmp.pnidx' value='`$pnidx`' />
                                                </set>
                                            </outcome>
                                        </switch>
                                    </block>
                                </for>
                                <switch test="`$tmp.pnidx`">
                                    <outcome value=''>
                                        <return status='failure'>
                                            <parameter name='ack-final' value='Y'/>
                                            <parameter name="error-code" value="500" />
                                            <parameter name="error-message" value="vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data" />
                                        </return>
                                    </outcome>
                                </switch>
                                <for index="paramidx" start="0" end="`$mdsal-psd.service-data.networks.network[$tmp.pnidx].network-data.network-request-input.network-input-parameters.param_length`">
                                    <block atomic="true">
                                        <switch test="`$mdsal-psd.service-data.networks.network[$tmp.pnidx].network-data.network-request-input.network-input-parameters.param[$paramidx].name == 'topology'`">
                                            <outcome value='true'>
                                                <set>
                                                    <parameter name='prop.topology' value='`$mdsal-psd.service-data.networks.network[$tmp.pnidx].network-data.network-request-input.network-input-parameters.param[$paramidx].value`' />
                                                </set>
                                            </outcome>
                                        </switch>
                                        <switch test="`$mdsal-psd.service-data.networks.network[$tmp.pnidx].network-data.network-request-input.network-input-parameters.param[$paramidx].name == 'vpn-id'`">
                                            <outcome value='true'>
                                                <set>
                                                    <parameter name='prop.vpnId' value='`$mdsal-psd.service-data.networks.network[$tmp.pnidx].network-data.network-request-input.network-input-parameters.param[$paramidx].value`' />
                                                </set>
                                            </outcome>
                                        </switch>
                                    </block>
                                </for>
                                <switch test="`$prop.topology == 'hub-spoke'`">
                                    <outcome value='false'>
                                        <block></block>
                                    </outcome>
                                    <outcome value='true'>
                                        <block atomic="true">
                                            <for index='ppidx' start='0' end='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource_length`' >
                                                <block atomic="true">
                                                    <set>
                                                        <parameter name='prop.ar.provided-allotted-resource-id' value='`$mdsal-psd.service-data.provided-allotted-resources.provided-allotted-resource[$ppidx].allotted-resource-id`' />
                                                    </set>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >
                                                        <parameter name="source" value="`$prop.restapi.connection-attachment-allottedresource`"/>
                                                        <parameter name="outputPath" value="tmp.ar-url-connection"/>
                                                        <parameter name="target" value="{allotted-resource-id}"/>
                                                        <parameter name="replacement" value="`$prop.ar.provided-allotted-resource-id`"/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                        <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-connection`' />
                                                        <parameter name='restapiUser' value='`$prop.controller.user`' />
                                                        <parameter name='restapiPassword' value='`$prop.controller.pwd`' />
                                                        <parameter name='format' value='json' />
                                                        <parameter name='httpMethod' value='GET' />
                                                        <parameter name="responsePrefix" value="mdsal-providedAr" />
                                                        <outcome value='success'>
                                                            <block></block>
                                                        </outcome>
                                                        <outcome value='Other'>
                                                            <return status='failure'>
                                                                <parameter name='ack-final' value='Y'/>
                                                                <parameter name="error-code" value="404" />
                                                                <parameter name="error-message" value="Error: SOTN resource not found" />
                                                            </return>
                                                        </outcome>
                                                    </execute>
                                                    <for index="aridx" start="0" end="`$mdsal-providedAr.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param_length`">
                                                        <block atomic="true">
                                                            <switch test="`$mdsal-providedAr.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$aridx].name == 'Role'`">
                                                                <outcome value='true'>
                                                                    <set>
                                                                        <parameter name='prop.role' value='`$mdsal-providedAr.connection-attachment-allotted-resource[0].allotted-resource-data.allotted-resource-operation-information.connection-attachment-request-input.param[$aridx].value`' />
                                                                    </set>
                                                                </outcome>
                                                            </switch>
                                                        </block>
                                                    </for>
                                                    <switch test="`$prop.role == hub`">
                                                        <outcome value='false'>
                                                            <block></block>
                                                        </outcome>
                                                        <outcome value='true'>
                                                            <block atomic="true">
                                                                <set>
                                                                    <parameter name='prop.ar-service-instance-id' value='`$mdsal-providedAr.connection-attachment-allotted-resource[0].allotted-resource-data.connection-attachment-topology.allotted-resource-identifiers.consuming-service-instance-id`' />
                                                                </set>
                                                                <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >
                                                                    <parameter name="source" value="/restconf/config/GENERIC-RESOURCE-API:services/service/{service-instance-id}/service-data"/>
                                                                    <parameter name="outputPath" value="tmp.ar-url-connection"/>
                                                                    <parameter name="target" value="{service-instance-id}"/>
                                                                    <parameter name="replacement" value="`$prop.ar-service-instance-id`"/>
                                                                </execute>
                                                                <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                                    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ar-url-connection`' />
                                                                    <parameter name='restapiUser' value='`$prop.controller.user`' />
                                                                    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />
                                                                    <parameter name='format' value='json' />
                                                                    <parameter name='httpMethod' value='GET' />
                                                                    <parameter name="responsePrefix" value="mdsal-arsd" />
                                                                    <outcome value='success'>
                                                                        <block></block>
                                                                    </outcome>
                                                                    <outcome value='Other'>
                                                                        <return status='failure'>
                                                                            <parameter name='ack-final' value='Y'/>
                                                                            <parameter name="error-code" value="404" />
                                                                            <parameter name="error-message" value="Error: SDWAN service-data not found" />
                                                                        </return>
                                                                    </outcome>
                                                                </execute>
                                                                <for index='arvidx' start='0' end='`$mdsal-arsd.service-data.vnfs.vnf_length`' >
                                                                    <block atomic="true">
                                                                        <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$arvidx].vnf-data.request-information.request-action == 'ActivateSDWANPortInstance'`">
                                                                            <outcome value='true'>
                                                                                <block atomic="true">
                                                                                    <set>
                                                                                        <parameter name='tmp.portvidx' value='`$arvidx`' />
                                                                                    </set>
                                                                                    <for index="wportidx" start="0" end="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.portvidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                                                        <block atomic="true">
                                                                                            <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.portvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].name == 'transportNetworkName'`">
                                                                                                <outcome value='true'>
                                                                                                    <block atomic="true">
                                                                                                        <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.portvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].value == $prop.spoke.transportNetworkName`">
                                                                                                            <outcome value='true'>
                                                                                                                <block atomic="true">
                                                                                                                    <set>
                                                                                                                        <parameter name='tmp.wanportvidx' value='`$arvidx`' />
                                                                                                                    </set>
                                                                                                                    <set>
                                                                                                                        <parameter name='prop.hub.transportNetworkName' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.portvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].value`' />
                                                                                                                    </set>
                                                                                                                </block>
                                                                                                            </outcome>
                                                                                                        </switch>
                                                                                                    </block>
                                                                                                </outcome>
                                                                                            </switch>
                                                                                        </block>
                                                                                    </for>
                                                                                </block>
                                                                            </outcome>
                                                                        </switch>
                                                                        <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$arvidx].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`">
                                                                            <outcome value='true'>
                                                                                <set>
                                                                                    <parameter name='tmp.devicevidx' value='`$arvidx`' />
                                                                                </set>
                                                                            </outcome>
                                                                        </switch>
                                                                        <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$arvidx].vnf-data.request-information.request-action == 'ActivateSiteInstance'`">
                                                                            <outcome value='true'>
                                                                                <set>
                                                                                    <parameter name='tmp.sitevidx' value='`$arvidx`' />
                                                                                </set>
                                                                            </outcome>
                                                                        </switch>
                                                                    </block>
                                                                </for>
                                                                <block atomic="true">
                                                                    <switch test="`$tmp.wanportvidx`">
                                                                        <outcome value=''>
                                                                            <return status='failure'>
                                                                                <parameter name='ack-final' value='Y'/>
                                                                                <parameter name="error-code" value="500" />
                                                                                <parameter name="error-message" value="vnf-topology-operation-input.vnf-request-input.vnf-id (port) not found in service-data" />
                                                                            </return>
                                                                        </outcome>
                                                                    </switch>
                                                                    <switch test="`$tmp.devicevidx`">
                                                                        <outcome value=''>
                                                                            <return status='failure'>
                                                                                <parameter name='ack-final' value='Y'/>
                                                                                <parameter name="error-code" value="500" />
                                                                                <parameter name="error-message" value="vnf-topology-operation-input.vnf-request-input.vnf-id (device) not found in service-data" />
                                                                            </return>
                                                                        </outcome>
                                                                    </switch>
                                                                    <switch test="`$tmp.sitevidx`">
                                                                        <outcome value=''>
                                                                            <return status='failure'>
                                                                                <parameter name='ack-final' value='Y'/>
                                                                                <parameter name="error-code" value="500" />
                                                                                <parameter name="error-message" value="vnf-topology-operation-input.vnf-request-input.vnf-id (site) not found in service-data" />
                                                                            </return>
                                                                        </outcome>
                                                                    </switch>
                                                                </block>
                                                                <switch test="`$prop.hub.transportNetworkName == $prop.spoke.transportNetworkName`">
                                                                    <outcome value='false'>
                                                                        <block></block>
                                                                    </outcome>
                                                                    <outcome value='true'>
                                                                        <block atomic="true">
                                                                            <for index="wportidx" start="0" end="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                                                <block atomic="true">
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].name == 'wanPortId'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.wanPortId' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].name == 'providerIpAddress'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.providerIpAddress' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].name == 'ipAddress'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.ipAddress' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.wanportvidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$wportidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                            <set>
                                                                                <parameter name='prop.hubTnpId' value='$prop.hub.wanPortId' />
                                                                            </set>
                                                                            <for index="deviceidx" start="0" end="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.devicevidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                                                <block atomic="true">
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.devicevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$deviceidx].name == 'deviceId'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.deviceId' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.devicevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$deviceidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                            <for index="siteidx" start="0" end="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.sitevidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length`">
                                                                                <block atomic="true">
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.sitevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$siteidx].name == 'name'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.siteName' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.sitevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$siteidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                    <switch test="`$mdsal-arsd.service-data.vnfs.vnf[$tmp.sitevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$siteidx].name == 'siteId'`">
                                                                                        <outcome value='true'>
                                                                                            <set>
                                                                                                <parameter name='prop.hub.siteId' value='`$mdsal-arsd.service-data.vnfs.vnf[$tmp.sitevidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$siteidx].value`' />
                                                                                            </set>
                                                                                        </outcome>
                                                                                    </switch>
                                                                                </block>
                                                                            </for>
                                                                            <switch test='`$connection-attachment-topology-operation-input.request-information.request-action`'>
                                                                                <outcome value='ActivateSDWANAttachmentInstance'>
                                                                                    <block atomic="true">
                                                                                        <set>
                                                                                            <parameter name='prop.hub.ipAddress' value="10.2.0.2" />
                                                                                            <parameter name='prop.hub.providerIpAddress' value="10.2.0.0/16" />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.route.vpnId' value='`$prop.vpnId`' />
                                                                                            <parameter name='prop.route.siteId' value='`$prop.hub.siteId`' />
                                                                                            <parameter name='prop.route.deviceId' value='`$prop.hub.deviceId`' />
                                                                                            <parameter name='prop.route.providerIpAddress' value='`$prop.hub.providerIpAddress`' />
                                                                                            <parameter name='prop.route.wanportId' value='`$prop.spoke.wanPortId`' />
                                                                                            <parameter name='prop.route.ipAddress' value='`$prop.hub.ipAddress`' />
                                                                                        </set>
                                                                                        <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                                                            <parameter name="templateFileName" value="`$prop.restapi.templateDir + '/sdwan-underlay.json'`" />
                                                                                            <parameter name="restapiUrl" value="`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/routing-protocol/static'`" />
                                                                                            <parameter name="restapiUser" value="`$prop.sdncRestApi.thirdpartySdnc.user`" />
                                                                                            <parameter name="restapiPassword" value="`$prop.sdncRestApi.thirdpartySdnc.password`" />
                                                                                            <parameter name="format" value="json"/>
                                                                                            <parameter name="httpMethod" value="post"/>
                                                                                            <parameter name="responsePrefix" value="underlayHubResp"/>
                                                                                            <parameter name="trustStoreFileName" value="/opt/onap/sdnc/data/stores/truststore.onap.client.jks"/>
                                                                                            <parameter name="trustStorePassword" value="adminadmin"/>
                                                                                            <parameter name="keyStoreFileName" value="/opt/onap/sdnc/data/stores/sdnc.p12"/>
                                                                                            <parameter name="keyStorePassword" value="adminadmin"/>
                                                                                            <parameter name='customHttpHeaders' value="`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`" />
                                                                                            <outcome value='failure'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                            <outcome value='success'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                        </execute>
                                                                                        <set>
                                                                                            <parameter name='prop.spoke.ipAddress' value="10.3.0.1" />
                                                                                            <parameter name='prop.spoke.providerIpAddress' value="10.3.0.0/16" />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.route.vpnId' value='`$prop.vpnId`' />
                                                                                            <parameter name='prop.route.siteId' value='`$prop.spoke.siteId`' />
                                                                                            <parameter name='prop.route.deviceId' value='`$prop.spoke.deviceId`' />
                                                                                            <parameter name='prop.route.providerIpAddress' value='`$prop.spoke.providerIpAddress`' />
                                                                                            <parameter name='prop.route.wanportId' value='`$prop.hub.wanPortId`' />
                                                                                            <parameter name='prop.route.ipAddress' value='`$prop.spoke.ipAddress`' />
                                                                                        </set>
                                                                                        <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                                                            <parameter name="templateFileName" value="`$prop.restapi.templateDir + '/sdwan-underlay.json'`" />
                                                                                            <parameter name="restapiUrl" value="`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/routing-protocol/static'`" />
                                                                                            <parameter name="restapiUser" value="`$prop.sdncRestApi.thirdpartySdnc.user`" />
                                                                                            <parameter name="restapiPassword" value="`$prop.sdncRestApi.thirdpartySdnc.password`" />
                                                                                            <parameter name="format" value="json"/>
                                                                                            <parameter name="httpMethod" value="post"/>
                                                                                            <parameter name="responsePrefix" value="underlayspokeResp"/>
                                                                                            <parameter name="trustStoreFileName" value="/opt/onap/sdnc/data/stores/truststore.onap.client.jks"/>
                                                                                            <parameter name="trustStorePassword" value="adminadmin"/>
                                                                                            <parameter name="keyStoreFileName" value="/opt/onap/sdnc/data/stores/sdnc.p12"/>
                                                                                            <parameter name="keyStorePassword" value="adminadmin"/>
                                                                                            <parameter name='customHttpHeaders' value="`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`" />
                                                                                            <outcome value='failure'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                            <outcome value='success'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                        </execute>
                                                                                        <set>
                                                                                            <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].hubSiteId' value='`$prop.hub.siteId`' />
                                                                                            <!--parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].spokeSiteId' value='`$prop.spoke.siteId`' /-->
                                                                                            <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].hubRouteId' value='`$underlayHubResp.success[0].id`' />
                                                                                            <parameter name='prop.underlay.routeIds[$prop.underlay.routeIds_length].spokeRouteId' value='`$underlayspokeResp.success[0].id`' />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.underlay.routeIds_length' value='`$prop.underlay.routeIds_length + 1`' />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.provision.siteIds[$prop.provision.siteIds_length].hubSiteName' value='`$prop.hub.siteName`' />
                                                                                            <parameter name='prop.provision.siteIds[$prop.provision.siteIds_length].hubSiteId' value='`$prop.hub.siteId`' />
                                                                                            <parameter name='prop.provision.siteIds[$prop.provision.siteIds_length].spokeSiteName' value='`$prop.spoke.siteName`' />
                                                                                            <parameter name='prop.provision.siteIds[$prop.provision.siteIds_length].spokeSiteId' value='`$prop.spoke.siteId`' />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.provision.siteIds_length' value='`$prop.provision.siteIds_length + 1`' />
                                                                                        </set>
                                                                                    </block>
                                                                                </outcome>
                                                                                <outcome value='DeactivateSDWANAttachmentInstance'>
                                                                                    <block atomic="true">
                                                                                        <for index="uidx" start="0" end="`$prop.underlay.routeIds_length`">
                                                                                            <block atomic="true">
                                                                                                <switch test="`$prop.underlay.routeIds[$uidx].hubSiteId == $prop.hub.siteId`">
                                                                                                    <outcome value='true'>
                                                                                                        <block atomic="true">
                                                                                                            <set>
                                                                                                                <parameter name='prop.hubRouteId' value='`$prop.underlay.routeIds[$uidx].hubRouteId`' />
                                                                                                                <parameter name='prop.spokeRouteId' value='`$prop.underlay.routeIds[$uidx].spokeRouteId`' />
                                                                                                            </set>
                                                                                                        </block>
                                                                                                    </outcome>
                                                                                                </switch>
                                                                                            </block>
                                                                                        </for>
                                                                                        <set>
                                                                                            <parameter name='prop.hub.ipAddress' value="10.2.0.2" />
                                                                                            <parameter name='prop.hub.providerIpAddress' value="10.2.0.0/16" />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.route.id' value='`$prop.hubRouteId`' />
                                                                                            <parameter name='prop.route.vpnId' value='`$prop.vpnId`' />
                                                                                            <parameter name='prop.route.siteId' value='`$prop.hub.siteId`' />
                                                                                            <parameter name='prop.route.deviceId' value='`$prop.hub.deviceId`' />
                                                                                            <parameter name='prop.route.providerIpAddress' value='`$prop.hub.providerIpAddress`' />
                                                                                            <parameter name='prop.route.wanportId' value='`$prop.spoke.wanPortId`' />
                                                                                            <parameter name='prop.route.ipAddress' value='`$prop.hub.ipAddress`' />
                                                                                        </set>
                                                                                        <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                                                            <parameter name="templateFileName" value="`$prop.restapi.templateDir + '/sdwan-underlay.json'`" />
                                                                                            <parameter name="restapiUrl" value="`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/routing-protocol/static/action/batch-delete'`" />
                                                                                            <parameter name="restapiUser" value="`$prop.sdncRestApi.thirdpartySdnc.user`" />
                                                                                            <parameter name="restapiPassword" value="`$prop.sdncRestApi.thirdpartySdnc.password`" />
                                                                                            <parameter name="format" value="json"/>
                                                                                            <parameter name="httpMethod" value="post"/>
                                                                                            <parameter name="responsePrefix" value="underlayHubResp"/>
                                                                                            <parameter name="trustStoreFileName" value="/opt/onap/sdnc/data/stores/truststore.onap.client.jks"/>
                                                                                            <parameter name="trustStorePassword" value="adminadmin"/>
                                                                                            <parameter name="keyStoreFileName" value="/opt/onap/sdnc/data/stores/sdnc.p12"/>
                                                                                            <parameter name="keyStorePassword" value="adminadmin"/>
                                                                                            <parameter name='customHttpHeaders' value="`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`" />
                                                                                            <outcome value='failure'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                            <outcome value='success'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                        </execute>
                                                                                        <set>
                                                                                            <parameter name='prop.spoke.ipAddress' value="10.3.0.1" />
                                                                                            <parameter name='prop.spoke.providerIpAddress' value="10.3.0.0/16" />
                                                                                        </set>
                                                                                        <set>
                                                                                            <parameter name='prop.route.id' value='`$prop.spokeRouteId`' />
                                                                                            <parameter name='prop.route.vpnId' value='`$prop.vpnId`' />
                                                                                            <parameter name='prop.route.siteId' value='`$prop.spoke.siteId`' />
                                                                                            <parameter name='prop.route.deviceId' value='`$prop.spoke.deviceId`' />
                                                                                            <parameter name='prop.route.providerIpAddress' value='`$prop.spoke.providerIpAddress`' />
                                                                                            <parameter name='prop.route.wanportId' value='`$prop.hub.wanPortId`' />
                                                                                            <parameter name='prop.route.ipAddress' value='`$prop.spoke.ipAddress`' />
                                                                                        </set>
                                                                                        <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                                                                                            <parameter name="templateFileName" value="`$prop.restapi.templateDir + '/sdwan-underlay.json'`" />
                                                                                            <parameter name="restapiUrl" value="`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/routing-protocol/static/action/batch-delete'`" />
                                                                                            <parameter name="restapiUser" value="`$prop.sdncRestApi.thirdpartySdnc.user`" />
                                                                                            <parameter name="restapiPassword" value="`$prop.sdncRestApi.thirdpartySdnc.password`" />
                                                                                            <parameter name="format" value="json"/>
                                                                                            <parameter name="httpMethod" value="post"/>
                                                                                            <parameter name="responsePrefix" value="underlayspokeResp"/>
                                                                                            <parameter name="trustStoreFileName" value="/opt/onap/sdnc/data/stores/truststore.onap.client.jks"/>
                                                                                            <parameter name="trustStorePassword" value="adminadmin"/>
                                                                                            <parameter name="keyStoreFileName" value="/opt/onap/sdnc/data/stores/sdnc.p12"/>
                                                                                            <parameter name="keyStorePassword" value="adminadmin"/>
                                                                                            <parameter name='customHttpHeaders' value="`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`" />
                                                                                            <outcome value='failure'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                            <outcome value='success'>
                                                                                                <block></block>
                                                                                            </outcome>
                                                                                        </execute>
                                                                                    </block>
                                                                                </outcome>
                                                                            </switch>
                                                                        </block>
                                                                    </outcome>
                                                                </switch>
                                                            </block>
                                                        </outcome>
                                                    </switch>
                                                </block>
                                            </for>
                                        </block>
                                    </outcome>
                                </switch>
                                <switch test='`$connection-attachment-topology-operation-input.request-information.request-action`'>
                                    <outcome value='ActivateSDWANAttachmentInstance'>
                                        <block atomic="true">
                                            <set>
                                                <parameter name='tmp.routeString' value="" />
                                            </set>
                                            <for index="jidx" start="0" end="`$prop.underlay.routeIds_length`">
                                                <block atomic="true">
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$prop.underlay.routeIds[$jidx].hubSiteId`'/>
                                                        <parameter name="outputPath" value="tmp.concat"/>
                                                        <parameter name="target" value=","/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$tmp.concat`'/>
                                                        <parameter name="outputPath" value="tmp.concat1"/>
                                                        <parameter name="target" value='`$prop.underlay.routeIds[$jidx].hubRouteId`'/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$tmp.concat1`'/>
                                                        <parameter name="outputPath" value="tmp.concat2"/>
                                                        <parameter name="target" value=","/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$tmp.concat2`'/>
                                                        <parameter name="outputPath" value="tmp.concat3"/>
                                                        <parameter name="target" value='`$prop.underlay.routeIds[$jidx].spokeRouteId`'/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$tmp.concat3`'/>
                                                        <parameter name="outputPath" value="tmp.concat4"/>
                                                        <parameter name="target" value=" | "/>
                                                    </execute>
                                                    <execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='concat' >
                                                        <parameter name="source" value='`$tmp.routeString`'/>
                                                        <parameter name="outputPath" value="tmp.routeString"/>
                                                        <parameter name="target" value='`$tmp.concat4`'/>
                                                    </execute>
                                                </block>
                                            </for>
                                            <set>
                                                <parameter name='service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].name' value="underlayRouteIds" />
                                                <parameter name='service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param[$service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length].value' value='`$tmp.routeString`' />
                                            </set>
                                            <set>
                                                <parameter name='service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length' value='`$service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length + 1`' />
                                            </set>
                                        </block>
                                    </outcome>
                                    <outcome value='DeactivateSDWANAttachmentInstance'>
                                        <block atomic="true">
                                            <set>
                                                <parameter name='service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length' value='`$service-data.vnfs.vnf[$prop.spoke.siteidx].vnf-data.vnf-request-input.vnf-input-parameters.param_length - 1`' />
                                            </set>
                                        </block>
                                    </outcome>
                                </switch>
                            </block>
                        </outcome>
                    </switch>
                </block>
            </for>
            <for index='providx' start='0' end='`$prop.provision.siteIds_length`' >
                <block atomic="true">
                    <set>
                        <parameter name='prop.provision.hubSitename' value='`$prop.provision.siteIds[$providx].hubSiteName`' />
                        <parameter name='prop.provision.spokeSitename' value='`$prop.provision.siteIds[$providx].spokeSiteName`' />
                        <parameter name='prop.provision.hubspokesite[0]' value='`$prop.provision.siteIds[$providx].hubSiteId`' />
                        <parameter name='prop.provision.hubspokesite[1]' value='`$prop.provision.siteIds[$providx].spokeSiteId`' />
                        <parameter name='prop.provision.hubspokesite_length' value='2' />
                    </set>
                    <execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >
                        <parameter name="templateFileName" value="`$prop.restapi.templateDir + '/sdwan-site-provision.json'`" />
                        <parameter name="restapiUrl" value="`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/sites/provision-urls'`" />
                        <parameter name="restapiUser" value="`$prop.sdncRestApi.thirdpartySdnc.user`" />
                        <parameter name="restapiPassword" value="`$prop.sdncRestApi.thirdpartySdnc.password`" />
                        <parameter name="format" value="json"/>
                        <parameter name="httpMethod" value="post"/>
                        <parameter name="responsePrefix" value="provisionUrlRsp"/>
                        <parameter name="trustStoreFileName" value="/opt/onap/sdnc/data/stores/truststore.onap.client.jks"/>
                        <parameter name="trustStorePassword" value="adminadmin"/>
                        <parameter name="keyStoreFileName" value="/opt/onap/sdnc/data/stores/sdnc.p12"/>
                        <parameter name="keyStorePassword" value="adminadmin"/>
                        <parameter name='customHttpHeaders' value="`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`" />
                        <outcome value='failure'>
                            <return status='failure'>
                                <parameter name='ack-final' value='Y'/>
                                <parameter name="error-code" value="500" />
                                <parameter name="error-message" value="Error executing provision url rest api" />
                            </return>
                        </outcome>
                        <outcome value='success'></outcome>
                    </execute>
                    <record plugin="org.onap.ccsdk.sli.core.sli.recording.FileRecorder">
                        <parameter name="file" value="`'/opt/opendaylight/current/data/log/' + 'HUB-' + $prop.provision.hubSitename + '-SPOKE-' + $prop.provision.spokeSitename + '-provisionUrl'`"/>
                        <parameter name="field1" value="__TIMESTAMP__"/>
                        <parameter name="field2" value='`$provisionUrlRsp.success[0].url`'/>
                    </record>
                </block>
            </for>
            <return status='success'>
                <parameter name="ack-final-indicator" value="Y" />
                <parameter name="error-code" value="200" />
                <parameter name="error-message" value="`$error-message`" />
            </return>
        </block>
    </method>
</service-logic>
