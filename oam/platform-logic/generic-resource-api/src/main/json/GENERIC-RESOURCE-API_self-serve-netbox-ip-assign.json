[
    {
        "id": "39b306a6.ed3522",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 100,
        "y": 63.57143306732178,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "79f0b111.72d778"
            ]
        ]
    },
    {
        "id": "1b629c80.7881d4",
        "type": "method",
        "name": "method self-serve-netbox-ip-assign",
        "xml": "<method rpc='self-serve-netbox-ip-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 235.7857208251953,
        "y": 120.69842147827148,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "56a052c7.058c9c"
            ]
        ]
    },
    {
        "id": "56a052c7.058c9c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 129.32144165039062,
        "y": 207.0000400543213,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "90086e75.cd6fc",
                "3efa365b.993a9a",
                "7e104793.732a5",
                "f91de1d4.ae1798",
                "2734c8ea.c23828"
            ]
        ]
    },
    {
        "id": "79f0b111.72d778",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 372.8571472167969,
        "y": 63,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "1b629c80.7881d4"
            ]
        ]
    },
    {
        "id": "90086e75.cd6fc",
        "type": "switchNode",
        "name": "switch: ss.capability-name",
        "xml": "<switch test='`$ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 387.4999694824219,
        "y": 210.82144165039062,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b10180d1.330c9"
            ]
        ]
    },
    {
        "id": "b10180d1.330c9",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "outputs": 1,
        "x": 612.4999923706055,
        "y": 211.32144021987915,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "66f17fa3.bde278"
            ]
        ]
    },
    {
        "id": "66f17fa3.bde278",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-name is null\" />\n",
        "comments": "",
        "x": 772.4166641235352,
        "y": 211.43253898620605,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "3efa365b.993a9a",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 390.74996185302734,
        "y": 286.82143688201904,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "8acb2cf7.4ff328"
            ]
        ]
    },
    {
        "id": "8acb2cf7.4ff328",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 614.2499618530273,
        "y": 287.07143688201904,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "307ed0c1.fb7998"
            ]
        ]
    },
    {
        "id": "307ed0c1.fb7998",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n",
        "comments": "",
        "x": 774.166633605957,
        "y": 287.18253564834595,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "7e104793.732a5",
        "type": "call",
        "name": "call self-serve-capability-param-resolution",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-capability-param-resolution' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 441.41680908203125,
        "y": 361.82147216796875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "47c181e5.fedda"
            ]
        ]
    },
    {
        "id": "47c181e5.fedda",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 745.6667060852051,
        "y": 363.821475982666,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "fe0e4241.5b80e8"
            ]
        ]
    },
    {
        "id": "fe0e4241.5b80e8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"`'Not all assignments are resolved' + $error-message`\" />\n",
        "comments": "",
        "x": 904.4166870117188,
        "y": 363.82147216796875,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "a92c49b1.faf6c",
        "type": "set",
        "name": "set tmp.ss.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 1187.0635833740234,
        "y": 1973.7697825431824,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "ca92a840.cb9a5",
        "type": "for",
        "name": "for pidx in param_length",
        "xml": "<for index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 897.2778091430664,
        "y": 1973.8412528038025,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "864a8266.73cc7",
                "b15a003.31b4b",
                "a92c49b1.faf6c"
            ]
        ]
    },
    {
        "id": "b15a003.31b4b",
        "type": "switchNode",
        "name": "switch: capability-name - ss vs param",
        "xml": "<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1200.139045715332,
        "y": 2055.119035243988,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "5f27f686.c72e78"
            ]
        ]
    },
    {
        "id": "5f27f686.c72e78",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1438.8890533447266,
        "y": 2054.869035243988,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b6e45a86.008848"
            ]
        ]
    },
    {
        "id": "52a3fa95.c6446c",
        "type": "switchNode",
        "name": "switch: resource-key[].name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1688.7783126831055,
        "y": 2305.1630301475525,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "12d1fbad.020824",
                "31df3307.8fd214",
                "8556b639.07cc4",
                "32ab7f7f.33dea",
                "28ed7d99.2fd922"
            ]
        ]
    },
    {
        "id": "31df3307.8fd214",
        "type": "outcome",
        "name": "service-instance-id",
        "xml": "<outcome value='service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1960.167221069336,
        "y": 2304.6352486610413,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "15e0f6f3.464d99"
            ]
        ]
    },
    {
        "id": "15e0f6f3.464d99",
        "type": "set",
        "name": "set tmp.ss.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.ss.service-instance-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2226.417221069336,
        "y": 2304.3852486610413,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "702f24b8.ab2b14",
        "type": "set",
        "name": "set service-data...param[].value = ip-address",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value' \n\tvalue='`$ip[0]`' />\n",
        "comments": "",
        "x": 3014.388885498047,
        "y": 2875.3416357040405,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "daef3d9b.976aa",
        "type": "update",
        "name": "get-resource IPAM_IP_ASSIGNEMENT",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n\tkey='SELECT * from IPAM_IP_ASSIGNEMENT \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id' >",
        "comments": "",
        "outputs": 1,
        "x": 2188.472640991211,
        "y": 2976.2020263671875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "c57f67d2.fa9d8",
                "b7a6dad5.6dc8c"
            ]
        ]
    },
    {
        "id": "c57f67d2.fa9d8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2483.0599784851074,
        "y": 2977.20205950737,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e5ae09f3.4e9b7"
            ]
        ]
    },
    {
        "id": "9e365126.584608",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1882.3099365234375,
        "y": 2977.844970703125,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "daef3d9b.976aa"
            ]
        ]
    },
    {
        "id": "b0815fb0.6c8c58",
        "type": "for",
        "name": "for kidx in resource-key_length",
        "xml": "<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 1405.6393966674805,
        "y": 2303.0241141319275,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "52a3fa95.c6446c"
            ]
        ]
    },
    {
        "id": "9d646260.b0f88",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 613.5358581542969,
        "y": 1971.9642333984375,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ca92a840.cb9a5",
                "dddd3293.e9766"
            ]
        ]
    },
    {
        "id": "12508de3.d24ce2",
        "type": "update",
        "name": "update IPAM_IP_ASSIGNEMENT to PENDING_DELETE...",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE IPAM_IP_ASSIGNEMENT set ip_status = $tmp.status \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
        "comments": "",
        "outputs": 1,
        "x": 3011.369613647461,
        "y": 3067.8807373046875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e08179b3.30edc"
            ]
        ]
    },
    {
        "id": "86f22edb.c1e37",
        "type": "set",
        "name": "set status = PENDING_DELETE",
        "xml": "<set>\n<parameter name='tmp.status' value=\"PENDING_DELETE\" />\n",
        "comments": "",
        "x": 2921.286117553711,
        "y": 3026.2139892578125,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "e08179b3.30edc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3319.0360717773438,
        "y": 3068.4640607833862,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "a80cdb69.81f35"
            ]
        ]
    },
    {
        "id": "a80cdb69.81f35",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error updating NETBOX_IP_ASSIGNMENTS table to unassign ip with external_key=' + $tmp.ss.external-key + ' and service_instance_id=' + $tmp.ss.service-instance-id`\" />\n",
        "comments": "",
        "x": 3498.036361694336,
        "y": 3068.273681640625,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "2ba87204.72c89e",
        "type": "execute",
        "name": "execute Netbox unassign IP addresses",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"unassignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2941.3694915771484,
        "y": 3114.1307983398438,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "d761dd7d.5daac",
                "70a92bf3.d01214"
            ]
        ]
    },
    {
        "id": "d761dd7d.5daac",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3184.7027587890625,
        "y": 3114.130747795105,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ac3185a3.0297d8"
            ]
        ]
    },
    {
        "id": "ac3185a3.0297d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error in NetboxClient#unassignIPAddress with external-key='+ $tmp.ss.external-key`\" />\n",
        "comments": "",
        "x": 3346.7027854919434,
        "y": 3113.9404830932617,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "9487046d.9fad68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2661.988525390625,
        "y": 3025.6306171417236,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "86f22edb.c1e37",
                "12508de3.d24ce2",
                "2ba87204.72c89e"
            ]
        ]
    },
    {
        "id": "dddd3293.e9766",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'SS: pidx: ' + $pidx`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 849.3414611816406,
        "y": 2028.9087219238281,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "12d1fbad.020824",
        "type": "outcome",
        "name": "vf-module-id",
        "xml": "<outcome value='vf-module-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1942.000228881836,
        "y": 2350.885187625885,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e91a4a82.52be28"
            ]
        ]
    },
    {
        "id": "e91a4a82.52be28",
        "type": "set",
        "name": "set tmp.ss.vf-module-id",
        "xml": "<set>\n<parameter name='tmp.ss.vf-module-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2208.0003509521484,
        "y": 2350.885187625885,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "ae56d16c.edce5",
        "type": "set",
        "name": "set resource-resolution-data.status = DELETED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='DELETED' />\n",
        "comments": "",
        "x": 3451.595443725586,
        "y": 3169.4514989852905,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "8556b639.07cc4",
        "type": "outcome",
        "name": "prefix-id",
        "xml": "<outcome value='prefix-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1931.055892944336,
        "y": 2395.135218143463,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "246a1d6a.080fa2"
            ]
        ]
    },
    {
        "id": "246a1d6a.080fa2",
        "type": "set",
        "name": "set prefix-id",
        "xml": "<set>\n<parameter name='tmp.ss.prefix-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2177.555892944336,
        "y": 2395.385187625885,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "d994622b.100b98",
        "type": "execute",
        "name": "execute NetboxClient assignIpAddress",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"assignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"vf_module_id\" value=\"`$tmp.ss.vf-module-id`\" />\n<parameter name=\"prefix_id\" value=\"`$tmp.ss.prefix-id`\" />\n<parameter name=\"resource_name\" value=\"`$tmp.ss.param.name`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2204.38134765625,
        "y": 2695.3692626953125,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "5fcd5073.23e8c8",
                "1a67a440.ccf65c"
            ]
        ]
    },
    {
        "id": "5fcd5073.23e8c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2521.38134765625,
        "y": 2697.3692016601562,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b53fc0c4.6e6db"
            ]
        ]
    },
    {
        "id": "b53fc0c4.6e6db",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2729.38134765625,
        "y": 2701.3692016601562,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "aefd9233.639b38",
                "5924f9f1.b07eb"
            ]
        ]
    },
    {
        "id": "aefd9233.639b38",
        "type": "set",
        "name": "set resource-resolution-data.status = FAILED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' value='FAILED' />\n",
        "comments": "",
        "x": 3046.3814086914062,
        "y": 2705.369171142578,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "5924f9f1.b07eb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2943.7622680664062,
        "y": 2754.9724340438843,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "8459943a.0741",
        "type": "set",
        "name": "set resource-resolution-data.status = SUCCESS",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n",
        "comments": "",
        "x": 3031.4644470214844,
        "y": 2926.059958457947,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "32ab7f7f.33dea",
        "type": "outcome",
        "name": "ip-address-id",
        "xml": "<outcome value='ip-address-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1944.9370422363281,
        "y": 2439.9922919273376,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "1be9a0f0.cb1137"
            ]
        ]
    },
    {
        "id": "1be9a0f0.cb1137",
        "type": "set",
        "name": "ip-address-id",
        "xml": "<set>\n<parameter name='tmp.ss.ip-address-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2179.9369201660156,
        "y": 2439.992352962494,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "28ed7d99.2fd922",
        "type": "outcome",
        "name": "external_key",
        "xml": "<outcome value='external_key'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1932.5560607910156,
        "y": 2485.7065863609314,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e3062b19.33e69"
            ]
        ]
    },
    {
        "id": "e3062b19.33e69",
        "type": "set",
        "name": "set external-key",
        "xml": "<set>\n<parameter name='tmp.ss.external-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2181.127471923828,
        "y": 2485.7066473960876,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "864a8266.73cc7",
        "type": "set",
        "name": "set tmp.ss.param.name",
        "xml": "<set>\n<parameter name='tmp.ss.param.name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`' />\n",
        "comments": "",
        "x": 1158.8495254516602,
        "y": 2013.9602675437927,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "b6e45a86.008848",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1154.1429138183594,
        "y": 2299.9287719726562,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b0815fb0.6c8c58",
                "ea11f211.eef478"
            ]
        ]
    },
    {
        "id": "ea11f211.eef478",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 976.0000305175781,
        "y": 2705.738320350647,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "398f1da9.7fc262",
                "c615cc08.6cc77"
            ]
        ]
    },
    {
        "id": "b4174ab1.8632e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1878.8573608398438,
        "y": 2694.3097534179688,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "d994622b.100b98"
            ]
        ]
    },
    {
        "id": "b7a6dad5.6dc8c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2479.774124145508,
        "y": 3024.9163722991943,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "9487046d.9fad68"
            ]
        ]
    },
    {
        "id": "1a67a440.ccf65c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2529.4287719726562,
        "y": 2760.880820274353,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "6b7d48cd.fe82"
            ]
        ]
    },
    {
        "id": "e5ae09f3.4e9b7",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2653.2027871268137,
        "y": 2977.6306373051234,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "6b7d48cd.fe82",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2723.7144165039062,
        "y": 2840.8809423446655,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "8459943a.0741",
                "702f24b8.ab2b14",
                "722fee02.ac2218"
            ]
        ]
    },
    {
        "id": "70a92bf3.d01214",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3189.667465209961,
        "y": 3168.023398399353,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ae56d16c.edce5"
            ]
        ]
    },
    {
        "id": "612ded0b.7aa5c4",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 588.4285583496094,
        "y": 451.4284896850586,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "c436ca39.dad55"
            ]
        ]
    },
    {
        "id": "f91de1d4.ae1798",
        "type": "switchNode",
        "name": "switch capability-type. vnf",
        "xml": "<switch test=\"`$ss.capability-type == 'vnf'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 385,
        "y": 452.14276123046875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "612ded0b.7aa5c4"
            ]
        ]
    },
    {
        "id": "2734c8ea.c23828",
        "type": "switchNode",
        "name": "switch capability-type vf-module",
        "xml": "<switch test=\"`$ss.capability-type == 'vf-module'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 407.28582763671875,
        "y": 1837.6666259765625,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "76727ba.3b8bb04"
            ]
        ]
    },
    {
        "id": "76727ba.3b8bb04",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 626.2858276367188,
        "y": 1838.6666870117188,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "9d646260.b0f88"
            ]
        ]
    },
    {
        "id": "74139423.e17614",
        "type": "outcome",
        "name": "unassign",
        "xml": "<outcome value='unassign'>",
        "comments": "",
        "outputs": 1,
        "x": 1177.5833129882812,
        "y": 1389.8692016601562,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e51b7888.989928"
            ]
        ]
    },
    {
        "id": "b8362705.36557",
        "type": "set",
        "name": "set tmp.ss.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 1210.1705474853516,
        "y": 547.4722971916199,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "37af35ce.c8f9aa",
        "type": "for",
        "name": "for pidx in param_length",
        "xml": "<for index='i' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 920.3847732543945,
        "y": 547.54376745224,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "f4266bba.68463",
                "ea3f1334.a266f8",
                "b8362705.36557"
            ]
        ]
    },
    {
        "id": "ea3f1334.a266f8",
        "type": "switchNode",
        "name": "switch: capability-name - ss vs param",
        "xml": "<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1223.2460098266602,
        "y": 628.8215498924255,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "d7993c29.a6c5f8"
            ]
        ]
    },
    {
        "id": "d7993c29.a6c5f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1461.9960174560547,
        "y": 628.5715498924255,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "35313136.60f71e"
            ]
        ]
    },
    {
        "id": "85af5a4b.a2187",
        "type": "switchNode",
        "name": "switch: resource-key[].name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1650.2185287475586,
        "y": 820.8654227256775,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "6c06e68b.da7eb8",
                "8b40c4df.047c2",
                "5bcfaea0.c0c0f8",
                "714a9ad3.25a814"
            ]
        ]
    },
    {
        "id": "8b40c4df.047c2",
        "type": "outcome",
        "name": "service-instance-id",
        "xml": "<outcome value='service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1921.607437133789,
        "y": 820.3376412391663,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ee744de2.8b10f8"
            ]
        ]
    },
    {
        "id": "ee744de2.8b10f8",
        "type": "set",
        "name": "set tmp.ss.service-instance-id",
        "xml": "<set>\n<parameter name='tmp.ss.service-instance-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2187.857437133789,
        "y": 820.0876412391663,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "53877355.ae41ac",
        "type": "update",
        "name": "get-resource IPAM_IP_ASSIGNEMENT",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n\tkey='SELECT * from IPAM_IP_ASSIGNEMENT \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id' >",
        "comments": "",
        "outputs": 1,
        "x": 2175.3888549804688,
        "y": 1491.9048852920532,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "1455e2db.491d8d",
                "f61d39ca.54246"
            ]
        ]
    },
    {
        "id": "1455e2db.491d8d",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2469.9761924743652,
        "y": 1492.9049184322357,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "4d3d930a.c74edc"
            ]
        ]
    },
    {
        "id": "2e96e14a.d8a666",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1872.9761352539062,
        "y": 1408.5477905273438,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "53877355.ae41ac"
            ]
        ]
    },
    {
        "id": "8b797c86.449c88",
        "type": "for",
        "name": "for kidx in resource-key_length",
        "xml": "<for index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key_length`\">",
        "comments": "",
        "outputs": 1,
        "x": 1367.0796127319336,
        "y": 818.7265067100525,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "85af5a4b.a2187"
            ]
        ]
    },
    {
        "id": "c436ca39.dad55",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 636.642822265625,
        "y": 545.666748046875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "37af35ce.c8f9aa",
                "419443bc.89754c"
            ]
        ]
    },
    {
        "id": "7d36e25f.6ea3f4",
        "type": "update",
        "name": "update IPAM_IP_ASSIGNEMENT to PENDING_DELETE...",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE IPAM_IP_ASSIGNEMENT set ip_status = $tmp.status \n\t\tWHERE external_key = $tmp.ss.external-key\n\t\tAND service_instance_id = $tmp.ss.service-instance-id\" >",
        "comments": "",
        "outputs": 1,
        "x": 2998.2858276367188,
        "y": 1583.5835962295532,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ca94a980.5b06e"
            ]
        ]
    },
    {
        "id": "954b1950.33da8",
        "type": "set",
        "name": "set status = PENDING_DELETE",
        "xml": "<set>\n<parameter name='tmp.status' value=\"PENDING_DELETE\" />\n",
        "comments": "",
        "x": 2908.2023315429688,
        "y": 1541.9168481826782,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "ca94a980.5b06e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3305.9522857666016,
        "y": 1584.166919708252,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ddd93d50.c85558"
            ]
        ]
    },
    {
        "id": "ddd93d50.c85558",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error updating NETBOX_IP_ASSIGNMENTS table to unassign ip with external_key=' + $tmp.ss.external-key + ' and service_instance_id=' + $tmp.ss.service-instance-id`\" />\n",
        "comments": "",
        "x": 3484.9525756835938,
        "y": 1583.9765405654907,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "d3428a19.b74a38",
        "type": "execute",
        "name": "execute Netbox unassign IP addresses",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"unassignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2928.2857055664062,
        "y": 1629.8336572647095,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "a11ee488.c69c1",
                "bacc37f5.251158"
            ]
        ]
    },
    {
        "id": "a11ee488.c69c1",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3171.6189727783203,
        "y": 1629.8336067199707,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "727fae.421bc054"
            ]
        ]
    },
    {
        "id": "727fae.421bc054",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Error in NetboxClient#unassignIPAddress with external-key='+ $tmp.ss.external-key`\" />\n",
        "comments": "",
        "x": 3333.618999481201,
        "y": 1629.6433420181274,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "199cb084.41994f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2648.904739379883,
        "y": 1541.3334760665894,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "954b1950.33da8",
                "7d36e25f.6ea3f4",
                "d3428a19.b74a38"
            ]
        ]
    },
    {
        "id": "419443bc.89754c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'SS: pidx: ' + $pidx`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.4484252929688,
        "y": 602.6112365722656,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "6c06e68b.da7eb8",
        "type": "outcome",
        "name": "vnf-id",
        "xml": "<outcome value='vnf-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1903.440444946289,
        "y": 866.58758020401,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "48b45ebc.19189"
            ]
        ]
    },
    {
        "id": "48b45ebc.19189",
        "type": "set",
        "name": "set tmp.ss.vnf-id",
        "xml": "<set>\n<parameter name='tmp.ss.vnf-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2169.4405670166016,
        "y": 866.58758020401,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "4c0830f.966f55",
        "type": "set",
        "name": "set resource-resolution-data.status = DELETED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' \n\tvalue='DELETED' />\n",
        "comments": "",
        "x": 3438.5116577148438,
        "y": 1685.1543579101562,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "5bcfaea0.c0c0f8",
        "type": "outcome",
        "name": "prefix-id",
        "xml": "<outcome value='prefix-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1892.496109008789,
        "y": 910.8376107215881,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "dd169952.c2ddc8"
            ]
        ]
    },
    {
        "id": "dd169952.c2ddc8",
        "type": "set",
        "name": "set prefix-id",
        "xml": "<set>\n<parameter name='tmp.ss.prefix-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2138.996109008789,
        "y": 911.08758020401,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "3246d2cf.e446ce",
        "type": "execute",
        "name": "execute NetboxClient assignIpAddress",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.adaptors.netbox.api.NetboxClient\" method=\"assignIpAddress\">\n<parameter name=\"service_instance_id\" value=\"`$tmp.ss.service-instance-id`\" />\n<parameter name=\"vf_module_id\" value=\"`$tmp.ss.vnf-id`\" />\n<parameter name=\"prefix_id\" value=\"`$tmp.ss.prefix-id`\" />\n<parameter name=\"resource_name\" value=\"`$tmp.ss.param.name`\" />\n<parameter name=\"external_key\" value=\"`$tmp.ss.external-key`\" />",
        "comments": "",
        "outputs": 1,
        "x": 2200.1068725585938,
        "y": 1209.6432886123657,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "bc02f9c5.d3009",
                "5a42ccdf.863d7c"
            ]
        ]
    },
    {
        "id": "bc02f9c5.d3009",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2517.1068725585938,
        "y": 1211.6432275772095,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "9be2285f.3688f8"
            ]
        ]
    },
    {
        "id": "9be2285f.3688f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2725.1068725585938,
        "y": 1215.6432275772095,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "be8fa4c5.70a7a",
                "742a806a.1c8b48"
            ]
        ]
    },
    {
        "id": "be8fa4c5.70a7a",
        "type": "set",
        "name": "set resource-resolution-data.status = FAILED",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' value='FAILED' />\n",
        "comments": "",
        "x": 3042.10693359375,
        "y": 1219.6431970596313,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "742a806a.1c8b48",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n",
        "comments": "",
        "x": 2939.48779296875,
        "y": 1269.2464599609375,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "291a0f5b.065428",
        "type": "set",
        "name": "set resource-resolution-data.status = SUCCESS",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n",
        "comments": "",
        "x": 3019.1900634765625,
        "y": 1414.3340454101562,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "714a9ad3.25a814",
        "type": "outcome",
        "name": "external_key",
        "xml": "<outcome value='external_key'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1915.246337890625,
        "y": 961.4089965820312,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "bc0a0828.40d9d8"
            ]
        ]
    },
    {
        "id": "bc0a0828.40d9d8",
        "type": "set",
        "name": "set external-key",
        "xml": "<set>\n<parameter name='tmp.ss.external-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n",
        "comments": "",
        "x": 2163.8177490234375,
        "y": 961.4090576171875,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "f4266bba.68463",
        "type": "set",
        "name": "set tmp.ss.param.name",
        "xml": "<set>\n<parameter name='tmp.ss.param.name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].name`' />\n",
        "comments": "",
        "x": 1181.9564895629883,
        "y": 587.6627821922302,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "35313136.60f71e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1115.5831298828125,
        "y": 815.6311645507812,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "8b797c86.449c88",
                "f17ee439.871ec"
            ]
        ]
    },
    {
        "id": "3ab742ab.07506e",
        "type": "outcome",
        "name": "assign",
        "xml": "<outcome value='assign'>",
        "comments": "",
        "outputs": 1,
        "x": 1172.190185546875,
        "y": 1227.190673828125,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "ac9eaafc.1d31a"
            ]
        ]
    },
    {
        "id": "f17ee439.871ec",
        "type": "switchNode",
        "name": "switch: ss.capability-action",
        "xml": "<switch test='`$ss.capability-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 934.9402770996094,
        "y": 1232.690673828125,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "3ab742ab.07506e",
                "74139423.e17614"
            ]
        ]
    },
    {
        "id": "26e5147.b2e3b6c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1920.8328857421875,
        "y": 1214.8339233398438,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "3246d2cf.e446ce"
            ]
        ]
    },
    {
        "id": "f61d39ca.54246",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2466.6903381347656,
        "y": 1540.61923122406,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "199cb084.41994f"
            ]
        ]
    },
    {
        "id": "5a42ccdf.863d7c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2525.154296875,
        "y": 1275.154846191406,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "82bf193e.1c3e9"
            ]
        ]
    },
    {
        "id": "4d3d930a.c74edc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2640.1190011160716,
        "y": 1493.3334962299891,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "82bf193e.1c3e9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2719.43994140625,
        "y": 1355.1549682617188,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "291a0f5b.065428",
                "ddc0044e.197a88",
                "96318d27.c30ac8"
            ]
        ]
    },
    {
        "id": "bacc37f5.251158",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3176.5836791992188,
        "y": 1683.7262573242188,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "4c0830f.966f55"
            ]
        ]
    },
    {
        "id": "96318d27.c30ac8",
        "type": "set",
        "name": "set service-data...param[].value = ip-address",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].value' \n\tvalue='`$ip[0]`' />\n",
        "comments": "",
        "x": 3008.7139892578125,
        "y": 1374.2858276367188,
        "z": "1e0169fe.460196",
        "wires": []
    },
    {
        "id": "ddc0044e.197a88",
        "type": "execute",
        "name": "SliStringUtils - split subnet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"original_string\" value=\"`$self_serve_netbox_ip_assignement.ip-address`\" />\n    <parameter name=\"regex\" value=\"/\"/>\n    <parameter name=\"ctx_memory_result_key\" value=\"ip\" />\n  \n",
        "comments": "",
        "outputs": 1,
        "x": 2952.7139892578125,
        "y": 1334.2858276367188,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "722fee02.ac2218",
        "type": "execute",
        "name": "SliStringUtils - split subnet",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"original_string\" value=\"`$self_serve_netbox_ip_assignement.ip-address`\" />\n    <parameter name=\"regex\" value=\"/\"/>\n    <parameter name=\"ctx_memory_result_key\" value=\"ip\" />\n  \n",
        "comments": "",
        "outputs": 1,
        "x": 2960.428680419922,
        "y": 2824.7141942977905,
        "z": "1e0169fe.460196",
        "wires": [
            []
        ]
    },
    {
        "id": "ac9eaafc.1d31a",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1408.392822265625,
        "y": 1221.9642944335938,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "e91661da.3b8608",
                "bf37d131.8b2478"
            ]
        ]
    },
    {
        "id": "e91661da.3b8608",
        "type": "not-found",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1694.643310546875,
        "y": 1191.53564453125,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "26e5147.b2e3b6c"
            ]
        ]
    },
    {
        "id": "bf37d131.8b2478",
        "type": "success",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1693.678466796875,
        "y": 1235.3931274414062,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "26e5147.b2e3b6c"
            ]
        ]
    },
    {
        "id": "e51b7888.989928",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1431.249755859375,
        "y": 1393.750244140625,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "26889fb2.5ce19"
            ]
        ]
    },
    {
        "id": "26889fb2.5ce19",
        "type": "success",
        "name": "SUCCESS",
        "xml": "<outcome value='SUCCESS'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1688.678466796875,
        "y": 1393.9644775390625,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "2e96e14a.d8a666"
            ]
        ]
    },
    {
        "id": "c615cc08.6cc77",
        "type": "outcome",
        "name": "unassign",
        "xml": "<outcome value='unassign'>",
        "comments": "",
        "outputs": 1,
        "x": 1181.428466796875,
        "y": 2975.71435546875,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "5bd2efc8.0cc53"
            ]
        ]
    },
    {
        "id": "398f1da9.7fc262",
        "type": "outcome",
        "name": "assign",
        "xml": "<outcome value='assign'>",
        "comments": "",
        "outputs": 1,
        "x": 1181.749755859375,
        "y": 2705.8930053710938,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "71585e8c.8a959"
            ]
        ]
    },
    {
        "id": "71585e8c.8a959",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1417.952392578125,
        "y": 2700.6666259765625,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "83c2a9a4.58aa98",
                "bd2c6000.241588"
            ]
        ]
    },
    {
        "id": "83c2a9a4.58aa98",
        "type": "not-found",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1704.202880859375,
        "y": 2670.2379760742188,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b4174ab1.8632e"
            ]
        ]
    },
    {
        "id": "bd2c6000.241588",
        "type": "success",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1703.238037109375,
        "y": 2714.095458984375,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "b4174ab1.8632e"
            ]
        ]
    },
    {
        "id": "5bd2efc8.0cc53",
        "type": "switchNode",
        "name": "switch: resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1435.0949096679688,
        "y": 2979.5953979492188,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "9c7404ad.aa898"
            ]
        ]
    },
    {
        "id": "9c7404ad.aa898",
        "type": "success",
        "name": "SUCCESS",
        "xml": "<outcome value='SUCCESS'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1692.5236206054688,
        "y": 2979.8096313476562,
        "z": "1e0169fe.460196",
        "wires": [
            [
                "9e365126.584608"
            ]
        ]
    }
]