[
    {
        "id": "8b02c414.0a0158",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 645.00390625,
        "y": 383.99998915195465,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "68e694fb.03b05c",
                "f7e70447.8db3e8",
                "971f4ab1.d15838"
            ]
        ]
    },
    {
        "id": "4d453692.f3a9c8",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 199.00391006469727,
        "y": 63,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "97a72ea4.29d6f"
            ]
        ]
    },
    {
        "id": "97a72ea4.29d6f",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 251.28960418701172,
        "y": 138.23810827732086,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "62c84170.f19fe"
            ]
        ]
    },
    {
        "id": "62c84170.f19fe",
        "type": "method",
        "name": "method sdwan-vf-operation-lanport-activate",
        "xml": "<method rpc='sdwan-vf-operation-lanport-activate' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 263.00389862060547,
        "y": 232.58634054660797,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "4a4e497e.f869b8"
            ]
        ]
    },
    {
        "id": "4a4e497e.f869b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 263.67057037353516,
        "y": 488.66670763492584,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "347fb228.e9842e",
                "6a3eea86.07aec4",
                "8b02c414.0a0158",
                "137939e6.0ea6f6",
                "1213b66e.6c069a",
                "789e7d3a.85d8f4",
                "ff74d1ed.accce",
                "f32683d3.4b28a",
                "3b4bc5c6.e4f6ca",
                "a812e63e.3da708",
                "ac4f31e9.8674f",
                "1aaf5076.12a2d",
                "6fe14a72.8a26c4",
                "ff0e83f6.a79dc",
                "ee8d2486.88ecd8",
                "dee417c.1c53be8",
                "2a8eeeae.a97fe2",
                "19b08536.47a7ab",
                "d176642b.9b7848",
                "42792fe4.bec31",
                "f49389c2.437958",
                "d0669f94.595ad",
                "e3da978e.7b4c98",
                "c34ad6a3.8e84a8",
                "2b29c48d.675bdc",
                "e96cc964.57ebf8",
                "4c96c619.458ff8",
                "d5b15ee0.c0558",
                "81047830.c65458"
            ]
        ]
    },
    {
        "id": "6a3eea86.07aec4",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 610.0352668762207,
        "y": 254.269144654274,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "5cc5500e.cb96a"
            ]
        ]
    },
    {
        "id": "347fb228.e9842e",
        "type": "switchNode",
        "name": "switch vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 615.0039215087891,
        "y": 193.00001394748688,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "305dd6dd.08e4da"
            ]
        ]
    },
    {
        "id": "305dd6dd.08e4da",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 795.0039024353027,
        "y": 192.0000034570694,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "6b8c86df.f233d8"
            ]
        ]
    },
    {
        "id": "6b8c86df.f233d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 944.4326286315918,
        "y": 193.14292109012604,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "5cc5500e.cb96a",
        "type": "switchNode",
        "name": "switch this vnf-id == input vnf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`\">    \n",
        "comments": "",
        "outputs": 1,
        "x": 833.0039176940918,
        "y": 255.00000965595245,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "36127203.816c4e"
            ]
        ]
    },
    {
        "id": "36127203.816c4e",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1048.0039024353027,
        "y": 253.0000034570694,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "e237d111.df552"
            ]
        ]
    },
    {
        "id": "e237d111.df552",
        "type": "set",
        "name": "set vnf-index",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1212.0039024353027,
        "y": 248.0000034570694,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "f7e70447.8db3e8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 867.0038986206055,
        "y": 417.9999986886978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a74d8270.f16d2"
            ]
        ]
    },
    {
        "id": "68e694fb.03b05c",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.0038948059082,
        "y": 364.9999977350235,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a74d8270.f16d2"
            ]
        ]
    },
    {
        "id": "a74d8270.f16d2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"vnf-topology-operation-input.vnf-request-input.vnf-id not found in service-data\" />\n",
        "comments": "",
        "x": 1030.0038986206055,
        "y": 377.9999986886978,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "971f4ab1.d15838",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 867.0038986206055,
        "y": 478.9999986886978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a3e0e456.022b58"
            ]
        ]
    },
    {
        "id": "1e2cec5d.de4c34",
        "type": "set",
        "name": "set vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n\n",
        "comments": "",
        "x": 1221.0039138793945,
        "y": 477.0000126361847,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "a3e0e456.022b58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1028.0039443969727,
        "y": 475.99999010562897,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "1e2cec5d.de4c34",
                "3182c119.6bacee"
            ]
        ]
    },
    {
        "id": "3182c119.6bacee",
        "type": "for",
        "name": "for each existing vf-index",
        "xml": "<for index='idx' start='0' end='`$vf-module-length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1240.0038833618164,
        "y": 529.9999891519547,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "4ac639b1.fde548"
            ]
        ]
    },
    {
        "id": "4ac639b1.fde548",
        "type": "switchNode",
        "name": "switch vf-module-id found",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id == $vf-module-topology-operation-input.vf-module-information.vf-module-id`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1483.0038986206055,
        "y": 524.9999986886978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "431b4671.7beb88"
            ]
        ]
    },
    {
        "id": "431b4671.7beb88",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1681.003927230835,
        "y": 512.000005364418,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "54c2caba.eaa034"
            ]
        ]
    },
    {
        "id": "54c2caba.eaa034",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1833.0038986206055,
        "y": 513.9999986886978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "3daf2055.af9fa",
                "dc47796a.7906f8",
                "deaa7223.49fff"
            ]
        ]
    },
    {
        "id": "3daf2055.af9fa",
        "type": "set",
        "name": "set tmp.vidx and ctx.vnf-data",
        "xml": "<set>\n<parameter name='tmp.vidx' value='`$idx`' />\n<parameter name='ctx.vf-module-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.`' />\n",
        "comments": "",
        "x": 2061.0040130615234,
        "y": 456.0000025033951,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "dc47796a.7906f8",
        "type": "set",
        "name": "set vf-module-request-input.",
        "xml": "<set>\n<parameter name='vf-module-request-input.' value='`$ctx.vf-module-data.vf-module-request-input.`' />\n\n",
        "comments": "",
        "x": 2065.0040130615234,
        "y": 510.0000025033951,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "137939e6.0ea6f6",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 617.0041007995605,
        "y": 2475.5012583732605,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "deaa7223.49fff",
        "type": "call",
        "name": "call sdwan-get-vf-module-lanport-param",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-vf-module-lanport-param' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2095.4590377807617,
        "y": 561.0104948282242,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "f2af207f.056ba",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1352.2580871582031,
        "y": 589.0040794610977,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "df0e1cc8.6175d"
            ]
        ]
    },
    {
        "id": "498120cb.bf483",
        "type": "switchNode",
        "name": "switch this deviceName == vf-input",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == $prop.lan.deviceName`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1423.25830078125,
        "y": 662.0042091608047,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "2d8a4d76.dce9b2"
            ]
        ]
    },
    {
        "id": "df0e1cc8.6175d",
        "type": "for",
        "name": "for vf-module-input-param length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1638.2579345703125,
        "y": 591.0041633844376,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "88689a59.1525c8"
            ]
        ]
    },
    {
        "id": "2d8a4d76.dce9b2",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1643.2580242156982,
        "y": 663.0042167901993,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "471b276b.f70408"
            ]
        ]
    },
    {
        "id": "471b276b.f70408",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1888.2581024169922,
        "y": 663.0041342973709,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f9301f27.4950a"
            ]
        ]
    },
    {
        "id": "f9301f27.4950a",
        "type": "switchNode",
        "name": "switch deviceId == input vf-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'deviceId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2196.2583770751953,
        "y": 646.0041023492813,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f075729c.cbb68"
            ]
        ]
    },
    {
        "id": "f075729c.cbb68",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2405.258415222168,
        "y": 648.0040947198868,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "707326cf.03f308"
            ]
        ]
    },
    {
        "id": "d4d9dbbb.648b58",
        "type": "set",
        "name": "set prop.lan.deviceId",
        "xml": "<set>\n<parameter name='prop.lan.deviceId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2778.258441925049,
        "y": 584.0042724609375,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "1213b66e.6c069a",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 606.2578125,
        "y": 456.00404131412506,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a1edaa1e.9827b8"
            ]
        ]
    },
    {
        "id": "d899ea3c.cf2f28",
        "type": "switchNode",
        "name": "switch ActivateSDWANSiteInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANSiteInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1251.008171081543,
        "y": 817.0040302276611,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "2030d34.407f32c"
            ]
        ]
    },
    {
        "id": "752f257f.d5098c",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1256.0080871582031,
        "y": 730.0041098594666,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "adf19321.c13fa"
            ]
        ]
    },
    {
        "id": "ee8d2486.88ecd8",
        "type": "for",
        "name": "for service-data.vnfs.vnf_length",
        "xml": "<for index='vnfidx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 640.0078811645508,
        "y": 671.0039068460464,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f8bad303.dbe7d"
            ]
        ]
    },
    {
        "id": "2030d34.407f32c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1501.0082206726074,
        "y": 811.0041122436523,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f69a83eb.44d4d"
            ]
        ]
    },
    {
        "id": "841cfed1.a1254",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3017.2584648132324,
        "y": 860.5040955543518,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "e784ebf1.08c898"
            ]
        ]
    },
    {
        "id": "9be03c3c.6339a",
        "type": "set",
        "name": "set prop.attach.siteId",
        "xml": "<set>\n<parameter name='prop.attach.siteId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$sidx].value`' />\n",
        "comments": "",
        "x": 3408.259147644043,
        "y": 813.5041975975037,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "e784ebf1.08c898",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3176.5086555480957,
        "y": 856.0041356086731,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "9be03c3c.6339a",
                "9e178a26.f11d98",
                "464c0296.a1e48c"
            ]
        ]
    },
    {
        "id": "2a8eeeae.a97fe2",
        "type": "execute",
        "name": "execute RestApiCallNode device port create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-port.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/net/ports'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"portResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 683.0351696014404,
        "y": 1706.0783809423447,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "4fb32b06.22de74",
                "2ccfd494.b7778c"
            ]
        ]
    },
    {
        "id": "4fb32b06.22de74",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 929.035228729248,
        "y": 1720.0785145759583,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "174c6392.45d36c"
            ]
        ]
    },
    {
        "id": "2ccfd494.b7778c",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 929.035228729248,
        "y": 1682.0783500671387,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f32d5720.b004a8"
            ]
        ]
    },
    {
        "id": "f32d5720.b004a8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1073.0355625152588,
        "y": 1681.0783495903015,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "174c6392.45d36c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1076.0352401733398,
        "y": 1721.0783534049988,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "789e7d3a.85d8f4",
        "type": "set",
        "name": "set prop.lan.devicePortId",
        "xml": "<set>\n<parameter name='prop.lan.devicePortId' value='`$portResp.success[0].id`' />\n",
        "comments": "",
        "x": 622.6924304962158,
        "y": 1759.1795134544373,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "c8e5454e.a5f2d8",
        "type": "comment",
        "name": "Create port",
        "info": "",
        "comments": "",
        "x": 581.7011089324951,
        "y": 1672.5223326683044,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "dee417c.1c53be8",
        "type": "call",
        "name": "call sdwan-get-tenant-auth",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='sdwan-get-tenant-auth' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 620.7011108398438,
        "y": 1443.188735961914,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "73930f6d.bd40a",
        "type": "execute",
        "name": "execute RestApiCallNode bridge domain create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-bridge-domain.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/bridge-domains'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"bridgeDomainResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1102.6854190826416,
        "y": 1801.1889374256134,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f4939515.e934a8",
                "7fbfd7f1.fe5c88"
            ]
        ]
    },
    {
        "id": "f4939515.e934a8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1423.6854457855225,
        "y": 1818.1892578601837,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "b71c12a.f5b84f"
            ]
        ]
    },
    {
        "id": "7fbfd7f1.fe5c88",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1426.6854724884033,
        "y": 1783.1890394687653,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "e1ceccd5.e3c8a"
            ]
        ]
    },
    {
        "id": "e1ceccd5.e3c8a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create bridge domain rest api\" />\n",
        "comments": "",
        "x": 1629.6858615875244,
        "y": 1779.1891467571259,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "b71c12a.f5b84f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1630.6854267120361,
        "y": 1814.1890132427216,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a9b33c49.c3bcd"
            ]
        ]
    },
    {
        "id": "a6aa3698.83f238",
        "type": "comment",
        "name": "Create bridge domain",
        "info": "",
        "comments": "",
        "x": 1046.351312637329,
        "y": 1767.6331632137299,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "ff74d1ed.accce",
        "type": "switchNode",
        "name": "switch portSwitch",
        "xml": "<switch test=\"`$prop.lan.portSwitch == 'layer2-port'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 602.4628849029541,
        "y": 1802.8555693626404,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "e5cd78cd.5d2488"
            ]
        ]
    },
    {
        "id": "e5cd78cd.5d2488",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 781.4629154205322,
        "y": 1802.9668917655945,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "73930f6d.bd40a"
            ]
        ]
    },
    {
        "id": "f32683d3.4b28a",
        "type": "execute",
        "name": "execute split ip and mask",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.lan.ipAddress`'/>\n<parameter name=\"regex\" value=\"/\"/>\n<parameter name=\"ctx_memory_result_key\" value=\"ipandMask\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 624.0079498291016,
        "y": 1150.7540369033813,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "c682732c.1b619",
                "a0542b6d.df6248"
            ]
        ]
    },
    {
        "id": "a0542b6d.df6248",
        "type": "failure",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 825.0079689025879,
        "y": 1128.7540283203125,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "c4664b45.9bda68"
            ]
        ]
    },
    {
        "id": "c682732c.1b619",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 825.0079727172852,
        "y": 1169.7540321350098,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "be2b2979.dff578"
            ]
        ]
    },
    {
        "id": "c4664b45.9bda68",
        "type": "set",
        "name": "set ipAddress prefixLength",
        "xml": "<set>\n<parameter name='prop.lan.ip-address' value='`$ipandMask[0]`' />\n<parameter name='prop.lan.prefixLength' value='`$ipandMask[1]`' />",
        "comments": "",
        "x": 1022.0079879760742,
        "y": 1126.7540283203125,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "be2b2979.dff578",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
        "comments": "",
        "x": 980.0079803466797,
        "y": 1166.7540311813354,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "cae7c761.8a48d8",
        "type": "comment",
        "name": "Create wan port",
        "info": "",
        "comments": "",
        "x": 600.0177555084229,
        "y": 1855.764169216156,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "a78777a6.efc058",
        "type": "comment",
        "name": "TODO: split ip/mask",
        "info": "",
        "comments": "",
        "x": 1024.0175495147705,
        "y": 1840.9343829154968,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "2b29c48d.675bdc",
        "type": "execute",
        "name": "execute RestApiCallNode IPSubnets create",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdlan-ip-subnets.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/ip-subnets'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"lanPortResp\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 690.7792358398438,
        "y": 1923.8749885559082,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "d75115d2.ddadb8",
                "1522b134.0365cf"
            ]
        ]
    },
    {
        "id": "1522b134.0365cf",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 959.7792663574219,
        "y": 1910.874960899353,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "4e7a2718.c54bb8"
            ]
        ]
    },
    {
        "id": "d75115d2.ddadb8",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 956.779239654541,
        "y": 1945.8751792907715,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "921eb416.d975f8"
            ]
        ]
    },
    {
        "id": "4e7a2718.c54bb8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create device port rest api\" />\n",
        "comments": "",
        "x": 1112.7796478271484,
        "y": 1906.875186920166,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "921eb416.d975f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1103.7792205810547,
        "y": 1946.8749351501465,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "56dec516.1d914c"
            ]
        ]
    },
    {
        "id": "56dec516.1d914c",
        "type": "set",
        "name": "set prop.lan.lanPortId",
        "xml": "<set>\n<parameter name='prop.lan.lanPortId' value='`$lanPortResp.success[0].id`' />\n",
        "comments": "",
        "x": 1310.6683235168457,
        "y": 1949.2084016799927,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "d176642b.9b7848",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn topology",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn-topology.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/' + $prop.vpnId + '/topology'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 688.2896537780762,
        "y": 1612.584020614624,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "808ba7f7.1823b8",
                "c4951686.b75398"
            ]
        ]
    },
    {
        "id": "c4951686.b75398",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 936.2895374298096,
        "y": 1638.5833979845047,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "784c02db.e6a95c"
            ]
        ]
    },
    {
        "id": "784c02db.e6a95c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1106.2894763946533,
        "y": 1641.5833979845047,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "38bcf7f.a17ed08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn topology failed\" />\n",
        "comments": "",
        "x": 1106.2895984649658,
        "y": 1597.5833979845047,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "808ba7f7.1823b8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 939.2894763946533,
        "y": 1597.5833979845047,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "38bcf7f.a17ed08"
            ]
        ]
    },
    {
        "id": "19b08536.47a7ab",
        "type": "execute",
        "name": "execute RestApiCallNode create vpn ",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/sdwan-vpn.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/campus/v1/sdwan/overlay-network/vpn'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
        "comments": "",
        "outputs": 1,
        "x": 659.2879791259766,
        "y": 1523.083080291748,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "8d4926aa.0dedd8",
                "34aad35b.eecf2c"
            ]
        ]
    },
    {
        "id": "34aad35b.eecf2c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 880.2878818511963,
        "y": 1545.083046078682,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "29a5b00a.563c1"
            ]
        ]
    },
    {
        "id": "29a5b00a.563c1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1050.28782081604,
        "y": 1548.083046078682,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "f02161da.6bf6a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn failed\" />\n",
        "comments": "",
        "x": 1050.2879428863525,
        "y": 1504.083046078682,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "8d4926aa.0dedd8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 883.28782081604,
        "y": 1504.083046078682,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f02161da.6bf6a"
            ]
        ]
    },
    {
        "id": "b00f339b.1e85c",
        "type": "switchNode",
        "name": "switch ActivateSDWANVpnInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANVpnInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1249.2898559570312,
        "y": 925.3332660198212,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "98de150a.a898a8"
            ]
        ]
    },
    {
        "id": "adf19321.c13fa",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 978.6229438781738,
        "y": 823.333335518837,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "d899ea3c.cf2f28",
                "b00f339b.1e85c"
            ]
        ]
    },
    {
        "id": "98de150a.a898a8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.9563674926758,
        "y": 999.3333470821381,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "8e6a1b76.fca5b8"
            ]
        ]
    },
    {
        "id": "8e6a1b76.fca5b8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1559.2062530517578,
        "y": 1000.8333237171173,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "beead211.571e7"
            ]
        ]
    },
    {
        "id": "cdf1bbb6.bd8ba8",
        "type": "switchNode",
        "name": "switch vpn-id",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'vpn-id'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1957.2064361572266,
        "y": 1015.8333911895752,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "1fffc0b9.a8833f"
            ]
        ]
    },
    {
        "id": "1fffc0b9.a8833f",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2106.9563598632812,
        "y": 1020.3332909345627,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "92af9681.b05978"
            ]
        ]
    },
    {
        "id": "92af9681.b05978",
        "type": "set",
        "name": "set prop.vpnId",
        "xml": "<set>\n<parameter name='prop.vpnId' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2280.9571075439453,
        "y": 1020.3333493471146,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "9e178a26.f11d98",
        "type": "set",
        "name": "Add sites to list and update length",
        "xml": "<set>\n<parameter name='prop.siteIds[$prop.siteIds_length]' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteIds_length' value='`$prop.siteIds_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 3444.290397644043,
        "y": 868.3334641456604,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "464c0296.a1e48c",
        "type": "set",
        "name": "Add site attachement to list and update length",
        "xml": "<set>\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].siteId' value='`$prop.attach.siteId`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles[0]' value='`$prop.role`' />\n<parameter name='prop.siteAttachements[$prop.siteAttachements_length].roles_length' value='1' />\n<parameter name='prop.siteAttachements_length' value='`$prop.siteAttachements_length + 1`' />\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments": "",
        "x": 3475.2902221679688,
        "y": 918.333414554596,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "3b4bc5c6.e4f6ca",
        "type": "set",
        "name": "set prop.siteAttachement_length=0",
        "xml": "<set>\n<parameter name='prop.siteAttachements_length' value='0' />\n<parameter name='prop.siteIds_length' value='0' />\n\n\n\n",
        "comments": "",
        "x": 650.2896194458008,
        "y": 620.3333288431168,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "929e0fdf.a14df",
        "type": "switchNode",
        "name": "switch role",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'role'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2186.956443786621,
        "y": 756.3333539962769,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "748a3dbb.4abc94"
            ]
        ]
    },
    {
        "id": "748a3dbb.4abc94",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2350.9564476013184,
        "y": 756.3333539962769,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "63238f0b.0c796"
            ]
        ]
    },
    {
        "id": "63238f0b.0c796",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2538.956615447998,
        "y": 741.3333530426025,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "778462c0.19820c",
                "4b6f7aba.421804",
                "7959c34a.0b74cc"
            ]
        ]
    },
    {
        "id": "4b6f7aba.421804",
        "type": "switchNode",
        "name": "switch sd-wan-edge",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == 'sd-wan-edge'`\">\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2733.956745147705,
        "y": 702.3333444595337,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "d2392f6d.dd3f8"
            ]
        ]
    },
    {
        "id": "778462c0.19820c",
        "type": "switchNode",
        "name": "switch dsvpn-hub",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value == 'dsvpn-hub'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2730.9568519592285,
        "y": 757.3333599567413,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "6240c68b.ec5338"
            ]
        ]
    },
    {
        "id": "9130115c.24fe5",
        "type": "set",
        "name": "set spoke role",
        "xml": "<set>\n<parameter name='prop.role' value=\"spoke\" />\n",
        "comments": "",
        "x": 3063.9568672180176,
        "y": 696.3333902359009,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "f5deb026.df82c",
        "type": "set",
        "name": "set hub role",
        "xml": "<set>\n<parameter name='prop.role' value=\"hub\" />\n",
        "comments": "",
        "x": 3062.95662689209,
        "y": 751.3333740234375,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "d2392f6d.dd3f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2903.956714630127,
        "y": 698.0000190734863,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "9130115c.24fe5"
            ]
        ]
    },
    {
        "id": "6240c68b.ec5338",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2907.956714630127,
        "y": 753.0000190734863,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f5deb026.df82c"
            ]
        ]
    },
    {
        "id": "42792fe4.bec31",
        "type": "update",
        "name": "update SDWAN VPN status to AAI",
        "xml": "<update plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='lan-port-config' \n      key='lan-port-config.lan-port-config-id = $vf-module-topology-operation-input.vf-module-information.vf-module-id' >\n<parameter name='lan-port-config-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='operational-status' value='Active' />\n<!--parameter name='lan-port-config-id' value='`$prop.lan-port-config-id`' /-->\n",
        "comments": "",
        "outputs": 1,
        "x": 672.320972442627,
        "y": 2394.0313868522644,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "1aaf5076.12a2d",
        "type": "set",
        "name": "set vf-module-level-oper-status",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.order-status'  value='Active' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-rpc-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-level-oper-status.last-action'  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />",
        "comments": "",
        "x": 666.9559936523438,
        "y": 2339.1263122558594,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "ac4f31e9.8674f",
        "type": "set",
        "name": "set vf-module-id and vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 702.9559936523438,
        "y": 2292.626251220703,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "a812e63e.3da708",
        "type": "set",
        "name": "copy input data in service-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.sdnc-request-header.' value='`$vf-module-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.request-information.' value='`$vf-module-topology-operation-input.request-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.service-information.' value='`$vf-module-topology-operation-input.service-information.`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-information.' value='`$vf-module-topology-operation-input.vf-module-information.`' />\n",
        "comments": "",
        "x": 667.9559326171875,
        "y": 2237.876220703125,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "ff0e83f6.a79dc",
        "type": "set",
        "name": "set device PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='devicePortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.devicePortId`' />\n",
        "comments": "",
        "x": 671.3209762573242,
        "y": 1981.0317306518555,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "6fe14a72.8a26c4",
        "type": "set",
        "name": "set lan PortId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='lanPortId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.lanPortId`' />\n",
        "comments": "",
        "x": 665.320915222168,
        "y": 2066.031364440918,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "b8234051.e1603",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length >= '0'`\">\n\n<!--switch test=\"`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 865.5038909912109,
        "y": 543.2539049386978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "16d3b783.0cd918"
            ]
        ]
    },
    {
        "id": "16d3b783.0cd918",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 971.50390625,
        "y": 594.2539049386978,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "5cba566.e5faea8"
            ]
        ]
    },
    {
        "id": "a1edaa1e.9827b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 665.7539138793945,
        "y": 504.00390350818634,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "b8234051.e1603"
            ]
        ]
    },
    {
        "id": "5cba566.e5faea8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1123.753890991211,
        "y": 591.0039268732071,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f2af207f.056ba"
            ]
        ]
    },
    {
        "id": "88689a59.1525c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1867.5039710998535,
        "y": 589.0039106607437,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "498120cb.bf483"
            ]
        ]
    },
    {
        "id": "2a8efd4f.307a02",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 903.2539329528809,
        "y": 1225.7540172040462,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "c5e91ad3.94c708"
            ]
        ]
    },
    {
        "id": "76b0b1a9.365ed",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 906.7448997497559,
        "y": 1273.3280528485775,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "ca44fd4d.9a232"
            ]
        ]
    },
    {
        "id": "1a464e8d.d61281",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 902.0779075622559,
        "y": 1314.6613658368587,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "8ed5a0be.2020f"
            ]
        ]
    },
    {
        "id": "ca44fd4d.9a232",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1083.3163108825684,
        "y": 1261.6137889325619,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "8ed5a0be.2020f",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
        "comments": "",
        "x": 1089.8504638671875,
        "y": 1310.1005586087704,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "5729e228.1a118c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 905.2540054321289,
        "y": 1368.7540473937988,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "b11fa2f9.fb7d9"
            ]
        ]
    },
    {
        "id": "9ae06886.9dad78",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 897.5040054321289,
        "y": 1422.39693069458,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "63364892.2ff828"
            ]
        ]
    },
    {
        "id": "b11fa2f9.fb7d9",
        "type": "set",
        "name": "set token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
        "comments": "",
        "x": 1055.2539329528809,
        "y": 1369.7540159225464,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "63364892.2ff828",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
        "comments": "",
        "x": 1050.254005432129,
        "y": 1422.1469917297363,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "c5e91ad3.94c708",
        "type": "set",
        "name": "set controller data",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
        "comments": "",
        "x": 1098.7540130615234,
        "y": 1220.7540216445923,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "d0669f94.595ad",
        "type": "execute",
        "name": "execute RestApiCallNode Get token",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 656.2539825439453,
        "y": 1391.7541246414185,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "5729e228.1a118c",
                "9ae06886.9dad78"
            ]
        ]
    },
    {
        "id": "f49389c2.437958",
        "type": "get-resource",
        "name": "get-resource esr-thirdparty-sdnc",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = 'SDWANController' AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 641.2540512084961,
        "y": 1272.7540369033813,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "2a8efd4f.307a02",
                "76b0b1a9.365ed",
                "1a464e8d.d61281"
            ]
        ]
    },
    {
        "id": "e3da978e.7b4c98",
        "type": "execute",
        "name": "execute Properties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 625.00390625,
        "y": 323.5039049386978,
        "z": "8f678717.6ce918",
        "wires": [
            []
        ]
    },
    {
        "id": "707326cf.03f308",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2566.5039863586426,
        "y": 612.7539138793945,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "d4d9dbbb.648b58",
                "e2915ee2.8ebb7"
            ]
        ]
    },
    {
        "id": "e2915ee2.8ebb7",
        "type": "set",
        "name": "set site-vnf-index",
        "xml": "<set>\n<parameter name='site-vnf-index' value='`$vnfidx`' />\n",
        "comments": "",
        "x": 2775.50390625,
        "y": 630.7539043426514,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "c34ad6a3.8e84a8",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='vfidx' start='0' end='`$service-data.vnfs.vnf[$site-vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 645.0000305175781,
        "y": 979.6667224168777,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "5417e4ec.44e0fc"
            ]
        ]
    },
    {
        "id": "5417e4ec.44e0fc",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 746.614933013916,
        "y": 1075.9960042238235,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "96fd6203.a93a8"
            ]
        ]
    },
    {
        "id": "96fd6203.a93a8",
        "type": "switchNode",
        "name": "switch ActivateSDWANSiteInstance",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$site-vnf-index].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.request-information.request-action == 'ActivateSDWANSiteInstance'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1011.0001754760742,
        "y": 1025.6666556596756,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "ff96c27a.f8b4c"
            ]
        ]
    },
    {
        "id": "ff96c27a.f8b4c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1233.0000915527344,
        "y": 1025.6667371988297,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "5c974e6c.9d1de"
            ]
        ]
    },
    {
        "id": "5c974e6c.9d1de",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$site-vnf-index].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1314.250099182129,
        "y": 1100.1667386293411,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "f2c7eaa3.99a658"
            ]
        ]
    },
    {
        "id": "f2c7eaa3.99a658",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1531.6152648925781,
        "y": 1100.9960032701492,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "a31b541a.f43428"
            ]
        ]
    },
    {
        "id": "a31b541a.f43428",
        "type": "switchNode",
        "name": "switch siteId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$site-vnf-index].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'siteId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1697.2504577636719,
        "y": 1107.1668459177017,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "acd1f3fa.6df91"
            ]
        ]
    },
    {
        "id": "acd1f3fa.6df91",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1874.2504768371582,
        "y": 1110.1666861772537,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "dbf157a8.9bfda8"
            ]
        ]
    },
    {
        "id": "dbf157a8.9bfda8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2033.5006675720215,
        "y": 1105.666726231575,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "6d90da35.f2faa4"
            ]
        ]
    },
    {
        "id": "6d90da35.f2faa4",
        "type": "set",
        "name": "set prop.attach.siteId",
        "xml": "<set>\n<parameter name='prop.siteId' value='`$service-data.vnfs.vnf[$site-vnf-index].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2258.2509841918945,
        "y": 1084.1667376756668,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "beead211.571e7",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1782.0000610351562,
        "y": 997.3333483934402,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "cdf1bbb6.bd8ba8",
                "4590d72e.8fdc58",
                "c987788c.bf7828"
            ]
        ]
    },
    {
        "id": "4590d72e.8fdc58",
        "type": "switchNode",
        "name": "switch name",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'name'`\">\n    \n",
        "comments": "",
        "outputs": 1,
        "x": 1957.000015258789,
        "y": 967.3333216905594,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "ccda746f.733f78"
            ]
        ]
    },
    {
        "id": "ccda746f.733f78",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2107.749969482422,
        "y": 968.8332372903824,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "8dafe60a.3c53c8"
            ]
        ]
    },
    {
        "id": "8dafe60a.3c53c8",
        "type": "set",
        "name": "set prop.name",
        "xml": "<set>\n<parameter name='prop.name' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2281.750717163086,
        "y": 968.8332957029343,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "28067cd3.bf95d4",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1961.2583961486816,
        "y": 799.5041923522949,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "929e0fdf.a14df"
            ]
        ]
    },
    {
        "id": "2b01491e.2600e6",
        "type": "switchNode",
        "name": "switch siteId",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$sidx].name == 'siteId'`\">\n    \n\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2840.258445739746,
        "y": 857.5042552947998,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "841cfed1.a1254"
            ]
        ]
    },
    {
        "id": "f69a83eb.44d4d",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1693.531337738037,
        "y": 804.0312929153442,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "28067cd3.bf95d4"
            ]
        ]
    },
    {
        "id": "7959c34a.0b74cc",
        "type": "for",
        "name": "for vf-modules.vf-module_length",
        "xml": "<for index='sidx' start='0' end='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2593.5310440063477,
        "y": 851.0312733650208,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "2b01491e.2600e6"
            ]
        ]
    },
    {
        "id": "c987788c.bf7828",
        "type": "switchNode",
        "name": "switch topology",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].name == 'topology'`\">\n    \n",
        "comments": "",
        "outputs": 1,
        "x": 1955.50390625,
        "y": 907.7539043426514,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "b8a07211.4482a"
            ]
        ]
    },
    {
        "id": "b8a07211.4482a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2106.253860473633,
        "y": 909.2538199424744,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "54d15a4c.97ff74"
            ]
        ]
    },
    {
        "id": "54d15a4c.97ff74",
        "type": "set",
        "name": "set prop.topology",
        "xml": "<set>\n<parameter name='prop.topology' value='`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module[$vfidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$pidx].value`' />\n",
        "comments": "",
        "x": 2280.254608154297,
        "y": 909.2538783550262,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "a9b33c49.c3bcd",
        "type": "set",
        "name": "set prop.lan.bridgeDomainId",
        "xml": "<set>\n<parameter name='prop.lan.bridgeDomainId' value='`$bridgeDomainResp.success[0].id`' />\n",
        "comments": "",
        "x": 1861.254005432129,
        "y": 1812.7539238929749,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "e96cc964.57ebf8",
        "type": "set",
        "name": "increment lan-port param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 677.5039138793945,
        "y": 2023.2538995742798,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "4c96c619.458ff8",
        "type": "set",
        "name": "increment lan-port param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 677.50390625,
        "y": 2110.25390625,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "d5b15ee0.c0558",
        "type": "set",
        "name": "set bridge-domainId to service data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].name' value='bridgeDomainId' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param[$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length].value' value='`$prop.lan.bridgeDomainId`' />\n",
        "comments": "",
        "x": 690,
        "y": 2154,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "81047830.c65458",
        "type": "set",
        "name": "increment lan-port param length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$tmp.vidx].vf-module-data.vf-module-request-input.vf-module-input-parameters.param_length + 1`' />\n",
        "comments": "",
        "x": 671.1830062866211,
        "y": 2197.2225341796875,
        "z": "8f678717.6ce918",
        "wires": []
    },
    {
        "id": "f8bad303.dbe7d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 875,
        "y": 666.6666870117188,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "8c2d8bf6.5cda78"
            ]
        ]
    },
    {
        "id": "8c2d8bf6.5cda78",
        "type": "switchNode",
        "name": "switch vf-modules.vf-module_length",
        "xml": "<switch test=\"`$service-data.vnfs.vnf[$vnfidx].vnf-data.vf-modules.vf-module_length >= '0'`\">\n\n<!--switch test=\"`$service-data.vnfs.vnf[$i].vnf-data.request-information.request-action == 'ActivateSDWANDeviceInstance'`\"-->\n",
        "comments": "",
        "outputs": 1,
        "x": 708.7500152587891,
        "y": 790.9167098999023,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "fd56a113.86307"
            ]
        ]
    },
    {
        "id": "fd56a113.86307",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 877,
        "y": 734.6666870117188,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "341d8e5.7253272"
            ]
        ]
    },
    {
        "id": "341d8e5.7253272",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1024.2500305175781,
        "y": 733.416708946228,
        "z": "8f678717.6ce918",
        "wires": [
            [
                "752f257f.d5098c"
            ]
        ]
    }
]