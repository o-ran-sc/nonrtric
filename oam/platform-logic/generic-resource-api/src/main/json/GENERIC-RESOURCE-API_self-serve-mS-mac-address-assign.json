[{"id":"7bf4d1a4.19d72","type":"dgstart","name":"DGSTART","outputs":1,"x":120,"y":36,"z":"49f11553.28c29c","wires":[["4d0677c6.367138"]]},{"id":"4d0677c6.367138","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":378.9403991699219,"y":36.32145690917969,"z":"49f11553.28c29c","wires":[["41de3cd3.931d34"]]},{"id":"ce021d20.bb75e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":120,"y":91,"z":"49f11553.28c29c","wires":[["3a55a76e.5fcb98","ea86d577.27bfa8","c740ee24.70b1c","8de816b3.3b10d8","4cffbb79.37f154","937a5b68.3f7018","1517a6d1.e2b0c9"]]},{"id":"b97b03f1.6a8c","type":"comment","name":"Validate inputs","info":"ss.capability-action should be \"ASSIGN\" or \"\"UNASSIGN\"","comments":"","x":249,"y":130,"z":"49f11553.28c29c","wires":[]},{"id":"1517a6d1.e2b0c9","type":"switchNode","name":"switch ss.capability-action (assign| unassign)","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":321,"y":3096,"z":"49f11553.28c29c","wires":[["97880e7a.706b9","6e59c5de.77ff3c"]]},{"id":"97880e7a.706b9","type":"outcome","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":284.25006103515625,"y":3164.75,"z":"49f11553.28c29c","wires":[["6466676a.e4e518"]]},{"id":"6e59c5de.77ff3c","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":324,"y":3778,"z":"49f11553.28c29c","wires":[["9890fe8e.13a7a"]]},{"id":"c66abc48.0cf27","type":"comment","name":"Call self-serve-capability-param-resolution DG to resolve all resource-keys","info":"","comments":"","x":432,"y":493,"z":"49f11553.28c29c","wires":[]},{"id":"3a55a76e.5fcb98","type":"switchNode","name":"switch ss.capability-name","xml":"<switch test=\"`$ss.capability-name`\">\n","comments":"","outputs":1,"x":286,"y":173,"z":"49f11553.28c29c","wires":[["88e6e51d.69fea8","3285fa47.677276","51c348b8.5400f8","98462d6a.386e1"]]},{"id":"88e6e51d.69fea8","type":"not-found","name":"not-found","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":560,"y":146,"z":"49f11553.28c29c","wires":[["f8ba93eb.3b672"]]},{"id":"3285fa47.677276","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":550,"y":186,"z":"49f11553.28c29c","wires":[["f8ba93eb.3b672"]]},{"id":"51c348b8.5400f8","type":"other","name":"mS-mac-address-assign ","xml":"<outcome value='mS-mac-address-assign'>\n","comments":"","outputs":1,"x":603,"y":227,"z":"49f11553.28c29c","wires":[["cbe46562.045fc8"]]},{"id":"6164f080.f1d8d","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='ss.capability-name is not set' />\n","comments":"","x":862,"y":182,"z":"49f11553.28c29c","wires":[]},{"id":"98462d6a.386e1","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":553,"y":106,"z":"49f11553.28c29c","wires":[["f8ba93eb.3b672"]]},{"id":"cbe46562.045fc8","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: ss.capability-name is mS-mac-address-assign\"/>","comments":"","outputs":1,"x":845,"y":227,"z":"49f11553.28c29c","wires":[[]]},{"id":"ea86d577.27bfa8","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":244,"y":539,"z":"49f11553.28c29c","wires":[["a108bc30.a26be","a1865f04.1684b","e6533a36.caa458"]]},{"id":"a1865f04.1684b","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: call self-serve-capability-param-resolution DG\"/>","comments":"","outputs":1,"x":271,"y":597,"z":"49f11553.28c29c","wires":[[]]},{"id":"a108bc30.a26be","type":"set","name":"set variables for calling capability-param-resolution","xml":"<set>\n<!--<parameter name='name' value='value' />-->","comments":"","x":407.6904296875,"y":642.3095703125,"z":"49f11553.28c29c","wires":[]},{"id":"e6533a36.caa458","type":"call","name":"call GR-API:self-serve-capability-param-resolution","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-capability-param-resolution' mode='sync' >\n","comments":"","outputs":1,"x":404.023681640625,"y":688.976318359375,"z":"49f11553.28c29c","wires":[["b5b8fd64.0f6ed","1d8c4d61.457f73"]]},{"id":"b5b8fd64.0f6ed","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":718.7379760742188,"y":665.83349609375,"z":"49f11553.28c29c","wires":[["3284ee31.dbd392"]]},{"id":"1d8c4d61.457f73","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":722.0713259379067,"y":717.5001392364502,"z":"49f11553.28c29c","wires":[[]]},{"id":"adf382f0.6b643","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='402' />\n<parameter name='error-message' value='Failure calling self-serve-capability-param-resolution' />\n","comments":"","x":1005,"y":688,"z":"49f11553.28c29c","wires":[]},{"id":"81f4dee7.0c2ed","type":"comment","name":"Loop thru vf-module-params for ALL matches with ss.capability-name","info":"","comments":"","x":411,"y":758,"z":"49f11553.28c29c","wires":[]},{"id":"557b99b5.739db8","type":"for","name":"for each vf-module-parameters","xml":"<for index='vf-module-param-index' start='0' end='`$tmp.vf-module-parameters-length`' >\n","comments":"","outputs":1,"x":373,"y":942,"z":"49f11553.28c29c","wires":[["d0ca161f.60d4d8","18493294.3b694d"]]},{"id":"18493294.3b694d","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: vf-module-param-index\"/>\n<parameter name=\"field3\" value='`$vf-module-param-index`'/>","comments":"","outputs":1,"x":586,"y":942,"z":"49f11553.28c29c","wires":[[]]},{"id":"d0ca161f.60d4d8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":355,"y":991,"z":"49f11553.28c29c","wires":[["15a20296.9654bd","ff0ba945.2b7078"]]},{"id":"c740ee24.70b1c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":244,"y":804,"z":"49f11553.28c29c","wires":[["35627889.198308","557b99b5.739db8","f76a923e.1777d"]]},{"id":"35627889.198308","type":"set","name":"set vf-module-parameters-length","xml":"<set>\n<parameter name='tmp.vf-module-parameters-length' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />\n","comments":"","x":380,"y":898,"z":"49f11553.28c29c","wires":[]},{"id":"15a20296.9654bd","type":"set","name":"set vfModuleParamsCapabilityName and intiailize tmp.* mS input params","xml":"<set>\n<parameter name='vfModuleParamsCapabilityName' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.capability-name`'  />\n<parameter name='tmp.vnfHostName' value=''  />\n<parameter name='tmp.policyInstanceName' value=''  />\n<parameter name='tmp.cloudParamName' value=''  />\n<parameter name='tmp.swName' value=''  />\n<parameter name='tmp.resourceValue' value=''  />","comments":"","x":579,"y":1080,"z":"49f11553.28c29c","wires":[]},{"id":"ff0ba945.2b7078","type":"switchNode","name":"switch compare vfModuleParamsCapabilityName and ss.capability-name","xml":"<switch test=\"`$ss.capability-name == $vfModuleParamsCapabilityName`\">","comments":"","outputs":1,"x":578,"y":1125,"z":"49f11553.28c29c","wires":[["64a2b02f.091b6","5b2a978e.33ad68"]]},{"id":"8de816b3.3b10d8","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/self-serve-mS-mac-address-assign.log' />\n","comments":"","outputs":1,"x":214,"y":4795,"z":"49f11553.28c29c","wires":[[]]},{"id":"4cffbb79.37f154","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-parameters-index].resource-resolution-data.status`\" value='SUCCESS'  />","comments":"","x":221,"y":4850,"z":"49f11553.28c29c","wires":[]},{"id":"64a2b02f.091b6","type":"outcome","name":"outcome:ss.capability-name match","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":477,"y":1173,"z":"49f11553.28c29c","wires":[["a5d9689a.f6d4b8"]]},{"id":"5b2a978e.33ad68","type":"other","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":387,"y":1214,"z":"49f11553.28c29c","wires":[[]]},{"id":"b765058d.012728","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Found ss.capability-name MATCH\"/>","comments":"","outputs":1,"x":823,"y":1173,"z":"49f11553.28c29c","wires":[[]]},{"id":"a5d9689a.f6d4b8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":691,"y":1173,"z":"49f11553.28c29c","wires":[["b765058d.012728","f8298f45.6dd8f","e795d2b2.de9ea"]]},{"id":"b833668a.32a2e8","type":"set","name":"set resource-resolution-data","xml":"<set>\n<parameter name='tmp.resource-resolution-data.' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.`'  />\n","comments":"","x":814,"y":1483,"z":"49f11553.28c29c","wires":[]},{"id":"f8298f45.6dd8f","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":729,"y":1708,"z":"49f11553.28c29c","wires":[["d8a79021.ada8a","efb6904c.0b132","32ffaea4.ebf822","3f4780f3.5b1af","fc695bea.55efa8","7ee831e2.82547","98494924.3c42c8","b1f621f4.2d574","dcd2ceec.8e369","7c75bd8a.d2b754"]]},{"id":"f192106f.aba0a","type":"comment","name":"Resolve hostname, policy-instance-name, cloud-param-name and sw-name from resource-resolution-data","info":"service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters[$vf-module-params-index].param.resource-resolution-data.resource-key[$key-index].value \nwhere its corresponding resource-key[$key-index].name=vnf-name","comments":"","x":997,"y":1662,"z":"49f11553.28c29c","wires":[]},{"id":"d8a79021.ada8a","type":"set","name":"set resource-key-length","xml":"<set>\n<parameter name='tmp.resource-key-length' value='`$tmp.resource-resolution-data.resource-key_length`' />\n","comments":"","x":803,"y":1768,"z":"49f11553.28c29c","wires":[]},{"id":"efb6904c.0b132","type":"for","name":"for each resource-resolution-data.resource-key","xml":"<for index='key-index' start='0' end='`$tmp.resource-resolution-data.resource-key_length`' >\n","comments":"","outputs":1,"x":878,"y":1813,"z":"49f11553.28c29c","wires":[["45cc14c2.4d9acc","529acf7f.f236"]]},{"id":"529acf7f.f236","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: key-index\"/>\n<parameter name=\"field3\" value='`$key-index`'/>","comments":"","outputs":1,"x":1145,"y":1813,"z":"49f11553.28c29c","wires":[[]]},{"id":"45cc14c2.4d9acc","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":808,"y":1862,"z":"49f11553.28c29c","wires":[["a9f4ffa9.145ae"]]},{"id":"a9f4ffa9.145ae","type":"switchNode","name":"switch compare resource-key.name","xml":"<switch test=\"`$tmp.resource-resolution-data.resource-key[$key-index].name`\">","comments":"","outputs":1,"x":904,"y":1909,"z":"49f11553.28c29c","wires":[["e48f84f.8010178","3365afc0.b8aeb","77756d7a.b7d954"]]},{"id":"e48f84f.8010178","type":"outcome","name":"key resource key","xml":"<outcome value='key'>\n","comments":"","outputs":1,"x":910,"y":1995,"z":"49f11553.28c29c","wires":[["74c1a54.475825c"]]},{"id":"74c1a54.475825c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1180,"y":1995,"z":"49f11553.28c29c","wires":[["16486832.4d3a98","5950731f.f665bc","956ecb72.c0aa28"]]},{"id":"16486832.4d3a98","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Found resource-resolution-data.name = vnf-name\"/>","comments":"","outputs":1,"x":1312,"y":1994,"z":"49f11553.28c29c","wires":[[]]},{"id":"5950731f.f665bc","type":"set","name":"set vnfHostName","xml":"<set>\n<parameter name='tmp.vnfHostName' value='`$tmp.resource-resolution-data.resource-key[$key-index].value`'  />\n","comments":"","x":1215,"y":2043,"z":"49f11553.28c29c","wires":[]},{"id":"32ffaea4.ebf822","type":"switchNode","name":"switch validate resolved vnfHostNamne","xml":"<switch test=\"`$tmp.vnfHostName`\">\n","comments":"","outputs":1,"x":863,"y":2290,"z":"49f11553.28c29c","wires":[["1e03d899.4d5c37","b455d9e7.cd4de8"]]},{"id":"1e03d899.4d5c37","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":1153,"y":2264,"z":"49f11553.28c29c","wires":[["13ad3ae1.dd3895"]]},{"id":"b455d9e7.cd4de8","type":"other","name":"blank","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1152,"y":2310,"z":"49f11553.28c29c","wires":[["13ad3ae1.dd3895"]]},{"id":"31e2f8be.f33c18","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='403' />\n<parameter name='error-message' value='vnfHostName is not set' />\n","comments":"","x":1446,"y":2330,"z":"49f11553.28c29c","wires":[]},{"id":"df14baa.538b448","type":"set","name":"set resource-resolution-data.status to SUCCESS","xml":"<set>\n<parameter name=\"`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status`\" value='SUCCESS'  />\n","comments":"","x":738,"y":3618,"z":"49f11553.28c29c","wires":[]},{"id":"83429548.44e578","type":"for","name":"for each vf-module-parameters","xml":"<for index='vf-module-param-index' start='0' end='`$tmp.vf-module-parameters-length`' >\n","comments":"","outputs":1,"x":620,"y":3473,"z":"49f11553.28c29c","wires":[["5dc9240c.a731ac","e32c2884.0da7f8"]]},{"id":"e32c2884.0da7f8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: vf-module-param-index\"/>\n<parameter name=\"field3\" value='`$vf-module-param-index`'/>","comments":"","outputs":1,"x":832,"y":3473,"z":"49f11553.28c29c","wires":[[]]},{"id":"5dc9240c.a731ac","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":604,"y":3522,"z":"49f11553.28c29c","wires":[["e0e1ff6c.f9e59","df14baa.538b448"]]},{"id":"d7a94ac5.4ee0d8","type":"set","name":"set mac-address-assign test data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value='4' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value='vmxvpfe_sriov41_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value='${vmxvpfe_sriov41_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value='vmxvpfe_sriov42_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value='somevalue-already-assigned' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value='vmxvpfe_sriov43_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value='${vmxvpfe_sriov43_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value='vmxvpfe_sriov44_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value='${vmxvpfe_sriov44_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[2].value' value='JUNOS' />","comments":"","x":1113,"y":533,"z":"49f11553.28c29c","wires":[]},{"id":"83d65996.c3dca8","type":"comment","name":"Set temporary test data * TEST-ONLY *","info":"","comments":"","x":552,"y":528,"z":"49f11553.28c29c","wires":[]},{"id":"956ecb72.c0aa28","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: resolved vnfHostName: \"/>\n<parameter name=\"field3\" value='`$tmp.vnfHostName`'/>","comments":"","outputs":1,"x":1184,"y":2089,"z":"49f11553.28c29c","wires":[[]]},{"id":"937a5b68.3f7018","type":"switchNode","name":"switch ss.capability-action","xml":"<switch test=\"`$ss.capability-action`\">\n","comments":"","outputs":1,"x":283,"y":292,"z":"49f11553.28c29c","wires":[["4762a00.1cbdf6","d346113b.662b8","ae2cd0b9.c0e3f","2a86c91f.d1ce56","48302673.00a098"]]},{"id":"4762a00.1cbdf6","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":549,"y":275,"z":"49f11553.28c29c","wires":[[]]},{"id":"d346113b.662b8","type":"not-found","name":"not-found","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":556,"y":315,"z":"49f11553.28c29c","wires":[["c6c42ae2.eff988"]]},{"id":"ae2cd0b9.c0e3f","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":546,"y":355,"z":"49f11553.28c29c","wires":[[]]},{"id":"2a86c91f.d1ce56","type":"other","name":"assign","xml":"<outcome value='assign'>\n","comments":"","outputs":1,"x":547,"y":396,"z":"49f11553.28c29c","wires":[["a6ed29e1.6f6f38"]]},{"id":"2a58f163.5019be","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='ss.capability-action is not set' />\n","comments":"","x":865,"y":351,"z":"49f11553.28c29c","wires":[]},{"id":"48302673.00a098","type":"other","name":"unassign","xml":"<outcome value='unassign'>\n","comments":"","outputs":1,"x":556,"y":439,"z":"49f11553.28c29c","wires":[["bd0f2ac4.457a68"]]},{"id":"a6ed29e1.6f6f38","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: ss.capability-action is assign\"/>","comments":"","outputs":1,"x":706,"y":396,"z":"49f11553.28c29c","wires":[[]]},{"id":"bd0f2ac4.457a68","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: ss.capability-action is unassign\"/>","comments":"","outputs":1,"x":707,"y":439,"z":"49f11553.28c29c","wires":[[]]},{"id":"e0e1ff6c.f9e59","type":"switchNode","name":"switch vf-module-parameters.param.name == mac-address-list[].name","xml":"<switch test=\"`$tmp.mac-address-resp.prefix.mac-address-list[$mac-address-list-index].name == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].name`\">\n","comments":"","outputs":1,"x":802,"y":3571,"z":"49f11553.28c29c","wires":[["1fd668f7.cdc337"]]},{"id":"d7bf35d6.132f58","type":"set","name":"set vf-module-parameters.param.value to assigned mac address","xml":"<set>\n<parameter name=\"`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].value`\" value=\"`$tmp.mac-address-resp.prefix.mac-address-list[$mac-address-list-index].value`\"  />\n","comments":"","x":2013,"y":3735,"z":"49f11553.28c29c","wires":[]},{"id":"9890fe8e.13a7a","type":"block","name":"block:atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":360,"y":3827,"z":"49f11553.28c29c","wires":[["d6b2bdc8.28f4b","e3815c89.19818","c0e224f4.f2ee48"]]},{"id":"dabad6df.ca2188","type":"comment","name":"Call Unassign MAC address microService","info":"","comments":"","x":605.5,"y":3782,"z":"49f11553.28c29c","wires":[]},{"id":"3635e0e6.833f8","type":"set","name":"set vf-module-parameters.param.value to assigned mac address","xml":"<set>\n<parameter name=\"`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status`\" value=\"DELETED\"  />\n","comments":"","x":1777,"y":4081,"z":"49f11553.28c29c","wires":[]},{"id":"395c40c2.33595","type":"comment","name":"Check that resource-resolution-data.status is PENDING","info":"","comments":"","x":902,"y":1536,"z":"49f11553.28c29c","wires":[]},{"id":"f8ba93eb.3b672","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":705,"y":145,"z":"49f11553.28c29c","wires":[["5bbceeb9.b1833","6164f080.f1d8d"]]},{"id":"5bbceeb9.b1833","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: ss.capability-name is not mS-mac-address-assign or it is not set\"/>","comments":"","outputs":1,"x":845,"y":104,"z":"49f11553.28c29c","wires":[[]]},{"id":"cd1dd0a6.2ac37","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='resource-resolution-data.status' value='FAILED'  />","comments":"","x":886,"y":142,"z":"49f11553.28c29c","wires":[]},{"id":"9880892.85f7378","type":"comment","name":"resrouce-resolution-data is not yet set","info":"","comments":"","x":1144,"y":140,"z":"49f11553.28c29c","wires":[]},{"id":"c6c42ae2.eff988","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":705,"y":315,"z":"49f11553.28c29c","wires":[["ad4fd223.b06a1","2a58f163.5019be"]]},{"id":"ad4fd223.b06a1","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: ss.capability-action is not set\"/>","comments":"","outputs":1,"x":849,"y":273,"z":"49f11553.28c29c","wires":[[]]},{"id":"ca0033cc.33011","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='resource-resolution-data.status' value='FAILURE'  />","comments":"","x":891,"y":311,"z":"49f11553.28c29c","wires":[]},{"id":"3284ee31.dbd392","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":845,"y":666,"z":"49f11553.28c29c","wires":[["adbb65ad.0b7198","adf382f0.6b643"]]},{"id":"adbb65ad.0b7198","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Failure calling self-serve-capability-param-resolution\"/>","comments":"","outputs":1,"x":988,"y":645,"z":"49f11553.28c29c","wires":[[]]},{"id":"d9e6bdbc.90de5","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: vnfHostName is not set\"/>","comments":"","outputs":1,"x":1410,"y":2242,"z":"49f11553.28c29c","wires":[[]]},{"id":"5e8ee822.4540e8","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1469,"y":2287,"z":"49f11553.28c29c","wires":[]},{"id":"13ad3ae1.dd3895","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1288,"y":2287,"z":"49f11553.28c29c","wires":[["d9e6bdbc.90de5","5e8ee822.4540e8","31e2f8be.f33c18"]]},{"id":"d04355c3.417358","type":"switchNode","name":"switch tmp.resource-resolution-data = PENDING","xml":"<switch test=\"`$tmp.resource-resolution-data.status == 'PENDING'`\">","comments":"","outputs":1,"x":884,"y":1587,"z":"49f11553.28c29c","wires":[["be95e99c.b7bd58"]]},{"id":"d82a8b0.25d6a78","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1352,"y":1587,"z":"49f11553.28c29c","wires":[["67a991be.14e2b","e51475f0.abd628","5a02f00e.359d7"]]},{"id":"67a991be.14e2b","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: reseouce-resolution-data.status is not PENDING\"/>","comments":"","outputs":1,"x":1492,"y":1547,"z":"49f11553.28c29c","wires":[[]]},{"id":"5a02f00e.359d7","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1533,"y":1586,"z":"49f11553.28c29c","wires":[]},{"id":"e51475f0.abd628","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='401' />\n<parameter name='error-message' value='reseouce-resolution-data.status is not PENDING' />\n","comments":"","x":1504,"y":1627,"z":"49f11553.28c29c","wires":[]},{"id":"be95e99c.b7bd58","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1188,"y":1587,"z":"49f11553.28c29c","wires":[["d82a8b0.25d6a78"]]},{"id":"b747603e.9f9c","type":"comment","name":"Call Assign MAC address microService","info":"","comments":"","x":562,"y":3166,"z":"49f11553.28c29c","wires":[]},{"id":"fc695bea.55efa8","type":"switchNode","name":"switch validate resolved policyInstanceName","xml":"<switch test=\"`$tmp.policyInstanceName`\">\n","comments":"","outputs":1,"x":884,"y":2561,"z":"49f11553.28c29c","wires":[["1d99c3b4.89ca5c","28aa41f0.c83cce"]]},{"id":"1d99c3b4.89ca5c","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":1149,"y":2541,"z":"49f11553.28c29c","wires":[["1612f486.989c8b"]]},{"id":"28aa41f0.c83cce","type":"other","name":"blank","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1151,"y":2581,"z":"49f11553.28c29c","wires":[["1612f486.989c8b"]]},{"id":"af7d3f12.8fe2f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='403' />\n<parameter name='error-message' value='policyInstanceName is not set and action is assign' />\n","comments":"","x":1883,"y":2603,"z":"49f11553.28c29c","wires":[]},{"id":"9c72660f.c666b8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: policyInstanceName is not set and action is assign\"/>","comments":"","outputs":1,"x":1864,"y":2521,"z":"49f11553.28c29c","wires":[[]]},{"id":"479b53da.22197c","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1906,"y":2560,"z":"49f11553.28c29c","wires":[]},{"id":"9cfb0a8c.350bb8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1728,"y":2560,"z":"49f11553.28c29c","wires":[["9c72660f.c666b8","479b53da.22197c","af7d3f12.8fe2f"]]},{"id":"3365afc0.b8aeb","type":"outcome","name":"policy-instance-name resource key","xml":"<outcome value='policy-instance-name'>\n","comments":"","outputs":1,"x":1553,"y":1997,"z":"49f11553.28c29c","wires":[["529fe780.466c98"]]},{"id":"529fe780.466c98","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1776,"y":1997,"z":"49f11553.28c29c","wires":[["88aa0755.dfbfb8","5f9db5b0.14c1dc","913d0484.6580f8"]]},{"id":"88aa0755.dfbfb8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Found resource-resolution-data.name = policy-instance-name-name\"/>","comments":"","outputs":1,"x":1908,"y":1997,"z":"49f11553.28c29c","wires":[[]]},{"id":"5f9db5b0.14c1dc","type":"set","name":"set policyInstanceName","xml":"<set>\n<parameter name='tmp.policyInstanceName' value='`$tmp.resource-resolution-data.resource-key[$key-index].value`'  />\n","comments":"","x":1828,"y":2045,"z":"49f11553.28c29c","wires":[]},{"id":"913d0484.6580f8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: resolved policyInstanceName: \"/>\n<parameter name=\"field3\" value='`$tmp.policyInstanceName`'/>","comments":"","outputs":1,"x":1780,"y":2091,"z":"49f11553.28c29c","wires":[[]]},{"id":"77756d7a.b7d954","type":"outcome","name":"sw-name resource key","xml":"<outcome value='sw-name'>\n","comments":"","outputs":1,"x":1527,"y":2143,"z":"49f11553.28c29c","wires":[["dee6e77e.a38548"]]},{"id":"dee6e77e.a38548","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1778,"y":2143,"z":"49f11553.28c29c","wires":[["4c52afb7.937f1","b41afc4d.35241","62817552.215acc"]]},{"id":"4c52afb7.937f1","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Found resource-resolution-data.name = sw-name\"/>","comments":"","outputs":1,"x":1910,"y":2143,"z":"49f11553.28c29c","wires":[[]]},{"id":"b41afc4d.35241","type":"set","name":"set swName","xml":"<set>\n<parameter name='tmp.swName' value='`$tmp.resource-resolution-data.resource-key[$key-index].value`'  />\n","comments":"","x":1799,"y":2191,"z":"49f11553.28c29c","wires":[]},{"id":"62817552.215acc","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: resolved swName: \"/>\n<parameter name=\"field3\" value='`$tmp.swName`'/>","comments":"","outputs":1,"x":1784,"y":2235,"z":"49f11553.28c29c","wires":[[]]},{"id":"7ee831e2.82547","type":"switchNode","name":"switch validate resolved cloudParamName","xml":"<switch test=\"`$tmp.cloudParamName`\">\n","comments":"","outputs":1,"x":880,"y":2424,"z":"49f11553.28c29c","wires":[["c91692b6.65ce8","32988ed5.054c82"]]},{"id":"c91692b6.65ce8","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":1156,"y":2404,"z":"49f11553.28c29c","wires":[["1039fc6f.eb7844"]]},{"id":"32988ed5.054c82","type":"other","name":"blank","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1158,"y":2444,"z":"49f11553.28c29c","wires":[["1039fc6f.eb7844"]]},{"id":"ed9695ad.3bae68","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='403' />\n<parameter name='error-message' value='cloudParamName is not set' />\n","comments":"","x":1443,"y":2464,"z":"49f11553.28c29c","wires":[]},{"id":"67575869.37b978","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: cloudParamName is not set\"/>","comments":"","outputs":1,"x":1424,"y":2382,"z":"49f11553.28c29c","wires":[[]]},{"id":"5523be2f.8450e","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1466,"y":2421,"z":"49f11553.28c29c","wires":[]},{"id":"1039fc6f.eb7844","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1288,"y":2421,"z":"49f11553.28c29c","wires":[["67575869.37b978","5523be2f.8450e","ed9695ad.3bae68"]]},{"id":"3f4780f3.5b1af","type":"switchNode","name":"switch validate resolved swName","xml":"<switch test=\"`$tmp.swName`\">\n","comments":"","outputs":1,"x":854,"y":2689,"z":"49f11553.28c29c","wires":[["28d80c07.9c9e04","e6ec0202.21c26"]]},{"id":"28d80c07.9c9e04","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":1151,"y":2669,"z":"49f11553.28c29c","wires":[["52391bf3.425114"]]},{"id":"e6ec0202.21c26","type":"other","name":"blank","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1153,"y":2709,"z":"49f11553.28c29c","wires":[["52391bf3.425114"]]},{"id":"36d970ba.f973a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='403' />\n<parameter name='error-message' value='swName is not set and action is assign' />\n","comments":"","x":1887,"y":2734,"z":"49f11553.28c29c","wires":[]},{"id":"ec8f9748.d8d1b8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: swName is not set and action is assign\"/>","comments":"","outputs":1,"x":1868,"y":2652,"z":"49f11553.28c29c","wires":[[]]},{"id":"9b41bab.5d2c148","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1910,"y":2691,"z":"49f11553.28c29c","wires":[]},{"id":"a293551e.0dbae8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1735,"y":2689,"z":"49f11553.28c29c","wires":[["ec8f9748.d8d1b8","9b41bab.5d2c148","36d970ba.f973a"]]},{"id":"a3d2b1ea.3e7ad","type":"comment","name":"set vnfHostName","info":"","comments":"","x":903,"y":1953,"z":"49f11553.28c29c","wires":[]},{"id":"7180d3e5.b6623c","type":"comment","name":"set policyInstanceName","info":"","comments":"","x":1518,"y":1953,"z":"49f11553.28c29c","wires":[]},{"id":"4be5943a.af143c","type":"comment","name":"set swName","info":"","comments":"","x":1492,"y":2104,"z":"49f11553.28c29c","wires":[]},{"id":"1b6f227f.8f62fe","type":"execute","name":"execute RestapiCallNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/mac-address-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.mac-address-microserivice.url + '/macaddress/service/assign'`\" />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />  \n    <parameter name='customHttpHeaders'\n      value=\"Authorization=Basic YWRtaW46YWRtaW4=\" />\n\t<parameter name=\"responsePrefix\" value=\"tmp.mac-address-resp.prefix\" />","comments":"","outputs":1,"x":525,"y":3291,"z":"49f11553.28c29c","wires":[["fb57b9db.6a1d88","2210de9c.a974e2"]]},{"id":"d2857a0f.9c83f8","type":"set","name":"set","xml":"<set>\n<parameter name='prop.restapi.templateDir' value=\"/opt/lsc/restapi/templates\" />\n<parameter name='prop.mac-address-microserivice.url' value=\"http://mtanjv9sdlg51-eth1-0.aic.cip.att.com:8989\" />","comments":"","x":470,"y":3210,"z":"49f11553.28c29c","wires":[]},{"id":"6466676a.e4e518","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":320,"y":3209,"z":"49f11553.28c29c","wires":[["d2857a0f.9c83f8","1b6f227f.8f62fe","c0119016.c8f5b","75b77747.853018"]]},{"id":"c0119016.c8f5b","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: restapi-call-node Call MAC Address microService assign\"/>","comments":"","outputs":1,"x":470,"y":3252,"z":"49f11553.28c29c","wires":[[]]},{"id":"fb57b9db.6a1d88","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":720,"y":3281,"z":"49f11553.28c29c","wires":[["5e381348.a46f6c"]]},{"id":"cd970bc5.886488","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Error calling MAC Address Micro Service assign\"/>\n","comments":"","outputs":1,"x":1062,"y":3204,"z":"49f11553.28c29c","wires":[[]]},{"id":"2210de9c.a974e2","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":722,"y":3323,"z":"49f11553.28c29c","wires":[["6c9579c4.cc79e8"]]},{"id":"5cbbae13.9307d","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: assign SUCCESS\"/>","comments":"","outputs":1,"x":1061,"y":3324,"z":"49f11553.28c29c","wires":[[]]},{"id":"7e55e2a5.9fbb1c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='502' />\n<parameter name='error-message' value='self-serve-mS-mac-address-assign: Error calling MAC Address Micro Service assign' />\n","comments":"","x":1076,"y":3282,"z":"49f11553.28c29c","wires":[]},{"id":"5e381348.a46f6c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":847,"y":3280,"z":"49f11553.28c29c","wires":[["cd970bc5.886488","7e55e2a5.9fbb1c","b6a624d5.1cf8e8"]]},{"id":"6c9579c4.cc79e8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":848,"y":3324,"z":"49f11553.28c29c","wires":[["5cbbae13.9307d"]]},{"id":"e5f3a8f2.389b18","type":"switchNode","name":"switch response-code","xml":"<switch test='`$tmp.pm-response.response-code`'>\n","comments":"","outputs":1,"x":1113,"y":3409,"z":"49f11553.28c29c","wires":[["dcfaaabe.0296b8"]]},{"id":"dcfaaabe.0296b8","type":"outcome","name":"500","xml":"<outcome value='500'>\n","comments":"","outputs":1,"x":1289,"y":3409,"z":"49f11553.28c29c","wires":[["df67c991.658888"]]},{"id":"df67c991.658888","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1295,"y":3451,"z":"49f11553.28c29c","wires":[["30b9131e.63a09c","67447020.0f752","bb43975e.4e1618"]]},{"id":"30b9131e.63a09c","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Error calling Policy Manager getPolicy\"/>\n","comments":"","outputs":1,"x":1440,"y":3408,"z":"49f11553.28c29c","wires":[[]]},{"id":"67447020.0f752","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='502' />\n<parameter name='error-message' value='self-serve-mS-mac-address-assign: getPolicy call to Policy Manger failed' />\n","comments":"","x":1459,"y":3493,"z":"49f11553.28c29c","wires":[]},{"id":"41de3cd3.931d34","type":"method","name":"method self-serve-mS-mac-address-assign","xml":"<method rpc='self-serve-mS-mac-address-assign' mode='sync'>\n","comments":"","outputs":1,"x":767,"y":36,"z":"49f11553.28c29c","wires":[["ce021d20.bb75e"]]},{"id":"e1fda82f.16b798","type":"set","name":"set","xml":"<set>\n<parameter name='tmp.mac-address-list.' value=\"`$tmp.mac-address-resp.prefix.mac-address-list.`\" />\n","comments":"","x":1062,"y":3362,"z":"49f11553.28c29c","wires":[]},{"id":"75b77747.853018","type":"for","name":"for each address in mac-address-list","xml":"<for index='mac-address-list-index' start='0' end='`$tmp.mac-address-resp.prefix.mac-address-list_length`' >\n","comments":"","outputs":1,"x":562,"y":3384,"z":"49f11553.28c29c","wires":[["2545934f.e62d9c"]]},{"id":"a15833b7.c0517","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: mac-address-list-index|name|value \"/>\n<parameter name=\"field3\" value='`$mac-address-list-index`'/>\n<parameter name=\"field4\" value='`$tmp.mac-address-resp.prefix.mac-address-list[$mac-address-list-index].name`'/>\n<parameter name=\"field5\" value='`$tmp.mac-address-resp.prefix.mac-address-list[$mac-address-list-index].value`'/>","comments":"","outputs":1,"x":671,"y":3424,"z":"49f11553.28c29c","wires":[[]]},{"id":"2545934f.e62d9c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":544,"y":3424,"z":"49f11553.28c29c","wires":[["a15833b7.c0517","83429548.44e578"]]},{"id":"4c58c71c.b3c6c8","type":"comment","name":"vnf-name and could-param-name required for assign and unassign","info":"","comments":"","x":937,"y":2226,"z":"49f11553.28c29c","wires":[]},{"id":"d5fbb2b6.accb2","type":"comment","name":"policy-instance-name and sw-name required for assign","info":"","comments":"","x":911,"y":2504,"z":"49f11553.28c29c","wires":[]},{"id":"1612f486.989c8b","type":"switchNode","name":"switch ss.capability-action == assign","xml":"<switch test=\"`$ss.capability-action` == 'assign'\">","comments":"","outputs":1,"x":1377,"y":2560,"z":"49f11553.28c29c","wires":[["6b7c9a0b.7497b4"]]},{"id":"6b7c9a0b.7497b4","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1597,"y":2560,"z":"49f11553.28c29c","wires":[["9cfb0a8c.350bb8"]]},{"id":"52391bf3.425114","type":"switchNode","name":"switch ss.capability-action == assign","xml":"<switch test=\"`$ss.capability-action` == 'assign'\">","comments":"","outputs":1,"x":1376,"y":2689,"z":"49f11553.28c29c","wires":[["e220d9fd.f96838"]]},{"id":"e220d9fd.f96838","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1601,"y":2689,"z":"49f11553.28c29c","wires":[["a293551e.0dbae8"]]},{"id":"c0e224f4.f2ee48","type":"execute","name":"execute RestapiCallNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/mac-address-unassign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.mac-address-microserivice.url + '/macaddress/service/unassign'`\" />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />  \n    <parameter name='customHttpHeaders'\n      value=\"Authorization=Basic YWRtaW46YWRtaW4=\" />\n\t<parameter name=\"responsePrefix\" value=\"tmp.mac-address-resp.prefix\" />","comments":"","outputs":1,"x":559,"y":3909,"z":"49f11553.28c29c","wires":[["90394e75.7983e","7f04a5b9.03d47c"]]},{"id":"d6b2bdc8.28f4b","type":"set","name":"set","xml":"<set>\n<parameter name='prop.restapi.templateDir' value=\"/opt/lsc/restapi/templates\" />\n<parameter name='prop.mac-address-microserivice.url' value=\"http://mtanjv9sdlg51-eth1-0.aic.cip.att.com:8989\" />","comments":"","x":504,"y":3828,"z":"49f11553.28c29c","wires":[]},{"id":"e3815c89.19818","type":"record","name":"record","xml":"<record plugin=\"com.att.sdnctl.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: restapi-call-node Call MAC Address microService unassign\"/>","comments":"","outputs":1,"x":504,"y":3870,"z":"49f11553.28c29c","wires":[[]]},{"id":"90394e75.7983e","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":754,"y":3899,"z":"49f11553.28c29c","wires":[["7d22364a.00ccd8"]]},{"id":"e985ac86.2be1c","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Error calling MAC Address Micro Service unassign\"/>\n","comments":"","outputs":1,"x":1047,"y":3817,"z":"49f11553.28c29c","wires":[[]]},{"id":"7f04a5b9.03d47c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":756,"y":3941,"z":"49f11553.28c29c","wires":[["c8fd6afc.857bc8"]]},{"id":"a29f47d1.1990b8","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: unassign SUCCESS: response: \"/>\n<parameter name='field3' value='`$tmp.mac-address-resp.prefix.status`' />","comments":"","outputs":1,"x":1050,"y":3942,"z":"49f11553.28c29c","wires":[[]]},{"id":"35449a42.cd0cb6","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='502' />\n<parameter name='error-message' value='self-serve-mS-mac-address-assign: Error calling MAC Address Micro Service unassign' />\n","comments":"","x":1066,"y":3898,"z":"49f11553.28c29c","wires":[]},{"id":"7d22364a.00ccd8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":881,"y":3898,"z":"49f11553.28c29c","wires":[["e985ac86.2be1c","35449a42.cd0cb6","b3df94aa.38dd88"]]},{"id":"c8fd6afc.857bc8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":882,"y":3942,"z":"49f11553.28c29c","wires":[["a29f47d1.1990b8","32eb5385.0caa4c"]]},{"id":"b6a624d5.1cf8e8","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1100,"y":3244,"z":"49f11553.28c29c","wires":[]},{"id":"bb43975e.4e1618","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1482,"y":3451,"z":"49f11553.28c29c","wires":[]},{"id":"b3df94aa.38dd88","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1089,"y":3858,"z":"49f11553.28c29c","wires":[]},{"id":"32eb5385.0caa4c","type":"switchNode","name":"switch status","xml":"<switch test=\"`$tmp.mac-address-resp.prefix.status == 'deleted successfully'`\">","comments":"","outputs":1,"x":1104,"y":3990,"z":"49f11553.28c29c","wires":[["c57baf20.c1ffd","533327bb.094ae8"]]},{"id":"533327bb.094ae8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1292,"y":4034,"z":"49f11553.28c29c","wires":[["d2de149f.a9ef08"]]},{"id":"c57baf20.c1ffd","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1290,"y":3990,"z":"49f11553.28c29c","wires":[["7f0fc0f0.fd344"]]},{"id":"c64ba45b.712a88","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Address Micro Service unassign did not return: deleted successfully\"/>\n","comments":"","outputs":1,"x":1553,"y":3907,"z":"49f11553.28c29c","wires":[[]]},{"id":"452a2683.28b6c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='502' />\n<parameter name='error-message' value='self-serve-mS-mac-address-assign: Address Micro Service unassign did not return: deleted successfully' />\n","comments":"","x":1571,"y":3990,"z":"49f11553.28c29c","wires":[]},{"id":"83050dff.db737","type":"set","name":"set status to FAILED","xml":"<set>\n<parameter name='$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.status' value='FAILED'  />","comments":"","x":1594,"y":3948,"z":"49f11553.28c29c","wires":[]},{"id":"d2de149f.a9ef08","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1409,"y":4034,"z":"49f11553.28c29c","wires":[["a75ab013.74fb6"]]},{"id":"7f0fc0f0.fd344","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1409,"y":3990,"z":"49f11553.28c29c","wires":[["c64ba45b.712a88","83050dff.db737","452a2683.28b6c8"]]},{"id":"a75ab013.74fb6","type":"for","name":"for each vf-module-parameters","xml":"<for index='vf-module-param-index' start='0' end='`$tmp.vf-module-parameters-length`' >\n","comments":"","outputs":1,"x":1626,"y":4034,"z":"49f11553.28c29c","wires":[["3635e0e6.833f8"]]},{"id":"4fd6d670.f4dc08","type":"comment","name":"If capability-name matches, add resource data to miroservice request element","info":"","comments":"","x":585,"y":1039,"z":"49f11553.28c29c","wires":[]},{"id":"d771e1cd.ffe8b","type":"set","name":"set cloudParamName ","xml":"<set>\n<parameter name='tmp.cloudParamName' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].name`'  />","comments":"","x":798,"y":1389,"z":"49f11553.28c29c","wires":[]},{"id":"292c2783.39cc08","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: resolved cloudParamName: | resourceValue: \"/>\n<parameter name=\"field3\" value='`$tmp.cloudParamName`'/>\n<parameter name=\"field4\" value='`$tmp.resourceValue`'/>","comments":"","outputs":1,"x":750,"y":1432,"z":"49f11553.28c29c","wires":[[]]},{"id":"f76a923e.1777d","type":"set","name":"initialize microService request elements length","xml":"<set>\n<parameter name='ma.elements.element_length' value='0' />","comments":"","x":422,"y":853,"z":"49f11553.28c29c","wires":[]},{"id":"321881ae.e1707e","type":"comment","name":"If resource-value is NOT already resolved, add this vf-module-parameters.param to the microService assign request","info":"","comments":"","x":1094,"y":2820,"z":"49f11553.28c29c","wires":[]},{"id":"fb516b25.0acb58","type":"comment","name":"Check for $ in vf-module-parameters.param[].value","info":"","comments":"","x":817,"y":1239,"z":"49f11553.28c29c","wires":[]},{"id":"8e89e7e1.f69898","type":"execute","name":"slistringUtils - check param.value for $","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains'  emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].value`\" />\n    <parameter name=\"target\" value=\"$\"/>","comments":"","outputs":1,"x":852,"y":1332,"z":"49f11553.28c29c","wires":[["f7ddc41d.042728"]]},{"id":"f7ddc41d.042728","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1084,"y":1332,"z":"49f11553.28c29c","wires":[["f25744a9.dc9668"]]},{"id":"dea1481d.7ad108","type":"set","name":"set resourceValue to param.value","xml":"<set>\n<parameter name='tmp.resourceValue' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].value`'  />","comments":"","x":1428,"y":1332,"z":"49f11553.28c29c","wires":[]},{"id":"f25744a9.dc9668","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1212,"y":1332,"z":"49f11553.28c29c","wires":[["dea1481d.7ad108"]]},{"id":"1fd668f7.cdc337","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1128,"y":3571,"z":"49f11553.28c29c","wires":[["69646180.d517c"]]},{"id":"69646180.d517c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1244,"y":3650,"z":"49f11553.28c29c","wires":[["f65630a2.13cba","4cc2a6a2.1745e8"]]},{"id":"f65630a2.13cba","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: mac-address-list MATCH with param.value: \"/>\n<parameter name=\"field3\" value=\"`$tmp.mac-address-resp.prefix.mac-address-list[$mac-address-list-index].name`\"/>","comments":"","outputs":1,"x":1396,"y":3650,"z":"49f11553.28c29c","wires":[[]]},{"id":"e795d2b2.de9ea","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":720,"y":1281,"z":"49f11553.28c29c","wires":[["8e89e7e1.f69898","d771e1cd.ffe8b","b833668a.32a2e8","d04355c3.417358"]]},{"id":"aabbd0a7.8406b","type":"comment","name":"Unassign request will never execute this logic because capbility-name will be INPUT","info":"","comments":"","x":995,"y":2776,"z":"49f11553.28c29c","wires":[]},{"id":"ba23f780.7e0bf8","type":"comment","name":"Additional check for if resourceValue already resolved set capability-name to INPUT","info":"","comments":"","x":1481,"y":3532,"z":"49f11553.28c29c","wires":[]},{"id":"298e3073.ab37a","type":"comment","name":"If param.value does have $ (not already resolved) set param.value mS output","info":"","comments":"","x":1461,"y":3572,"z":"49f11553.28c29c","wires":[]},{"id":"f20a56f9.f4d278","type":"comment","name":"If param.value does NOT have $ (already resolved) don't set param.value but set capanility-name to INPUT","info":"","comments":"","x":1556,"y":3612,"z":"49f11553.28c29c","wires":[]},{"id":"1ae02e9e.613b31","type":"set","name":"set mac-address-unassign test data","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value='4' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value='vmxvpfe_sriov41_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value='${vmxvpfe_sriov41_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[0].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value='vmxvpfe_sriov42_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value='somevalue-already-assigned' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.capability-name' value='INPUT' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[1].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value='vmxvpfe_sriov43_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value='${vmxvpfe_sriov43_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[2].resource-resolution-data.resource-key[2].value' value='JUNOS' />\n\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value='vmxvpfe_sriov44_0_port_mac' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value='${vmxvpfe_sriov44_0_port_mac}' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.status' value='PENDING' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.capability-name' value='mS-mac-address-assign' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key_length' value='3' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].name' value='key' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[0].value' value='host-laina1' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[1].name' value='policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[1].value' value='JQIN1810SRIOV.Config_MS_macAddressAssignmentPolicy.*' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[2].name' value='sw-name' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[3].resource-resolution-data.resource-key[2].value' value='JUNOS' />","comments":"","x":1122,"y":574,"z":"49f11553.28c29c","wires":[]},{"id":"31e3420e.c637ee","type":"comment","name":"Set temporary test ASSIGN data * TEST-ONLY *","info":"","comments":"","x":1441,"y":534,"z":"49f11553.28c29c","wires":[]},{"id":"69c27aa5.4c6a54","type":"comment","name":"Set temporary test UNASSIGN data * TEST-ONLY *","info":"","comments":"","x":1455,"y":572,"z":"49f11553.28c29c","wires":[]},{"id":"98494924.3c42c8","type":"set","name":"set ma.elements.element to this vf-module-parameters.param","xml":"<set>\n<parameter name='ma.elements.element[$ma.elements.element_length].policy-instance-name' value='`$tmp.policyInstanceName`' />\n<parameter name='ma.elements.element[$ma.elements.element_length].vnf-host-name' value='`$tmp.vnfHostName`' />\n<parameter name='ma.elements.element[$ma.elements.element_length].cloud-param-name' value='`$tmp.cloudParamName`' />\n<parameter name='ma.elements.element[$ma.elements.element_length].sw-name' value='`$tmp.swName`' />","comments":"","x":933,"y":2870,"z":"49f11553.28c29c","wires":[]},{"id":"dcd2ceec.8e369","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"self-serve-mS-mac-address-assign: Adding this vf-module-parameters.param to ma.elements \"/>\n<parameter name=\"field3\" value='`$ma.elements.element_length`'/>\n<parameter name=\"field4\" value='`$ma.elements.element[$ma.elements.element_length].policy-instance-name`'/>\n<parameter name=\"field5\" value='`$ma.elements.element[$ma.elements.element_length].vnf-host-name`'/>\n<parameter name=\"field6\" value='`$ma.elements.element[$ma.elements.element_length].cloud-param-name`'/>\n<parameter name=\"field7\" value='`$ma.elements.element[$ma.elements.element_length].sw-name`'/>\n<parameter name=\"field8\" value='`$ma.elements.element[$ma.elements.element_length].resource-value`'/>","comments":"","outputs":1,"x":762,"y":2991,"z":"49f11553.28c29c","wires":[[]]},{"id":"7c75bd8a.d2b754","type":"set","name":"increment ma.elements.element_length","xml":"<set>\n<parameter name='ma.elements.element_length' value='`$ma.elements.element_length + 1`' />","comments":"","x":863,"y":3036,"z":"49f11553.28c29c","wires":[]},{"id":"b1f621f4.2d574","type":"switchNode","name":"check if resourceValue is set","xml":"<switch test=\"`$tmp.resourceValue`\">\n","comments":"","outputs":1,"x":833,"y":2918,"z":"49f11553.28c29c","wires":[["f25a8484.98ce68","8213e478.c84b68","42938aae.ae5904"]]},{"id":"f25a8484.98ce68","type":"outcome","name":"null","xml":"<outcome value='null'>\n","comments":"","outputs":1,"x":1019,"y":2951,"z":"49f11553.28c29c","wires":[[]]},{"id":"8213e478.c84b68","type":"other","name":"blank","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1019,"y":2992,"z":"49f11553.28c29c","wires":[[]]},{"id":"42938aae.ae5904","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1018,"y":2911,"z":"49f11553.28c29c","wires":[["2d01ba1c.f838c6"]]},{"id":"2d01ba1c.f838c6","type":"set","name":"set ma.elements.element.resource-value to this vf-module-parameters.param","xml":"<set>\n<parameter name='ma.elements.element[$ma.elements.element_length].resource-value' value='`$tmp.resourceValue`' />","comments":"","x":1375,"y":2911,"z":"49f11553.28c29c","wires":[]},{"id":"4cc2a6a2.1745e8","type":"execute","name":"slistringUtils - check param.value for $","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains'  emitsOutcome='true' >\n    <parameter name=\"source\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].value`\" />\n    <parameter name=\"target\" value=\"$\"/>","comments":"","outputs":1,"x":1343,"y":3695,"z":"49f11553.28c29c","wires":[["9d5a40fc.aed04","9f1e7092.0ada8"]]},{"id":"9d5a40fc.aed04","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1575,"y":3695,"z":"49f11553.28c29c","wires":[["82426b14.9463e8"]]},{"id":"8ec62283.b9675","type":"set","name":"set param[].resource-resolution-data.capability-name to INPUT","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vf-module-param-index].resource-resolution-data.capability-name' value='INPUT'  />","comments":"","x":2005,"y":3695,"z":"49f11553.28c29c","wires":[]},{"id":"82426b14.9463e8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1703,"y":3695,"z":"49f11553.28c29c","wires":[["8ec62283.b9675"]]},{"id":"9f1e7092.0ada8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1577,"y":3735,"z":"49f11553.28c29c","wires":[["4a3bf9a3.c32a58"]]},{"id":"4a3bf9a3.c32a58","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1704,"y":3735,"z":"49f11553.28c29c","wires":[["d7bf35d6.132f58"]]},{"id":"d637c667.949db8","type":"switchNode","name":"switch ss.capability-action (assign| unassign)","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":575,"y":562,"z":"49f11553.28c29c","wires":[["cb233a84.84f258","5caf02ea.cb608c"]]},{"id":"cb233a84.84f258","type":"outcome","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":856,"y":533,"z":"49f11553.28c29c","wires":[["d7a94ac5.4ee0d8"]]},{"id":"5caf02ea.cb608c","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":862,"y":573,"z":"49f11553.28c29c","wires":[["1ae02e9e.613b31"]]}]