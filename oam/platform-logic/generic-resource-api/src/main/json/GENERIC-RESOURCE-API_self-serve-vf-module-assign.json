[
    {
        "id": "ac4672ac.5506d",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 188.5863037109375,
        "y": 82.87202453613281,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "317db8fd.6a2138"
            ]
        ]
    },
    {
        "id": "5ad093b4.b05f9c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 211.77679443359375,
        "y": 197.72124099731445,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "1da7f042.70418",
                "cd953152.81acb",
                "96a7ad27.1cb38",
                "78d86895.250bc8",
                "7d46526.17c5aac",
                "beeecd6c.915e8",
                "cdf4ff1.5e539",
                "d2d53277.c8e3b",
                "4d9da943.9b5318",
                "74e369b1.130768"
            ]
        ]
    },
    {
        "id": "f1172be.64de4d8",
        "type": "method",
        "name": "method self-serve-vf-module-assign",
        "xml": "<method rpc='self-serve-vf-module-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 292.3482131958008,
        "y": 137.57837963104248,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "5ad093b4.b05f9c"
            ]
        ]
    },
    {
        "id": "317db8fd.6a2138",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 450.82450103759766,
        "y": 83.0625171661377,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "f1172be.64de4d8"
            ]
        ]
    },
    {
        "id": "cd953152.81acb",
        "type": "switchNode",
        "name": "switch vf-module-parameters.param_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 526.8363342285156,
        "y": 1400.2411880493164,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "1cade304.1c3bbd"
            ]
        ]
    },
    {
        "id": "1cade304.1c3bbd",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 786.8363647460938,
        "y": 1400.2411880493164,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "da6ecb81.86ff58"
            ]
        ]
    },
    {
        "id": "55d6d80f.981a78",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:self-serve-vfmodule-ra-assignment",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vfmodule-ra-assignment' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1328.5506134033203,
        "y": 1447.5269384384155,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "b1e02e63.0273f"
            ]
        ]
    },
    {
        "id": "bd16b308.30dcd",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Failed to get RA assignments: ' + $error-message`\" />\n",
        "comments": "",
        "x": 1809.2648544311523,
        "y": 1447.0983419418335,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "f6c740a2.a923e",
        "type": "for",
        "name": "foreach vf-module-parameters.param[]",
        "xml": "<for index='pidx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 812.1222991943359,
        "y": 1710.4197750091553,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "7eddc009.26c91",
                "d8e56ff1.4693a"
            ]
        ]
    },
    {
        "id": "1da7f042.70418",
        "type": "set",
        "name": "set ss.capability.execution-order[]",
        "xml": "<set>\n<parameter name='ss.capability.execution-order[0]' value='generate-name' />\n<parameter name='ss.capability.execution-order[1]' value='alts-entitlement-assign' />\n<parameter name='ss.capability.execution-order[2]' value='alts-license-assign' />\n<parameter name='ss.capability.execution-order[3]' value='vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[4]' value='mS-vlan-tag-assign' />\n<parameter name='ss.capability.execution-order[5]' value='eipam-ip-assignment' />\n<parameter name='ss.capability.execution-order[6]' value='eipam-create-pool' />\n<parameter name='ss.capability.execution-order[7]' value='netbox-ip-assign' />\n<parameter name='ss.capability.execution-order[8]' value='mac-address-assign' />\n<parameter name='ss.capability.execution-order[9]' value='mS-mac-address-assign' />\n<parameter name='ss.capability.execution-order[10]' value='create-vpe-pool' />\n<parameter name='ss.capability.execution-order[11]' value='unresolved-composite-data' />\n<parameter name='ss.capability.execution-order[12]' value='aai-vf-module-put' />\n<parameter name='ss.capability.execution-order_length' value='13' />\n",
        "comments": "",
        "x": 499.00296783447266,
        "y": 1262.3006677627563,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "96a7ad27.1cb38",
        "type": "for",
        "name": "foreach capability-order[]",
        "xml": "<for index='cidx' start='0' end='`$ss.capability.execution-order_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 467.7649230957031,
        "y": 1566.2410678863525,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "7e687860.5de498",
                "baaad7ca.98ffc8",
                "f6c740a2.a923e",
                "dc8699f7.88cd38"
            ]
        ]
    },
    {
        "id": "7eddc009.26c91",
        "type": "switchNode",
        "name": "switch capability-name param vs. execution",
        "xml": "<switch test='`$ss.capability-name == $tmp.param.capability-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1178.515121459961,
        "y": 1756.0625677108765,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "24ac9f8a.76969"
            ]
        ]
    },
    {
        "id": "24ac9f8a.76969",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1442.015121459961,
        "y": 1756.3125677108765,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "2b650c7a.d8a5d4"
            ]
        ]
    },
    {
        "id": "b1e02e63.0273f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1655.1219596862793,
        "y": 1446.9555320739746,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "bd16b308.30dcd"
            ]
        ]
    },
    {
        "id": "7e687860.5de498",
        "type": "set",
        "name": "set ss.capability-name",
        "xml": "<set>\n<parameter name='ss.capability-name' value='`$ss.capability.execution-order[$cidx]`' />\n\n<!--\nss.capability.execution-order\n-->",
        "comments": "",
        "x": 759.1219787597656,
        "y": 1566.1935195922852,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "d8e56ff1.4693a",
        "type": "set",
        "name": "tmp.param.capability-name",
        "xml": "<set>\n<parameter name='tmp.param.capability-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n",
        "comments": "",
        "x": 1127.8721466064453,
        "y": 1710.6697778701782,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "baaad7ca.98ffc8",
        "type": "set",
        "name": "set ss.capability-action = assign",
        "xml": "<set>\n<parameter name='ss.capability-action' value='assign' />\n",
        "comments": "",
        "x": 789.8361206054688,
        "y": 1613.1101036071777,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "dc8699f7.88cd38",
        "type": "set",
        "name": "set capability-dg with 'self-serve-' + capability-name",
        "xml": "<set>\n<parameter name='ss.capability-dg' value=\"`'self-serve-' + $ss.capability.execution-order[$cidx]`\" />\n",
        "comments": "",
        "x": 852.1695861816406,
        "y": 1661.7649745941162,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "27bec64f.ffd41a",
        "type": "set",
        "name": "set sdnc-generated-cloud-resources = true",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.sdnc-generated-cloud-resources' \n\tvalue='true' />\n",
        "comments": "",
        "x": 1114.5386962890625,
        "y": 1148.7293434143066,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "f04ab0bc.e42dc",
        "type": "switchNode",
        "name": "switch resource-resolution-data.status",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 893.0984791346959,
        "y": 2241.511119570051,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "c5e63e10.a3093",
                "1f165162.67ec4f"
            ]
        ]
    },
    {
        "id": "c5e63e10.a3093",
        "type": "other",
        "name": "PENDING",
        "xml": "<outcome value='PENDING'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1162.455695016044,
        "y": 2241.5110757010325,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "61a1d33.b88882c"
            ]
        ]
    },
    {
        "id": "1f165162.67ec4f",
        "type": "other",
        "name": "FAILED",
        "xml": "<outcome value='FAILED'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1155.991511208671,
        "y": 2292.4754063742503,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "61a1d33.b88882c"
            ]
        ]
    },
    {
        "id": "61a1d33.b88882c",
        "type": "call",
        "name": "call ss.capability-dg",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='`$ss.capability-dg`' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1371.1102436610636,
        "y": 2293.2372576849802,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "e5879237.9e628",
                "2526c489.eb217c"
            ]
        ]
    },
    {
        "id": "e5879237.9e628",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1564.1455944606241,
        "y": 2292.9515359061106,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "d2b0c64f.697d78"
            ]
        ]
    },
    {
        "id": "beeecd6c.915e8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vf-assign.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 413.2013931274414,
        "y": 2755.56672000885,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "78d86895.250bc8",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 464.7885932922363,
        "y": 317.1340227127075,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "94c0784a.4efbd8",
                "2302720.f948a8e",
                "4dc65b88.c7c4c4"
            ]
        ]
    },
    {
        "id": "94c0784a.4efbd8",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 677.419563293457,
        "y": 246.52681350708008,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "c1ab19e3.a09b38"
            ]
        ]
    },
    {
        "id": "c98eda13.6cb768",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 1016.5385932922363,
        "y": 257.4435987472534,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "2302720.f948a8e",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 676.5981559753418,
        "y": 385.3126735687256,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "e441c1f2.c0ad1"
            ]
        ]
    },
    {
        "id": "f5150a81.100538",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 1032.824234008789,
        "y": 539.5536422729492,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "fe3a9a0d.f3a558",
        "type": "set",
        "name": "set vf-module-parameters",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.'\n  value='vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.' />\n",
        "comments": "",
        "x": 1197.5148315429688,
        "y": 1399.3964304924011,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "3c0e578a.5d7b08",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />",
        "comments": "",
        "x": 1087.098403930664,
        "y": 1101.416841506958,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "7d46526.17c5aac",
        "type": "set",
        "name": "set ss.capability-type = vf-module",
        "xml": "<set>\n<parameter name='ss.capability-type' value='vf-module' />\n",
        "comments": "",
        "x": 499.9077606201172,
        "y": 1219.3006258010864,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "da6ecb81.86ff58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 962.1934574672159,
        "y": 1400.1220000130788,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "fe3a9a0d.f3a558",
                "55d6d80f.981a78",
                "dfb33174.f2c9c"
            ]
        ]
    },
    {
        "id": "cdf4ff1.5e539",
        "type": "set",
        "name": "set is-new-vfmodule = true",
        "xml": "<set>\n<parameter name='is-new-vfmodule' value='true' />\n",
        "comments": "",
        "x": 471.6102752685547,
        "y": 197.55074501037598,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "f6595347.aba9",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1035.4315338134766,
        "y": 385.0030117034912,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "cb80b6c2.f7f7a8"
            ]
        ]
    },
    {
        "id": "cb80b6c2.f7f7a8",
        "type": "switchNode",
        "name": "switch vf-module-id: input vs service-data",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1346.550666809082,
        "y": 385.574426651001,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "cb23fa3d.38db08"
            ]
        ]
    },
    {
        "id": "cb23fa3d.38db08",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1600.4196968078613,
        "y": 385.39588356018066,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "25cbd14.1ae082e"
            ]
        ]
    },
    {
        "id": "5f9f2341.7aeedc",
        "type": "set",
        "name": "set is-new-vfmodule = false",
        "xml": "<set>\n<parameter name='is-new-vfmodule' value='false' />\n",
        "comments": "",
        "x": 1972.5864372253418,
        "y": 384.657772064209,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "25cbd14.1ae082e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1741.836441040039,
        "y": 384.9077682495117,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "5f9f2341.7aeedc",
                "b086c015.9686a",
                "539e0d93.0e4764"
            ]
        ]
    },
    {
        "id": "b086c015.9686a",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1909.7292289733887,
        "y": 470.90774631500244,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "539e0d93.0e4764",
        "type": "set",
        "name": "set vf-module-index = idx",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1965.5507507324219,
        "y": 427.94342708587646,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "470bd393.8815fc",
        "type": "set",
        "name": "set new vf-module_length = vf-module-index + 1",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 1097.8960151672363,
        "y": 298.7650270462036,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "e441c1f2.c0ad1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 813.7530708312988,
        "y": 385.69353580474854,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "9c5458e2.63ba88",
                "f6595347.aba9"
            ]
        ]
    },
    {
        "id": "f2ad673d.c9d758",
        "type": "set",
        "name": "set new vf-module_length++",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length + 1`' />\n",
        "comments": "",
        "x": 1583.0030937194824,
        "y": 497.4435405731201,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "9c5458e2.63ba88",
        "type": "switchNode",
        "name": "switch is-new-vfmodule",
        "xml": "<switch test='`$is-new-vfmodule`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1021.2530670166016,
        "y": 455.2649154663086,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "328de05d.d7c21"
            ]
        ]
    },
    {
        "id": "328de05d.d7c21",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1219.110221862793,
        "y": 454.8363628387451,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "b1cc1eae.576a8"
            ]
        ]
    },
    {
        "id": "c1ab19e3.a09b38",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 820.2530670166016,
        "y": 278.19353008270264,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "470bd393.8815fc",
                "c98eda13.6cb768"
            ]
        ]
    },
    {
        "id": "4dc65b88.c7c4c4",
        "type": "other",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 678.5863037109375,
        "y": 316.6220245361328,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "c1ab19e3.a09b38"
            ]
        ]
    },
    {
        "id": "d2d53277.c8e3b",
        "type": "switchNode",
        "name": "switch is-new-vfmodule",
        "xml": "<switch test='`$is-new-vfmodule`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 464.3363037109375,
        "y": 540.3720245361328,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "228816c9.7d6b7a"
            ]
        ]
    },
    {
        "id": "228816c9.7d6b7a",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 662.1934585571289,
        "y": 539.9434719085693,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "160cf147.59b4af"
            ]
        ]
    },
    {
        "id": "9660a91.81f1358",
        "type": "set",
        "name": "Copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-id' \n    value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-name' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-type' \n    value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.tenant' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-cloud-region' \n    value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n    value='`$vf-module-topology-operation-input.vf-module-request-input.aic-clli`' />",
        "comments": "",
        "x": 1078.0863189697266,
        "y": 585.3720941543579,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "d0c524cc.997e98",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 1443.0980796813965,
        "y": 637.8155345916748,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "9632b3a5.151f7",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1086.9551544189453,
        "y": 660.6399784088135,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "d993041d.727fe8",
                "7b777471.7e5a6c"
            ]
        ]
    },
    {
        "id": "d993041d.727fe8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1292.621826171875,
        "y": 637.7829418182373,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "d0c524cc.997e98"
            ]
        ]
    },
    {
        "id": "7b777471.7e5a6c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1294.050422668457,
        "y": 682.0685329437256,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "23246502.21d58a"
            ]
        ]
    },
    {
        "id": "23246502.21d58a",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 1448.3361587524414,
        "y": 681.4971051216125,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "9b1fd622.5ea208",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 1444.050350189209,
        "y": 726.3542108535767,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "a9b9767.d0f3d88",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1059.5741729736328,
        "y": 749.1787157058716,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "95b67445.582658",
                "f28422f1.a8a5a"
            ]
        ]
    },
    {
        "id": "95b67445.582658",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1293.574146270752,
        "y": 726.321647644043,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "9b1fd622.5ea208"
            ]
        ]
    },
    {
        "id": "f28422f1.a8a5a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1295.002742767334,
        "y": 770.6072387695312,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "5b080c13.af5d04"
            ]
        ]
    },
    {
        "id": "5b080c13.af5d04",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 1449.2884788513184,
        "y": 770.0358109474182,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "3e2787e5.70ce38",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 1435.1932830810547,
        "y": 815.2114181518555,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "d072296.6aca9d8",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1061.7170448303223,
        "y": 838.0358629226685,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "ae7bcfb3.5f0d2",
                "153e40d6.cb774f"
            ]
        ]
    },
    {
        "id": "ae7bcfb3.5f0d2",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1284.7170295715332,
        "y": 815.178825378418,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "3e2787e5.70ce38"
            ]
        ]
    },
    {
        "id": "153e40d6.cb774f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1286.1456260681152,
        "y": 859.4644165039062,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "ab4b217e.693c2"
            ]
        ]
    },
    {
        "id": "ab4b217e.693c2",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 1440.4313621520996,
        "y": 858.8929886817932,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "59cb1887.519c68",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 1435.1932830810547,
        "y": 902.3542404174805,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "e085243.3e05cd8",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1058.7170448303223,
        "y": 925.1786851882935,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "4f31d90c.74c998",
                "84e2607f.f6a01"
            ]
        ]
    },
    {
        "id": "4f31d90c.74c998",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1284.7170295715332,
        "y": 902.321647644043,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "59cb1887.519c68"
            ]
        ]
    },
    {
        "id": "84e2607f.f6a01",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1286.1456260681152,
        "y": 946.6072387695312,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "6e518b97.0cd334"
            ]
        ]
    },
    {
        "id": "6e518b97.0cd334",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 1440.4313621520996,
        "y": 946.0358109474182,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "ec7b65fb.fc6018",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 1072.1694030761719,
        "y": 999.1161699295044,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "63af0c3d.77f934",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.' \n    value='$vf-module-topology-operation-input.vf-module-request-input.' />",
        "comments": "",
        "x": 1028.824478149414,
        "y": 1053.8008728027344,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "160cf147.59b4af",
        "type": "block",
        "name": "block",
        "xml": "<block>",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 818.2887191772461,
        "y": 539.7212162017822,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "9632b3a5.151f7",
                "a9b9767.d0f3d88",
                "d072296.6aca9d8",
                "e085243.3e05cd8",
                "ec7b65fb.fc6018",
                "63af0c3d.77f934",
                "9660a91.81f1358",
                "f5150a81.100538",
                "3c0e578a.5d7b08",
                "27bec64f.ffd41a"
            ]
        ]
    },
    {
        "id": "dd621f57.8792a",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1615.5863227844238,
        "y": 453.62203216552734,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "b1cc1eae.576a8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1362.0863227844238,
        "y": 454.37203216552734,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "dd621f57.8792a",
                "f2ad673d.c9d758"
            ]
        ]
    },
    {
        "id": "2b650c7a.d8a5d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 618.0148696899414,
        "y": 2241.538803100586,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "f04ab0bc.e42dc",
                "9691a52d.6666b8"
            ]
        ]
    },
    {
        "id": "9691a52d.6666b8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 796.4434356689453,
        "y": 2510.9673385620117,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "2526c489.eb217c",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1588.4076690673828,
        "y": 2438.943384170532,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "3c2b90e5.13698"
            ]
        ]
    },
    {
        "id": "3c2b90e5.13698",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"`'DONE: ' + $ss.capability-dg`\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1732.1576690673828,
        "y": 2437.693384170532,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "dfb33174.f2c9c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE with vfmodule-ra-assignment\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1142.3363037109375,
        "y": 1495.3720245361328,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "8f918c25.18662",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 890.5863167898997,
        "y": 1308.5862832750595,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "4d9da943.9b5318",
        "type": "switchNode",
        "name": "switch prop.controller.user",
        "xml": "<switch test='`$prop.controller.user`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 479.30055236816406,
        "y": 1309.0149040222168,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "7e82a787.ebfeb8"
            ]
        ]
    },
    {
        "id": "7e82a787.ebfeb8",
        "type": "failure",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 679.1576478140696,
        "y": 1308.5863185610092,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "8f918c25.18662"
            ]
        ]
    },
    {
        "id": "74e369b1.130768",
        "type": "call",
        "name": "call self-serve-vf-module-mdsal-put",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-mdsal-put' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 496.5741882324219,
        "y": 2650.58260345459,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "72e787c4.788818",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1958.5863037109375,
        "y": 2376.507080078125,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    },
    {
        "id": "d2b0c64f.697d78",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1734.0270718165812,
        "y": 2292.0185897009715,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            [
                "72e787c4.788818",
                "245c83ad.8fed6c",
                "c9140ce7.8a308"
            ]
        ]
    },
    {
        "id": "245c83ad.8fed6c",
        "type": "call",
        "name": "call self-serve-vf-module-mdsal-put",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-mdsal-put' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2033.2294006347656,
        "y": 2334.0579681396484,
        "z": "6a89d3e3.fb4ddc",
        "wires": [
            []
        ]
    },
    {
        "id": "c9140ce7.8a308",
        "type": "set",
        "name": "set error-message",
        "xml": "<set>\n<parameter name='error-message' value=\"`'Encountered error from ' + $ss.capability-dg + ' with error: ' + $error-message`\" />",
        "comments": "",
        "x": 1971.4439086914062,
        "y": 2291.5579509735107,
        "z": "6a89d3e3.fb4ddc",
        "wires": []
    }
]