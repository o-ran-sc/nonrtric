[{"id":"a66fc7ce.46b378","type":"dgstart","name":"DGSTART","outputs":1,"x":104.99999237060547,"y":85,"z":"6d7f71e.590019","wires":[["18810cab.b01663"]]},{"id":"18810cab.b01663","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":220.2856903076172,"y":125.23810863494873,"z":"6d7f71e.590019","wires":[["93389fb4.470df"]]},{"id":"93389fb4.470df","type":"method","name":"method getpathsegment-populate-from-grapi","xml":"<method rpc='getpathsegment-populate-from-grapi' mode='sync'>\n","comments":"","outputs":1,"x":215.42861938476562,"y":165.9999942779541,"z":"6d7f71e.590019","wires":[["4035cbaf.322f94"]]},{"id":"d9495938.32cb18","type":"comment","name":"getpathsegment-populate-from-grapi","info":"","comments":"","x":499.3448486328125,"y":32.58634376525879,"z":"6d7f71e.590019","wires":[]},{"id":"4035cbaf.322f94","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":205.57146453857422,"y":406.7411518096924,"z":"6d7f71e.590019","wires":[["f0797342.9c438"]]},{"id":"363c3171.7e0ede","type":"for","name":"for each MD-SAL vnf","xml":"<for silentFailure='true' index='vnf-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":1390.535903930664,"y":482.32140922546387,"z":"6d7f71e.590019","wires":[["2be3d5be.b86e3a"]]},{"id":"17ed646d.5e36fc","type":"set","name":"set vnf-list_length","xml":"<set>\n<parameter name='serv-inst.vnf-list_length'\n  value='`$mdsal-service.service[0].service-data.vnfs.vnf_length`' />\n","comments":"","x":1478.3928718566895,"y":725.1785326004028,"z":"6d7f71e.590019","wires":[]},{"id":"8f05c34f.9a216","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":2101.3096885681152,"y":258.9880962371826,"z":"6d7f71e.590019","wires":[["5a6fb1cb.14dec","d45cb724.9e68e8","ede9f0c5.b1bd2"]]},{"id":"5a6fb1cb.14dec","type":"set","name":"set vnf-id","xml":"<set>\n<parameter name='serv-inst.vnf-list[$vnf-ids-index].vnf-id' value='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-id`' />\n","comments":"","x":2263.2744140625,"y":210.6547908782959,"z":"6d7f71e.590019","wires":[]},{"id":"d45cb724.9e68e8","type":"for","name":"for each vnf network","xml":"<for silentFailure='true' index='vnf-network-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n","comments":"","outputs":1,"x":2297.5004806518555,"y":259.82146310806274,"z":"6d7f71e.590019","wires":[["3f360487.40655c"]]},{"id":"55d9efb3.4b684","type":"set","name":"set api type to GR","xml":"<set>\n<parameter name='serv-inst.api' value='GR' />\n","comments":"","x":1478.928638458252,"y":669.642825126648,"z":"6d7f71e.590019","wires":[]},{"id":"3f360487.40655c","type":"for","name":"for each vf module","xml":"<for silentFailure='true' index='vf-module-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n","comments":"","outputs":1,"x":2508.750545501709,"y":260.2500329017639,"z":"6d7f71e.590019","wires":[["c7aba045.1c34a"]]},{"id":"c7aba045.1c34a","type":"for","name":"for each vm","xml":"<for silentFailure='true' index='vm-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n","comments":"","outputs":1,"x":2689.643611907959,"y":259.64292001724243,"z":"6d7f71e.590019","wires":[["5b48a026.a1a91"]]},{"id":"5b48a026.a1a91","type":"for","name":"for each vm-network","xml":"<for silentFailure='true' index='vm-network-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[$vm-index].vm-networks.vm-network_length`' >\n","comments":"","outputs":1,"x":2876.608066558838,"y":259.8214945793152,"z":"6d7f71e.590019","wires":[["1cdc2616.1c24fa"]]},{"id":"a31355db.afe758","type":"for","name":"for each vnf in vnf-ids","xml":"<for silentFailure='true' index='vnf-ids-index' start='0' end='`$vnf-ids_length`' >\n","comments":"","outputs":1,"x":995.0595626831055,"y":502.5595397949219,"z":"6d7f71e.590019","wires":[["e14fa0c6.5ef9"]]},{"id":"2be3d5be.b86e3a","type":"switchNode","name":"customization-uuid matches?","xml":"<switch test='`$vnf-ids[$vnf-ids-index] == $mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1662.6787796020508,"y":480.57142639160156,"z":"6d7f71e.590019","wires":[["aad27c47.88dea"]]},{"id":"aad27c47.88dea","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1885.5357627868652,"y":478.5714750289917,"z":"6d7f71e.590019","wires":[["8f05c34f.9a216"]]},{"id":"e14fa0c6.5ef9","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":1192.6786270141602,"y":500.7143154144287,"z":"6d7f71e.590019","wires":[["363c3171.7e0ede","46015960.11afa8","ef9932e5.043a5"]]},{"id":"46015960.11afa8","type":"switchNode","name":"switch vnf-network-list_length == 0","xml":"<switch test='`$vnf-network-list_length == 0`'>\n","comments":"","outputs":1,"x":1431.2501678466797,"y":574.2856636047363,"z":"6d7f71e.590019","wires":[["4996b9c9.495528"]]},{"id":"4996b9c9.495528","type":"outcomeFalse","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1644.1071548461914,"y":574.2858028411865,"z":"6d7f71e.590019","wires":[["c2d3eb61.cfd728"]]},{"id":"eade6fe6.5700f","type":"set","name":"set error (for logging only)","xml":"<set>\n<parameter name='matching-error' value=\"`'Unable to find VNF with customization UUID of ' + $vnf-ids[vnf-ids-index] + ' for service instance ' + $serv-inst.service-instance-id`\" />\n","comments":"","x":2008.3927974700928,"y":530.000096321106,"z":"6d7f71e.590019","wires":[]},{"id":"c2d3eb61.cfd728","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":1795.5358142852783,"y":574.2857704162598,"z":"6d7f71e.590019","wires":[["eade6fe6.5700f","d6048bfa.780a88","6dca1263.4778bc"]]},{"id":"d6048bfa.780a88","type":"break","name":"break","xml":"<break>\n","comments":"","x":1948.392993927002,"y":625.7143640518188,"z":"6d7f71e.590019","wires":[]},{"id":"77e5e709.c714d8","type":"switchNode","name":"switch mismatch","xml":"<switch test='`$mismatch`'>\n","comments":"","outputs":1,"x":970.3571624755859,"y":703.392915725708,"z":"6d7f71e.590019","wires":[["c2d5121.2cea3f"]]},{"id":"c2d5121.2cea3f","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1137.4998664855957,"y":703.3929166793823,"z":"6d7f71e.590019","wires":[["e13c20b2.c80ee"]]},{"id":"e13c20b2.c80ee","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":1288.9285430908203,"y":703.3929100036621,"z":"6d7f71e.590019","wires":[["55d9efb3.4b684","17ed646d.5e36fc"]]},{"id":"f0797342.9c438","type":"switchNode","name":"switch vnf-ids_length","xml":"<switch test='`$vnf-ids_length`'>\n","comments":"","outputs":1,"x":408.74999618530273,"y":405.3571491241455,"z":"6d7f71e.590019","wires":[["23fcf718.af2d48","54b8da41.f17a84"]]},{"id":"23fcf718.af2d48","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":607.4999771118164,"y":245.00000381469727,"z":"6d7f71e.590019","wires":[["1ceb28f2.d76047"]]},{"id":"54b8da41.f17a84","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":608.75,"y":598.7500057220459,"z":"6d7f71e.590019","wires":[["9bba02e5.459a"]]},{"id":"9bba02e5.459a","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":772.4999923706055,"y":597.5,"z":"6d7f71e.590019","wires":[["a31355db.afe758","77e5e709.c714d8","25801811.f52908"]]},{"id":"4c7eaa9d.d75e14","type":"comment","name":"Composite path","info":"","comments":"","x":769.8214492797852,"y":188.5714225769043,"z":"6d7f71e.590019","wires":[]},{"id":"1132a175.93984f","type":"comment","name":"Simple path","info":"","comments":"","x":765.8928642272949,"y":542.8571424484253,"z":"6d7f71e.590019","wires":[]},{"id":"1ceb28f2.d76047","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":764.9999694824219,"y":246.24999809265137,"z":"6d7f71e.590019","wires":[["e5138787.60c938","457ab284.4700dc","a11da0e1.fb029"]]},{"id":"457ab284.4700dc","type":"set","name":"set vnf-list_length","xml":"<set>\n<parameter name='serv-inst.vnf-list_length'\n  value='`$mdsal-service.service[0].service-data.vnfs.vnf_length`' />\n","comments":"","x":969.4642639160156,"y":326.42856216430664,"z":"6d7f71e.590019","wires":[]},{"id":"e5138787.60c938","type":"set","name":"set api type to GR","xml":"<set>\n<parameter name='serv-inst.api' value='GR' />\n","comments":"","x":971.785774230957,"y":273.214298248291,"z":"6d7f71e.590019","wires":[]},{"id":"ef9932e5.043a5","type":"set","name":"set vnf-network-list_length to 0","xml":"<set>\n<parameter name='vnf-network-list_length' value='0' />\n","comments":"","x":1421.7859725952148,"y":428.4523859024048,"z":"6d7f71e.590019","wires":[]},{"id":"1cdc2616.1c24fa","type":"switchNode","name":"network-role matches?","xml":"<switch test='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role\n  == $mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[$vm-index].vm-networks.vm-network[$vm-network-index].network-role`'>\n","comments":"","outputs":1,"x":3094.6426963806152,"y":259.64286279678345,"z":"6d7f71e.590019","wires":[["7e6e4184.8f829"]]},{"id":"a5bc8518.beefc8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3400.3572845458984,"y":258.2142868041992,"z":"6d7f71e.590019","wires":[["ee23b31b.a6149","bc442b55.010ac8"]]},{"id":"ee23b31b.a6149","type":"set","name":"set network name/role and vf-module-id","xml":"<set>\n<parameter name='serv-inst.vnf-list[$vnf-ids-index].vnf-network-list[$vnf-network-list_length].network-name'\n  value='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-name`' />\n<parameter name='serv-inst.vnf-list[$vnf-ids-index].vnf-network-list[$vnf-network-list_length].network-role'\n  value='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`' />\n<parameter name='serv-inst.vnf-list[$vnf-ids-index].vnf-network-list[$vnf-network-list_length].vf-module-id'\n  value='`$mdsal-service.service[0].service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`' />\n","comments":"","x":3630.357280731201,"y":232.4999704360962,"z":"6d7f71e.590019","wires":[]},{"id":"bc442b55.010ac8","type":"set","name":"increment vnf-network-list_length","xml":"<set>\n<parameter name='vnf-network-list_length' value='`$vnf-network-list_length + 1`' />\n","comments":"","x":3604.6429862976074,"y":281.0714168548584,"z":"6d7f71e.590019","wires":[]},{"id":"ede9f0c5.b1bd2","type":"set","name":"set vnf-network-list_length in serv-inst","xml":"<set>\n<parameter name='serv-inst.vnf-list[$vnf-ids-index].vnf-network-list_length' value='`$vnf-network-list_length`' />\n","comments":"","x":2351.785972595215,"y":309.6428451538086,"z":"6d7f71e.590019","wires":[]},{"id":"25801811.f52908","type":"set","name":"set mismatch = false","xml":"<set>\n<parameter name='mismatch' value='false' />\n","comments":"","x":991.7857360839844,"y":449.4047613143921,"z":"6d7f71e.590019","wires":[]},{"id":"6dca1263.4778bc","type":"set","name":"set mismatch = true","xml":"<set>\n<parameter name='mismatch' value='true' />\n","comments":"","x":1990.3571548461914,"y":578.2143392562866,"z":"6d7f71e.590019","wires":[]},{"id":"7e6e4184.8f829","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3271.785789489746,"y":258.21430587768555,"z":"6d7f71e.590019","wires":[["a5bc8518.beefc8"]]},{"id":"a11da0e1.fb029","type":"for","name":"for each vnf in MD-SAL","xml":"<for silentFailure='true' index='vnf-index' start='0' end='`$mdsal-service.service[0].service-data.vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":986.0713539123535,"y":208.92858123779297,"z":"6d7f71e.590019","wires":[["899f4cb5.f34bb"]]},{"id":"899f4cb5.f34bb","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1174.6427879333496,"y":207.50000381469727,"z":"6d7f71e.590019","wires":[["5a4b7c4.0d65784","8f05c34f.9a216","782de792.75d208"]]},{"id":"5a4b7c4.0d65784","type":"set","name":"set vnf-ids-index to vnf-index","xml":"<set>\n<parameter name='vnf-ids-index' value='`$vnf-index`' />\n","comments":"","x":1384.880874633789,"y":169.64285469055176,"z":"6d7f71e.590019","wires":[]},{"id":"782de792.75d208","type":"set","name":"set vnf-network-list_length to 0","xml":"<set>\n<parameter name='vnf-network-list_length' value='0' />\n","comments":"","x":1391.666633605957,"y":121.66666030883789,"z":"6d7f71e.590019","wires":[]}]