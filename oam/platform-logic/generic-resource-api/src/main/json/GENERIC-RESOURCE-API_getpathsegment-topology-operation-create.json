[{"id":"261905ae.34eeea","type":"dgstart","name":"DGSTART","outputs":1,"x":107.14286041259766,"y":87.14286041259766,"z":"d2d67543.531a18","wires":[["169d4e88.009d51"]]},{"id":"169d4e88.009d51","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":222.42855834960938,"y":127.38096904754639,"z":"d2d67543.531a18","wires":[["38b07d77.4433d2"]]},{"id":"38b07d77.4433d2","type":"method","name":"method getpathsegment-topology-operation-create","xml":"<method rpc='getpathsegment-topology-operation-create' mode='sync'>\n","comments":"","outputs":1,"x":235.5714874267578,"y":168.14285469055176,"z":"d2d67543.531a18","wires":[["31ba1293.5cf0ee"]]},{"id":"e8a1dd7.47fde2","type":"comment","name":"getpathsegment-topology-operation-create","info":"","comments":"","x":501.4877166748047,"y":34.729204177856445,"z":"d2d67543.531a18","wires":[]},{"id":"31ba1293.5cf0ee","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":200.2143325805664,"y":445.3125629425049,"z":"d2d67543.531a18","wires":[["54c14222.af95ac"]]},{"id":"6ae3e475.6b9c5c","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":954.5237159729004,"y":757.0838375091553,"z":"d2d67543.531a18","wires":[]},{"id":"54c14222.af95ac","type":"get-resource","name":"get-resource FORWARDING_PATH","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from FORWARDING_PATH WHERE service_uuid = $getpathsegment-topology-operation-input.service-information.onap-model-information.model-uuid'\n  pfx='db.forwarding-path[]'>\n","comments":"","outputs":1,"x":419.7619209289551,"y":445.2380895614624,"z":"d2d67543.531a18","wires":[["d1e373d.5f3839","e66bd439.bc6018","8e5c1bb8.9dad08"]]},{"id":"414d5c6.00494a4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No paths found for service UUID ' + $getpathsegment-topology-operation-input.service-information.onap-model-information.model-uuid + ' in FORWARDING_PATH table'`\" />\n","comments":"","x":810.7139854431152,"y":447.7141571044922,"z":"d2d67543.531a18","wires":[]},{"id":"d1e373d.5f3839","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":637.2140197753906,"y":404.2379722595215,"z":"d2d67543.531a18","wires":[["2f9208aa.104648"]]},{"id":"e66bd439.bc6018","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":645.7854499816895,"y":447.52368545532227,"z":"d2d67543.531a18","wires":[["414d5c6.00494a4"]]},{"id":"2f9208aa.104648","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"System error reading FORWARDING_PATH table\" />\n","comments":"","x":810.0711860656738,"y":402.80941581726074,"z":"d2d67543.531a18","wires":[]},{"id":"a6b2786.3d17d88","type":"for","name":"for each path","xml":"<for index='path-index' start='0' end='`$db.forwarding-path_length`' >\n","comments":"","outputs":1,"x":955.8332901000977,"y":536.3690814971924,"z":"d2d67543.531a18","wires":[["bcf842fd.4c17e"]]},{"id":"4f0fc7df.0716b8","type":"call","name":"call GENERIC-RESOURCE-API:getpathsegment-create-simple-path","xml":"<call module='GENERIC-RESOURCE-API' rpc='getpathsegment-create-simple-path' mode='sync' >\n","comments":"","outputs":1,"x":1685.8332977294922,"y":490.1190814971924,"z":"d2d67543.531a18","wires":[[]]},{"id":"bcf842fd.4c17e","type":"switchNode","name":"switch path-type","xml":"<switch test='`$db.forwarding-path[$path-index].path-type`'>\n","comments":"","outputs":1,"x":1153.3332901000977,"y":535.1190814971924,"z":"d2d67543.531a18","wires":[["4db3b138.6f891","4d238377.ee1bec","c3b6216a.e9e8"]]},{"id":"4db3b138.6f891","type":"outcome","name":"VF","xml":"<outcome value='VF'>\n","comments":"","outputs":1,"x":1328.333293914795,"y":490.1190814971924,"z":"d2d67543.531a18","wires":[["4f0fc7df.0716b8"]]},{"id":"4d238377.ee1bec","type":"outcome","name":"Service Proxy","xml":"<outcome value='Service Proxy'>\n","comments":"","outputs":1,"x":1350.833293914795,"y":533.8690814971924,"z":"d2d67543.531a18","wires":[["d90f5716.b26838"]]},{"id":"c3b6216a.e9e8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1328.333293914795,"y":577.619083404541,"z":"d2d67543.531a18","wires":[["5ddfc378.55765c"]]},{"id":"d90f5716.b26838","type":"call","name":"call GENERIC-RESOURCE-API:getpathsegment-create-composite-path","xml":"<call module='GENERIC-RESOURCE-API' rpc='getpathsegment-create-composite-path' mode='sync' >\n","comments":"","outputs":1,"x":1695.5833129882812,"y":533.8690814971924,"z":"d2d67543.531a18","wires":[[]]},{"id":"5ddfc378.55765c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected path type ' + $db.forwarding-path[$path-index].path-type + ' in FORWARDING_PATH table'`\" />\n","comments":"","x":1512.0832824707031,"y":577.6190757751465,"z":"d2d67543.531a18","wires":[]},{"id":"a367f3bf.d8f46","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/gps.log' />\n","comments":"","outputs":1,"x":948.3332710266113,"y":668.6905355453491,"z":"d2d67543.531a18","wires":[[]]},{"id":"8e5c1bb8.9dad08","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":644.9999999999999,"y":644.9999999999999,"z":"d2d67543.531a18","wires":[["9eb49ed6.de179"]]},{"id":"9eb49ed6.de179","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":781.6666793823242,"y":643.3333377838135,"z":"d2d67543.531a18","wires":[["a6b2786.3d17d88","a367f3bf.d8f46","6ae3e475.6b9c5c"]]}]