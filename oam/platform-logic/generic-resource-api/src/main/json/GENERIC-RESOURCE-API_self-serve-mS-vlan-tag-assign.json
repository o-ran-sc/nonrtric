[{"id":"c5ef4a1c.e71d88","type":"dgstart","name":"DGSTART","outputs":1,"x":116.66666412353516,"y":40.571431159973145,"z":"c5a1df11.bcdf6","wires":[["bafa9db1.1c9be"]]},{"id":"bdb76f74.d12d7","type":"method","name":"method self-serve-mS-vlan-tag-assign","xml":"<method rpc='self-serve-mS-vlan-tag-assign' mode='sync'>\n","comments":"","outputs":1,"x":252.45238494873047,"y":97.69841957092285,"z":"c5a1df11.bcdf6","wires":[["a4f14c9d.58ef2"]]},{"id":"a4f14c9d.58ef2","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":145.98810577392578,"y":185.00003814697266,"z":"c5a1df11.bcdf6","wires":[["127e5415.30fb2c","9447f661.3f15d8","cc153b29.abed98","98412ecc.da23c","c502d79c.b06078"]]},{"id":"bafa9db1.1c9be","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":389.52381134033203,"y":39.99999809265137,"z":"c5a1df11.bcdf6","wires":[["bdb76f74.d12d7"]]},{"id":"127e5415.30fb2c","type":"switchNode","name":"switch: ss.capability-name","xml":"<switch test='`$ss.capability-name`'>\n","comments":"","outputs":1,"x":380.4166717529297,"y":185.32143592834473,"z":"c5a1df11.bcdf6","wires":[["f0555549.640038"]]},{"id":"f0555549.640038","type":"outcome","name":"NULL","xml":"<outcome value=''>","outputs":1,"x":605.4166946411133,"y":185.82143449783325,"z":"c5a1df11.bcdf6","wires":[["4fd344e9.faf30c"]]},{"id":"4fd344e9.faf30c","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-name is null\" />\n","comments":"","x":765.333366394043,"y":185.93253326416016,"z":"c5a1df11.bcdf6","wires":[]},{"id":"9447f661.3f15d8","type":"switchNode","name":"switch: ss.capability-action","xml":"<switch test='`$ss.capability-action`'>\n","comments":"","outputs":1,"x":381.666690826416,"y":235.32143640518188,"z":"c5a1df11.bcdf6","wires":[["9d55e5c1.3da008","68837491.e9f6dc","9a7468b9.51f858"]]},{"id":"9d55e5c1.3da008","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":605.1666870117188,"y":235.57143640518188,"z":"c5a1df11.bcdf6","wires":[["29c3584d.5da538"]]},{"id":"29c3584d.5da538","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"ss.capability-action is null\" />\n","comments":"","x":765.0833587646484,"y":235.6825351715088,"z":"c5a1df11.bcdf6","wires":[]},{"id":"68837491.e9f6dc","type":"outcome","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":603.9166831970215,"y":290.571439743042,"z":"c5a1df11.bcdf6","wires":[["10c136ed.d07269"]]},{"id":"9a9a98b7.18dd78","type":"call","name":"call self-serve-capability-param-resolution","xml":"<call module='GENERIC-RESOURCE-API' rpc='self-serve-capability-param-resolution' mode='sync' >\n","comments":"","outputs":1,"x":1076.333351135254,"y":290.82144355773926,"z":"c5a1df11.bcdf6","wires":[["875fcbab.991238"]]},{"id":"875fcbab.991238","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1332.3333320617676,"y":290.821439743042,"z":"c5a1df11.bcdf6","wires":[["b78cda8f.8dbe98"]]},{"id":"b78cda8f.8dbe98","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<parameter name=\"ack-final\" value=\"Y\" />\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"error-message\" value=\"`'Not all assignments are resolved' + $error-message`\" />\n","comments":"","x":1491.0833129882812,"y":290.8214359283447,"z":"c5a1df11.bcdf6","wires":[]},{"id":"d1c0d946.9ec218","type":"set","name":"set tmp.ss.param.capability-name","xml":"<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n","comments":"","x":1336.0873336791992,"y":395.17460918426514,"z":"c5a1df11.bcdf6","wires":[]},{"id":"a41a6ef3.c5f19","type":"for","name":"for pidx in param_length","xml":"<for silentFailure='true' index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">","comments":"","outputs":1,"x":1024.3015594482422,"y":395.24607944488525,"z":"c5a1df11.bcdf6","wires":[["a12ffc63.ffc1a","d1c0d946.9ec218"]]},{"id":"a12ffc63.ffc1a","type":"switchNode","name":"switch: capability-name - ss vs param","xml":"<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n","comments":"","outputs":1,"x":1349.0158615112305,"y":441.60325145721436,"z":"c5a1df11.bcdf6","wires":[["e789debe.6b525"]]},{"id":"e789debe.6b525","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1590.6230239868164,"y":440.9246826171875,"z":"c5a1df11.bcdf6","wires":[["e6113344.7f529"]]},{"id":"96ca14a1.e245e8","type":"switchNode","name":"switch: resource-key[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n","comments":"","outputs":1,"x":1701.3057670593262,"y":652.1231122016907,"z":"c5a1df11.bcdf6","wires":[["55ded108.90884","3d143f12.9a0fc","894afc22.6c1c","fd09cd3.fdd223","fcf2da49.9d2578","48f38f0c.3b234"]]},{"id":"55ded108.90884","type":"outcome","name":"resource-name","xml":"<outcome value='resource-name'>\n","comments":"","outputs":1,"x":1969.6114082336426,"y":691.8731007575989,"z":"c5a1df11.bcdf6","wires":[["f3f0ea6c.e03218"]]},{"id":"f3f0ea6c.e03218","type":"set","name":"set vt.request[].resource-name","xml":"<set>\n<parameter name='vt.request[$qidx].resource-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2285.1113624572754,"y":691.6230969429016,"z":"c5a1df11.bcdf6","wires":[]},{"id":"894afc22.6c1c","type":"outcome","name":"resource-value","xml":"<outcome value='resource-value'>\n","comments":"","outputs":1,"x":1971.6946830749512,"y":857.5953712463379,"z":"c5a1df11.bcdf6","wires":[["4d3a96f8.e92e68"]]},{"id":"64924fa7.7e266","type":"set","name":"set vt.request[].resource-value","xml":"<set>\n<parameter name='vt.request[$qidx].resource-value' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2673.6946907043457,"y":856.3453693389893,"z":"c5a1df11.bcdf6","wires":[]},{"id":"3d143f12.9a0fc","type":"outcome","name":"vlan-tag-key","xml":"<outcome value='vlan-tag-key'>\n","comments":"","outputs":1,"x":1961.2067070007324,"y":774.9841747283936,"z":"c5a1df11.bcdf6","wires":[["c9ff3410.8119d8"]]},{"id":"c9ff3410.8119d8","type":"set","name":"set vt.request[].vlan-tag-key","xml":"<set>\n<parameter name='vt.request[$qidx].vlan-tag-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2280.2067070007324,"y":773.7341747283936,"z":"c5a1df11.bcdf6","wires":[]},{"id":"10c136ed.d07269","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":776.6666946411133,"y":290.8214406967163,"z":"c5a1df11.bcdf6","wires":[["a41a6ef3.c5f19","566911e.ec7c0f","9a9a98b7.18dd78","a86eaad7.3ed688","ef89d686.bbf968"]]},{"id":"33cf25d7.f48cda","type":"for","name":"for kidx in resource-key_length","xml":"<for silentFailure='true' index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key_length`\">","comments":"","outputs":1,"x":1422.1668434143066,"y":651.9842228889465,"z":"c5a1df11.bcdf6","wires":[["96ca14a1.e245e8"]]},{"id":"cc153b29.abed98","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='`$pathname`' />\n","comments":"","outputs":1,"x":362.91666412353516,"y":3670.5713291168213,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"48f38f0c.3b234","type":"outcome","name":"policy-instance-name","xml":"<outcome value='policy-instance-name'>\n","comments":"","outputs":1,"x":1988.5000267028809,"y":651.6230244636536,"z":"c5a1df11.bcdf6","wires":[["c93a305c.2fa4c"]]},{"id":"c93a305c.2fa4c","type":"set","name":"set vt.request[].policy-instance-name","xml":"<set>\n<parameter name='vt.request[$qidx].policy-instance-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2302.860980987549,"y":651.7341361045837,"z":"c5a1df11.bcdf6","wires":[]},{"id":"fd09cd3.fdd223","type":"outcome","name":"scope-id","xml":"<outcome value='scope-id'>\n","comments":"","outputs":1,"x":1950.4842338562012,"y":732.5952472686768,"z":"c5a1df11.bcdf6","wires":[["933df36c.8496"]]},{"id":"933df36c.8496","type":"set","name":"set vt.request[].scope-id","xml":"<set>\n<parameter name='vt.request[$qidx].scope-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2268.734172821045,"y":732.59521484375,"z":"c5a1df11.bcdf6","wires":[]},{"id":"e6113344.7f529","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1183.0474700927734,"y":604.5238580703735,"z":"c5a1df11.bcdf6","wires":[["33cf25d7.f48cda","38d23bcd.0c65d4","376c2003.77b22","3ca06662.a2a23a","a60f294f.fe8c58"]]},{"id":"566911e.ec7c0f","type":"set","name":"set qidx = 0, ss.vt. = null","xml":"<set>\n<parameter name='qidx' value='0' />\n<parameter name='ss.vt.' value='' />\n","comments":"","x":1024.952392578125,"y":344.4285650253296,"z":"c5a1df11.bcdf6","wires":[]},{"id":"38d23bcd.0c65d4","type":"set","name":"qidx++","xml":"<set>\n<parameter name='qidx' value='`$qidx + 1`' />\n","comments":"","x":1345.6547546386719,"y":873.131016254425,"z":"c5a1df11.bcdf6","wires":[]},{"id":"376c2003.77b22","type":"set","name":"set vt.request_length = qidx","xml":"<set>\n<parameter name='vt.request_length' value='`$qidx`' />\n","comments":"","x":1410.654685974121,"y":920.131062567234,"z":"c5a1df11.bcdf6","wires":[]},{"id":"a60f294f.fe8c58","type":"set","name":"set ss.vt.param[].index","xml":"<set>\n<parameter name='ss.vt.param[$qidx].index' value='`$pidx`' />\n","comments":"","x":1395.9047241210938,"y":604.8095788955688,"z":"c5a1df11.bcdf6","wires":[]},{"id":"3ca06662.a2a23a","type":"set","name":"set ss.vt.param_length = qidx","xml":"<set>\n<parameter name='ss.vt.param_length' value='`$qidx`' />\n","comments":"","x":1415.3689498901367,"y":967.416708946228,"z":"c5a1df11.bcdf6","wires":[]},{"id":"64bef960.780cb8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"Failed to get vlan-tag assisgnment from mS\" />\n","comments":"","x":1668.1782302856445,"y":1149.2737274169922,"z":"c5a1df11.bcdf6","wires":[]},{"id":"ef89d686.bbf968","type":"execute","name":"execute RestApiCallNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.mS.vlan.tag.assign.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.vt.mS.url + $tmp.ss-vlan-tag-url`' />\n    <parameter name='restapiUser' value='`$prop.vt.mS.user`' />\n    <parameter name='restapiPassword' value='`$prop.vt.mS.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"vtResp\" />","comments":"","outputs":1,"x":1041.4165878295898,"y":1143.6593780517578,"z":"c5a1df11.bcdf6","wires":[["11961f29.a94ae1","d6afc59.dcb7338","10db5421.58885c"]]},{"id":"11961f29.a94ae1","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1274.4387245178223,"y":1144.2289943695068,"z":"c5a1df11.bcdf6","wires":[["d44f309f.f63a1"]]},{"id":"d6afc59.dcb7338","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1265.4388122558594,"y":1057.014744758606,"z":"c5a1df11.bcdf6","wires":[["d44f309f.f63a1"]]},{"id":"10db5421.58885c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1270.6174621582031,"y":1244.8003120422363,"z":"c5a1df11.bcdf6","wires":[["a72a549f.b9c508"]]},{"id":"d44f309f.f63a1","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1465.1425857543945,"y":1056.6589431762695,"z":"c5a1df11.bcdf6","wires":[["64bef960.780cb8","18d5e86c.5dcdd8"]]},{"id":"a212f83c.df2cb8","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":2413.6667556762695,"y":1100.5595350265503,"z":"c5a1df11.bcdf6","wires":[]},{"id":"18d5e86c.5dcdd8","type":"for","name":"for i in ss.vt.param_length","xml":"<for index=\"i\" start=\"0\" end=\"`$ss.vt.param_length`\">","comments":"","outputs":1,"x":2075.738105773926,"y":1056.3097324371338,"z":"c5a1df11.bcdf6","wires":[["a212f83c.df2cb8","dafa8995.1e9368"]]},{"id":"717779a8.2aaf68","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1853.0952911376953,"y":1245.5715370178223,"z":"c5a1df11.bcdf6","wires":[["35740486.f18a7c","18d5e86c.5dcdd8"]]},{"id":"a72a549f.b9c508","type":"switchNode","name":"switch: vtResp.error-code","xml":"<switch test='`$vtResp.error-code`'>\n","comments":"","outputs":1,"x":1480.2975387573242,"y":1244.9641914367676,"z":"c5a1df11.bcdf6","wires":[["52bcb445.96891c","ee88877a.c2d038"]]},{"id":"52bcb445.96891c","type":"outcomeTrue","name":"500","xml":"<outcome value='500'>\n","comments":"","outputs":1,"x":1692.547534942627,"y":1244.7141914367676,"z":"c5a1df11.bcdf6","wires":[["717779a8.2aaf68"]]},{"id":"ee88877a.c2d038","type":"outcomeTrue","name":"200","xml":"<outcome value='200'>\n","comments":"","outputs":1,"x":1694.0475387573242,"y":1287.4641914367676,"z":"c5a1df11.bcdf6","wires":[["772d58d9.bfa278"]]},{"id":"35740486.f18a7c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value=\"`'Encountered error from mS-vlan-tag-assign with error-code = ' + $vtResp.error-code + ' and error-message = ' + $vtResp.error-message`\" />\n","comments":"","x":2039.4642181396484,"y":1245.1308870315552,"z":"c5a1df11.bcdf6","wires":[]},{"id":"dafa8995.1e9368","type":"set","name":"set vt-index","xml":"<set>\n<parameter name='vt-index' value='`$ss.vt.param[$i].index`' />\n","comments":"","x":2309.1308670043945,"y":1055.3809442520142,"z":"c5a1df11.bcdf6","wires":[]},{"id":"b8d40c25.c4dd9","type":"for","name":"for vtidx in ss.vt.param_length","xml":"<for silentFailure='true' index=\"vtidx\" start=\"0\" end=\"`$ss.vt.param_length`\">","comments":"","outputs":1,"x":1270.9286804199219,"y":2016.2978057861328,"z":"c5a1df11.bcdf6","wires":[["e9dea048.e97a1","c4d40bb4.303788"]]},{"id":"495d7152.4efb9","type":"call","name":"call generate-cp-instance-id","xml":"<call module=\"GENERIC-RESOURCE-API\" rpc=\"generate-cp-instance-id\" mode=\"sync\" >\n","comments":"","outputs":1,"x":2846.6789512634277,"y":2470.0120401382446,"z":"c5a1df11.bcdf6","wires":[["11690908.93f117"]]},{"id":"11690908.93f117","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":3055.2503449576243,"y":2470.1550019127985,"z":"c5a1df11.bcdf6","wires":[["2d993438.c09e0c"]]},{"id":"8b5bee81.6266f","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value=\"`'Error in generating cp-instance-id in SDNC; ' + $error-message.generate-cp-instance-id + $error-message`\" />\n","comments":"","x":3406.0955123901367,"y":2503.8219566345215,"z":"c5a1df11.bcdf6","wires":[]},{"id":"7ed21610.a53f78","type":"execute","name":"param[$vt-index].value contains $","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name='source' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].value`' />\n    <parameter name='target' value='$' />\n","comments":"","outputs":1,"x":1249.7500381469727,"y":2258.726761817932,"z":"c5a1df11.bcdf6","wires":[["466d8758.a7b688","ee492c8b.fbf1c"]]},{"id":"97fa42c5.a3d32","type":"set","name":"set capability-name = INPUT","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.capability-name' \n\tvalue='INPUT' />\n","comments":"","x":1914.655387878418,"y":2601.726538658142,"z":"c5a1df11.bcdf6","wires":[]},{"id":"466d8758.a7b688","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1496.798110961914,"y":2600.869469642639,"z":"c5a1df11.bcdf6","wires":[["c238ab9f.a2f118"]]},{"id":"ee492c8b.fbf1c","type":"outcomeFalse","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1503.4643249511719,"y":2258.01242351532,"z":"c5a1df11.bcdf6","wires":[["1c9a359e.8341da"]]},{"id":"fdccd3a0.01719","type":"set","name":"set param[].value","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].value' \n\tvalue='`$vtResp.output[$oidx].resource-value`' />\n","comments":"","x":2093.8212356567383,"y":2260.3692808151245,"z":"c5a1df11.bcdf6","wires":[]},{"id":"c7cab06d.300ff","type":"for","name":"for oidx in vtResp.output_length","xml":"<for silentFailure='true' index=\"oidx\" start=\"0\" end=\"`$vtResp.output_length`\">","comments":"","outputs":1,"x":981.4642086029053,"y":2016.5119230747223,"z":"c5a1df11.bcdf6","wires":[["b8d40c25.c4dd9"]]},{"id":"e9dea048.e97a1","type":"switchNode","name":"switch: resource-name = param[].name","xml":"<switch test='`$vtResp.output[$oidx].resource-name == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].name`'>\n","comments":"","outputs":1,"x":1585.464210510254,"y":2069.0119199752808,"z":"c5a1df11.bcdf6","wires":[["59284168.90b7c"]]},{"id":"59284168.90b7c","type":"outcomeFalse","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1832.214210510254,"y":2069.0119199752808,"z":"c5a1df11.bcdf6","wires":[["7ed21610.a53f78"]]},{"id":"c4d40bb4.303788","type":"set","name":"set vt-index","xml":"<set>\n<parameter name='vt-index' value='`$ss.vt.param[$vtidx].index`' />\n","comments":"","x":1501.714210510254,"y":2016.5119199752808,"z":"c5a1df11.bcdf6","wires":[]},{"id":"1c9a359e.8341da","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1873.5711975097656,"y":2260.3692541122437,"z":"c5a1df11.bcdf6","wires":[["fdccd3a0.01719","740ff69b.385498","b0852bbf.7b6948"]]},{"id":"99bf5b7d.b52968","type":"for","name":"for sidx in stored-elements_length","xml":"<for silentFailure='true' index=\"sidx\" start=\"0\" end=\"`$vtResp.output[$oidx].stored-elements_length`\">","comments":"","outputs":1,"x":2866.107204437256,"y":2541.0119276046753,"z":"c5a1df11.bcdf6","wires":[["a838c69c.5f85d8"]]},{"id":"e0dd47c2.5e32c8","type":"set","name":"set vnfc-network-data[$idx].vnfc-network-role","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].vnfc-network-role' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2898.107421875,"y":2425.0120391845703,"z":"c5a1df11.bcdf6","wires":[]},{"id":"ea768341.52b6a","type":"switchNode","name":"switch: resource-key[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.resource-key[$kidx].name`'>\n","comments":"","outputs":1,"x":2418.8929138183594,"y":2355.2261867523193,"z":"c5a1df11.bcdf6","wires":[["cbc3487d.ad3498"]]},{"id":"740ff69b.385498","type":"for","name":"for kidx in resource-key_length","xml":"<for silentFailure='true' index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.resource-key_length`\">","comments":"","outputs":1,"x":2139.75399017334,"y":2355.087297439575,"z":"c5a1df11.bcdf6","wires":[["ea768341.52b6a"]]},{"id":"cbc3487d.ad3498","type":"outcome","name":"vnfc-network-role","xml":"<outcome value='vnfc-network-role'>\n","comments":"","outputs":1,"x":2666.087173461914,"y":2354.726099014282,"z":"c5a1df11.bcdf6","wires":[["2dac7293.22fd2e"]]},{"id":"a838c69c.5f85d8","type":"set","name":"set vlan-data[]","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.connection-point-id' \n\tvalue='`$tmp.return.generate-cp-instance-id.id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.vlan-data[$sidx].vlan-uuid' \n\tvalue='`$vtResp.output[$oidx].stored-elements[$sidx].vlan-uuid`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.vlan-data[$sidx].vlan-tag-id' \n\tvalue='`$vtResp.output[$oidx].stored-elements[$sidx].vlantag-value`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.vlan-data[$sidx].vlan-tag-description' \n\tvalue='`$vtResp.output[$oidx].stored-elements[$sidx].vlantag-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.vlan-data[$sidx].vlan-role' \n\tvalue='`$vtResp.output[$oidx].stored-elements[$sidx].element-vlan-role`' />\n","comments":"","x":3124.8572998046875,"y":2541.0121421813965,"z":"c5a1df11.bcdf6","wires":[]},{"id":"fcf2da49.9d2578","type":"outcome","name":"vlan-type","xml":"<outcome value='vlan-type'>\n","comments":"","outputs":1,"x":1954.6190328598022,"y":815.5952258110046,"z":"c5a1df11.bcdf6","wires":[["cb98390c.0c83b8"]]},{"id":"cb98390c.0c83b8","type":"set","name":"set vt.request[].vlan-type","xml":"<set>\n<parameter name='vt.request[$qidx].vlan-type' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2272.6190328598022,"y":815.3452258110046,"z":"c5a1df11.bcdf6","wires":[]},{"id":"4d3a96f8.e92e68","type":"execute","name":"resource-key[$sidx].value contains $","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='contains' emitsOutcome='true' >\n    <parameter name='source' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n    <parameter name='target' value='$' />\n","comments":"","outputs":1,"x":2231.368999481201,"y":857.095251083374,"z":"c5a1df11.bcdf6","wires":[["a8167a34.9f7498","fce37b40.737b98"]]},{"id":"a8167a34.9f7498","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2466.7262115478516,"y":856.3809108734131,"z":"c5a1df11.bcdf6","wires":[["64924fa7.7e266"]]},{"id":"fce37b40.737b98","type":"outcomeFalse","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2467.618968963623,"y":898.095235824585,"z":"c5a1df11.bcdf6","wires":[["cf84b8fb.496658"]]},{"id":"cf84b8fb.496658","type":"set","name":"set vt.request[].resource-value = NULL","xml":"<set>\n<parameter name='vt.request[$qidx].resource-value' value='' />\n","comments":"","x":2702.118968963623,"y":898.345235824585,"z":"c5a1df11.bcdf6","wires":[]},{"id":"c62fc75a.bc4718","type":"comment","name":"Manually ASSIGNED","info":"","comments":"","x":2667.618968963623,"y":819.345235824585,"z":"c5a1df11.bcdf6","wires":[]},{"id":"9a7468b9.51f858","type":"outcome","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":616.9047355651855,"y":2706.237874984741,"z":"c5a1df11.bcdf6","wires":[["9e8c530e.faa71"]]},{"id":"649308e2.aa56f8","type":"set","name":"set tmp.ss.param.capability-name","xml":"<set>\n<parameter name='tmp.ss.param.capability-name' \n\tvalue='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.capability-name`' />\n","comments":"","x":1318.7420043945312,"y":2758.1745371818542,"z":"c5a1df11.bcdf6","wires":[]},{"id":"bbd10fa5.f1ee3","type":"for","name":"for pidx in param_length","xml":"<for silentFailure='true' index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">","comments":"","outputs":1,"x":1028.9562301635742,"y":2758.2460074424744,"z":"c5a1df11.bcdf6","wires":[["3d6e53cd.d0980c","649308e2.aa56f8"]]},{"id":"3d6e53cd.d0980c","type":"switchNode","name":"switch: capability-name - ss vs param","xml":"<switch test='`$tmp.ss.param.capability-name == $ss.capability-name`'>\n","comments":"","outputs":1,"x":1330.7062301635742,"y":2801.7460112571716,"z":"c5a1df11.bcdf6","wires":[["56632159.314ea"]]},{"id":"56632159.314ea","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1572.3133926391602,"y":2801.067442417145,"z":"c5a1df11.bcdf6","wires":[["8011d731.b29368"]]},{"id":"9e8c530e.faa71","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":789.3213691711426,"y":2706.488046646118,"z":"c5a1df11.bcdf6","wires":[["bbd10fa5.f1ee3","fd931792.3a1838","ea689bee.78fbb8","6a23991a.0d4c58"]]},{"id":"fd931792.3a1838","type":"set","name":"set qidx = 0, ss.vt. = null","xml":"<set>\n<parameter name='qidx' value='0' />\n<parameter name='ss.vt.' value='' />\n","comments":"","x":1029.607063293457,"y":2707.4284930229187,"z":"c5a1df11.bcdf6","wires":[]},{"id":"6ef575e9.05dc2c","type":"switchNode","name":"switch: resource-key[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].name`'>\n","comments":"","outputs":1,"x":1730.2380027770996,"y":2975.238130569458,"z":"c5a1df11.bcdf6","wires":[["aa88d40.920433","4e8f979d.ebee18","a3b371c5.833c9"]]},{"id":"aa88d40.920433","type":"outcome","name":"vlan-tag-key","xml":"<outcome value='vlan-tag-key'>\n","comments":"","outputs":1,"x":1991.1388702392578,"y":3056.0993270874023,"z":"c5a1df11.bcdf6","wires":[["94618202.f200a"]]},{"id":"94618202.f200a","type":"set","name":"set vt.request[].vlan-tag-key","xml":"<set>\n<parameter name='vt.request[$qidx].vlan-tag-key' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2283.138870239258,"y":3055.8493270874023,"z":"c5a1df11.bcdf6","wires":[]},{"id":"2254e5a4.e4004a","type":"for","name":"for kidx in resource-key_length","xml":"<for silentFailure='true' index=\"kidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key_length`\">","comments":"","outputs":1,"x":1451.09907913208,"y":2975.099241256714,"z":"c5a1df11.bcdf6","wires":[["6ef575e9.05dc2c"]]},{"id":"a3b371c5.833c9","type":"outcome","name":"policy-instance-name","xml":"<outcome value='policy-instance-name'>\n","comments":"","outputs":1,"x":2017.4322624206543,"y":2974.738042831421,"z":"c5a1df11.bcdf6","wires":[["bd22d47b.263df8"]]},{"id":"bd22d47b.263df8","type":"set","name":"set vt.request[].policy-instance-name","xml":"<set>\n<parameter name='vt.request[$qidx].policy-instance-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2309.7932167053223,"y":2974.849154472351,"z":"c5a1df11.bcdf6","wires":[]},{"id":"8011d731.b29368","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1212.9797058105469,"y":2931.638876438141,"z":"c5a1df11.bcdf6","wires":[["2254e5a4.e4004a","51b124df.524a0c","5cacb530.16a2ac","b19132a.31666d","d2f81f9.4c4e3e"]]},{"id":"51b124df.524a0c","type":"set","name":"qidx++","xml":"<set>\n<parameter name='qidx' value='`$qidx + 1`' />\n","comments":"","x":1374.5870475769043,"y":3134.579393386841,"z":"c5a1df11.bcdf6","wires":[]},{"id":"5cacb530.16a2ac","type":"set","name":"set vt.request_length = qidx","xml":"<set>\n<parameter name='vt.request_length' value='`$qidx`' />\n","comments":"","x":1439.5869789123535,"y":3181.57943969965,"z":"c5a1df11.bcdf6","wires":[]},{"id":"d2f81f9.4c4e3e","type":"set","name":"set ss.vt.param[].index","xml":"<set>\n<parameter name='ss.vt.param[$qidx].index' value='`$pidx`' />\n","comments":"","x":1425.8369598388672,"y":2931.924597263336,"z":"c5a1df11.bcdf6","wires":[]},{"id":"b19132a.31666d","type":"set","name":"set ss.vt.param_length = qidx","xml":"<set>\n<parameter name='ss.vt.param_length' value='`$qidx`' />\n","comments":"","x":1445.134578704834,"y":3225.531784057617,"z":"c5a1df11.bcdf6","wires":[]},{"id":"4e8f979d.ebee18","type":"outcome","name":"vlan-type","xml":"<outcome value='vlan-type'>\n","comments":"","outputs":1,"x":1979.5512237548828,"y":3015.376998901367,"z":"c5a1df11.bcdf6","wires":[["65b697c8.ea5298"]]},{"id":"65b697c8.ea5298","type":"set","name":"set vt.request[].vlan-type","xml":"<set>\n<parameter name='vt.request[$qidx].vlan-type' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].resource-resolution-data.resource-key[$kidx].value`' />\n","comments":"","x":2273.551223754883,"y":3015.126998901367,"z":"c5a1df11.bcdf6","wires":[]},{"id":"4dbfd277.cce03c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"Failed to unassign vlan-tag from mS\" />\n","comments":"","x":1660.047264099121,"y":3382.380973815918,"z":"c5a1df11.bcdf6","wires":[]},{"id":"ea689bee.78fbb8","type":"execute","name":"execute RestApiCallNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.mS.vlan.tag.unassign.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.vt.mS.url + $tmp.ss-vlan-tag-url`' />\n    <parameter name='restapiUser' value='`$prop.vt.mS.user`' />\n    <parameter name='restapiPassword' value='`$prop.vt.mS.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"vtResp\" />\n\n","comments":"","outputs":1,"x":1039.7142906188965,"y":3410.194941520691,"z":"c5a1df11.bcdf6","wires":[["c130c3b2.9e2b5","4b48cefb.6c48b","747e901.de66d7"]]},{"id":"c130c3b2.9e2b5","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1287.7363662719727,"y":3410.193181037903,"z":"c5a1df11.bcdf6","wires":[["3d004106.9a5e4e"]]},{"id":"4b48cefb.6c48b","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1278.7364540100098,"y":3322.978931427002,"z":"c5a1df11.bcdf6","wires":[["3d004106.9a5e4e"]]},{"id":"747e901.de66d7","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1283.9151039123535,"y":3510.7644987106323,"z":"c5a1df11.bcdf6","wires":[["c2e9d6a5.7c8678"]]},{"id":"3d004106.9a5e4e","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1478.440227508545,"y":3322.6231298446655,"z":"c5a1df11.bcdf6","wires":[["4dbfd277.cce03c","dcdb3baa.a1d1f8"]]},{"id":"26166c21.e5b684","type":"set","name":"set resource-resolution-data.status = FAILED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.status' \n\tvalue='FAILED' />\n","comments":"","x":2463.297779083252,"y":3366.5236797332764,"z":"c5a1df11.bcdf6","wires":[]},{"id":"dcdb3baa.a1d1f8","type":"for","name":"for i in ss.vt.param_length","xml":"<for index=\"i\" start=\"0\" end=\"`$ss.vt.param_length`\">","comments":"","outputs":1,"x":2090.369129180908,"y":3322.27387714386,"z":"c5a1df11.bcdf6","wires":[["26166c21.e5b684","566901e3.08c93"]]},{"id":"c2e9d6a5.7c8678","type":"switchNode","name":"switch: vtResp.error-code","xml":"<switch test='`$vtResp.error-code`'>\n","comments":"","outputs":1,"x":1488.595272064209,"y":3510.261589050293,"z":"c5a1df11.bcdf6","wires":[["fd32fdd5.c3b37","5a7175c1.4c464c"]]},{"id":"fd32fdd5.c3b37","type":"outcomeTrue","name":"500","xml":"<outcome value='500'>\n","comments":"","outputs":1,"x":1700.8452682495117,"y":3510.011589050293,"z":"c5a1df11.bcdf6","wires":[["2fd3d5cd.f9c07a"]]},{"id":"5a7175c1.4c464c","type":"outcomeTrue","name":"200","xml":"<outcome value='200'>\n","comments":"","outputs":1,"x":1702.345272064209,"y":3552.761589050293,"z":"c5a1df11.bcdf6","wires":[["8aa29f04.ea608"]]},{"id":"c17e5f2d.afefc","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500'/>\n<parameter name='error-message' value=\"`'Encountered error while unassigning mS-vlan-tag with error-code = ' + $vtResp.error-code + ' and error-message = ' + $vtResp.error-message`\" />\n","comments":"","x":2037.7618598937988,"y":3509.428256034851,"z":"c5a1df11.bcdf6","wires":[]},{"id":"566901e3.08c93","type":"set","name":"set vt-index","xml":"<set>\n<parameter name='vt-index' value='`$ss.vt.param[$i].index`' />\n","comments":"","x":2358.761890411377,"y":3321.3450889587402,"z":"c5a1df11.bcdf6","wires":[]},{"id":"7b02b008.a930e","type":"for","name":"for i in ss.vt.param_length","xml":"<for silentFailure='true' index=\"i\" start=\"0\" end=\"`$ss.vt.param_length`\">","comments":"","outputs":1,"x":2142.0359325408936,"y":3552.6903836727142,"z":"c5a1df11.bcdf6","wires":[["d4af1b82.d2a138","1dd207a0.07b2f8"]]},{"id":"8aa29f04.ea608","type":"for","name":"for oidx in output_length","xml":"<for silentFailure='true' index=\"oidx\" start=\"0\" end=\"`$vtResp.output_length`\">","comments":"","outputs":1,"x":1891.571460723877,"y":3552.9045009613037,"z":"c5a1df11.bcdf6","wires":[["7b02b008.a930e"]]},{"id":"d4af1b82.d2a138","type":"set","name":"set vt-index","xml":"<set>\n<parameter name='vt-index' value='`$ss.vt.param[$i].index`' />\n","comments":"","x":2372.8214626312256,"y":3552.904497861862,"z":"c5a1df11.bcdf6","wires":[]},{"id":"1dd207a0.07b2f8","type":"set","name":"set resource-resolution-data.status = DELETED","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.status' \n\tvalue='DELETED' />\n","comments":"","x":2478.2380714416504,"y":3607.571020126343,"z":"c5a1df11.bcdf6","wires":[]},{"id":"2fd3d5cd.f9c07a","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1860.2379417419434,"y":3509.904607772827,"z":"c5a1df11.bcdf6","wires":[["c17e5f2d.afefc","dcdb3baa.a1d1f8"]]},{"id":"2dac7293.22fd2e","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2597.4406356811523,"y":2425.845259666443,"z":"c5a1df11.bcdf6","wires":[["e0dd47c2.5e32c8","99bf5b7d.b52968","495d7152.4efb9"]]},{"id":"becd6b79.0916e8","type":"set","name":"set Test vtResp","xml":"<set>\n<parameter name='vtResp.output_length' value='2' />\n<parameter name='vtResp.output[0].resource-name' value='vlan-tag-1' />\n<parameter name='vtResp.output[0].resource-value' value='[3553]' />\n<parameter name='vtResp.output[0].resource-vlan-role' value='outer-tag' />\n<parameter name='vtResp.output[0].stored-elements_length' value='1' />\n<parameter name='vtResp.output[0].stored-elements[0].vlan-uuid' value='vlan-uuid-0' />\n<parameter name='vtResp.output[0].stored-elements[0].vlantag-name' value='VPE-Cust' />\n<parameter name='vtResp.output[0].stored-elements[0].vlantag-value' value='3553' />\n<parameter name='vtResp.output[0].stored-elements[0].element-vlan-role' value='' />\n\n<parameter name='vtResp.output[1].resource-name' value='vlan-tag-2' />\n<parameter name='vtResp.output[1].resource-value' value='[  3503, 4001, 4002 ]' />\n<parameter name='vtResp.output[1].resource-vlan-role' value='' />\n<parameter name='vtResp.output[1].stored-elements_length' value='3' />\n<parameter name='vtResp.output[1].stored-elements[0].vlan-uuid' value='vlan-uuid-1' />\n<parameter name='vtResp.output[1].stored-elements[0].vlantag-name' value='VPE-Cust-Outer' />\n<parameter name='vtResp.output[1].stored-elements[0].vlantag-value' value='3503' />\n<parameter name='vtResp.output[1].stored-elements[0].element-vlan-role' value='outer-tag' />\n<parameter name='vtResp.output[1].stored-elements[1].vlan-uuid' value='vlan-uuid-2' />\n<parameter name='vtResp.output[1].stored-elements[1].vlantag-name' value='VPE-Core1' />\n<parameter name='vtResp.output[1].stored-elements[1].vlantag-value' value='4001' />\n<parameter name='vtResp.output[1].stored-elements[1].element-vlan-role' value='outer-tag' />\n<parameter name='vtResp.output[1].stored-elements[2].vlan-uuid' value='vlan-uuid-3' />\n<parameter name='vtResp.output[1].stored-elements[2].vlantag-name' value='VPE-Core2' />\n<parameter name='vtResp.output[1].stored-elements[2].vlantag-value' value='4002' />\n<parameter name='vtResp.output[1].stored-elements[2].element-vlan-role' value='outer-tag' />\n<parameter name='vtResp.error-code' value='200' />\n<parameter name='vtResp.error-message' value='Success' />","comments":"","x":1015.2380676269531,"y":150.23808002471924,"z":"c5a1df11.bcdf6","wires":[]},{"id":"b0852bbf.7b6948","type":"set","name":"set status = SUCCESS","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.status' \n\tvalue='SUCCESS' />\n","comments":"","x":2113.3334579467773,"y":2304.5245084762573,"z":"c5a1df11.bcdf6","wires":[]},{"id":"c238ab9f.a2f118","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1662.3810806274414,"y":2601.666923522949,"z":"c5a1df11.bcdf6","wires":[["97fa42c5.a3d32","1c9a359e.8341da"]]},{"id":"f7250d31.18475","type":"set","name":"set vf-module-assignments.vms.vm[0]","xml":"<set>\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-type' value = '`$ss.param.vm-type`' />\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-invariant-uuid' value = '`$ss.param.vnfc-model-invariant-uuid`' />\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-customization-uuid' value = '`$ss.param.vnfc-model-customization-uuid`' />\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].onap-model-information.model-version' value = '`$ss.param.vnfc-model-version`' />\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-name' value = '`$ss.param.vnfc-name`' />\n","comments":"","x":999.2862014770508,"y":1904.0472078323364,"z":"c5a1df11.bcdf6","wires":[]},{"id":"e714249e.620908","type":"switchNode","name":"switch: param[].name","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].name`'>\n","comments":"","outputs":1,"x":1189.285846710205,"y":1425.6186981201172,"z":"c5a1df11.bcdf6","wires":[["879b8523.4eaea8","ce6e3eb8.4afc","245b8001.a3dd6","1ad04a05.608986","325e60bd.d904","dc7c3752.f236c8","6a9c840e.71ad0c"]]},{"id":"879b8523.4eaea8","type":"outcome","name":"nfc-function","xml":"<outcome value='nfc-function'>\n","comments":"","outputs":1,"x":1425.035846710205,"y":1425.8686981201172,"z":"c5a1df11.bcdf6","wires":[["8cf3e85f.233268"]]},{"id":"8cf3e85f.233268","type":"set","name":"set ss.param.nfc-function, index","xml":"<set>\n<parameter name='ss.param.nfc-function' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.nfc-function-index' value='`$pidx`' />\n","comments":"","x":1667.2858543395996,"y":1426.1186666488647,"z":"c5a1df11.bcdf6","wires":[]},{"id":"ce6e3eb8.4afc","type":"outcome","name":"nfc-naming-code","xml":"<outcome value='nfc-naming-code'>\n","comments":"","outputs":1,"x":1442.535846710205,"y":1468.6186971664429,"z":"c5a1df11.bcdf6","wires":[["f4ed93e9.d8179"]]},{"id":"f4ed93e9.d8179","type":"set","name":"set ss.param.nfc-naming-code, index","xml":"<set>\n<parameter name='ss.param.nfc-naming-code' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.nfc-naming-code-index' value='`$pidx`' />\n","comments":"","x":1729.7857856750488,"y":1468.618664741516,"z":"c5a1df11.bcdf6","wires":[]},{"id":"245b8001.a3dd6","type":"outcome","name":"vnfc-model-customization-uuid","xml":"<outcome value='vnfc-model-customization-uuid'>\n","comments":"","outputs":1,"x":1486.2858543395996,"y":1508.6186981201172,"z":"c5a1df11.bcdf6","wires":[["43ab1dd5.9e0374"]]},{"id":"43ab1dd5.9e0374","type":"set","name":"set ss.param.vnfc-model-customization-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-customization-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.vnfc-model-customization-uuid-index' value='`$pidx`' />\n","comments":"","x":1840.5357933044434,"y":1508.6186656951904,"z":"c5a1df11.bcdf6","wires":[]},{"id":"1ad04a05.608986","type":"outcome","name":"vnfc-model-invariant-uuid","xml":"<outcome value='vnfc-model-invariant-uuid'>\n","comments":"","outputs":1,"x":1471.285846710205,"y":1549.8686990737915,"z":"c5a1df11.bcdf6","wires":[["67ac6095.3d349"]]},{"id":"67ac6095.3d349","type":"set","name":"set ss.param.vnfc-model-invariant-uuid, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-invariant-uuid' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.vnfc-model-invariant-uuid-index' value='`$pidx`' />\n","comments":"","x":1789.5357856750488,"y":1549.8686666488647,"z":"c5a1df11.bcdf6","wires":[]},{"id":"325e60bd.d904","type":"outcome","name":"vnfc-model-version","xml":"<outcome value='vnfc-model-version'>\n","comments":"","outputs":1,"x":1453.785846710205,"y":1592.3687000274658,"z":"c5a1df11.bcdf6","wires":[["53a9b2f0.34f35c"]]},{"id":"53a9b2f0.34f35c","type":"set","name":"set ss.param.vnfc-model-version, index","xml":"<set>\n<parameter name='ss.param.vnfc-model-version' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.vnfc-model-version-index' value='`$pidx`' />\n","comments":"","x":1772.0357856750488,"y":1592.368667602539,"z":"c5a1df11.bcdf6","wires":[]},{"id":"dc7c3752.f236c8","type":"outcome","name":"vm-type","xml":"<outcome value='vm-type'>\n","comments":"","outputs":1,"x":1422.535846710205,"y":1634.8687000274658,"z":"c5a1df11.bcdf6","wires":[["da4944ab.6faa28"]]},{"id":"da4944ab.6faa28","type":"set","name":"set ss.param.vm-type, index","xml":"<set>\n<parameter name='ss.param.vm-type' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n<parameter name='ss.param.vm-type-index' value='`$pidx`' />\n","comments":"","x":1664.7858543395996,"y":1635.1186685562134,"z":"c5a1df11.bcdf6","wires":[]},{"id":"6b63ece1.01f564","type":"for","name":"for pidx in param_length","xml":"<for silentFailure='true' index=\"pidx\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">","comments":"","outputs":1,"x":960.563549041748,"y":1425.9005603790283,"z":"c5a1df11.bcdf6","wires":[["e714249e.620908"]]},{"id":"6a9c840e.71ad0c","type":"outcome","name":"vnfc-name","xml":"<outcome value='vnfc-name'>\n","comments":"","outputs":1,"x":1429.285987854004,"y":1679.7613897323608,"z":"c5a1df11.bcdf6","wires":[["77f5369e.b54a78"]]},{"id":"772d58d9.bfa278","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":720.3808670043945,"y":1425.7142057418823,"z":"c5a1df11.bcdf6","wires":[["6b63ece1.01f564","f7250d31.18475","c7cab06d.300ff","4b2c3442.0d70dc","53308e13.c73d9","b1d88b31.cd6c28"]]},{"id":"e4de9630.6cfdf8","type":"switchNode","name":"switch: param[].name == ss.param.vnfc-name-unresolved-value","xml":"<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$x].name == $ss.param.vnfc-name-unresolved-value`'>\n","comments":"","outputs":1,"x":2373.8095703125,"y":1863.857084274292,"z":"c5a1df11.bcdf6","wires":[["b987183c.4d8708"]]},{"id":"4b825eb3.66c09","type":"for","name":"for x in param_length","xml":"<for silentFailure='true' index=\"x\" start=\"0\" end=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`\">","comments":"","outputs":1,"x":2015.087272644043,"y":1864.1389465332031,"z":"c5a1df11.bcdf6","wires":[["e4de9630.6cfdf8"]]},{"id":"77f5369e.b54a78","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1621.8095016479492,"y":1679.7143697738647,"z":"c5a1df11.bcdf6","wires":[["73213585.8579fc","ba34447d.975e58","4e440a8e.caaf44","a71d9c7c.53704","fdcea11c.d13c2","5d43be49.ec94"]]},{"id":"73213585.8579fc","type":"execute","name":"replace ${ with \"\"","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$ss.param.vnfc-name-unresolved-value`\" />\n\t<parameter name=\"target\" value=\"${\"/>\n\t<parameter name=\"replacement\" value=\"\"/>\n\t<parameter name=\"outputPath\" value=\"ss.param.vnfc-name-unresolved-value\"/>\n","comments":"","outputs":1,"x":1839.5238571166992,"y":1724.7143049240112,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"ba34447d.975e58","type":"set","name":"set ss.param.vnfc-name-unresolved-value","xml":"<set>\n<parameter name='ss.param.vnfc-name-unresolved-value' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$pidx].value`' />\n","comments":"","x":1915.238166809082,"y":1679.4285221099854,"z":"c5a1df11.bcdf6","wires":[]},{"id":"4e440a8e.caaf44","type":"execute","name":"replace } with \"\"","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$ss.param.vnfc-name-unresolved-value`\" />\n\t<parameter name=\"target\" value=\"}\"/>\n\t<parameter name=\"replacement\" value=\"\"/>\n\t<parameter name=\"outputPath\" value=\"ss.param.vnfc-name-unresolved-value\"/>\n","comments":"","outputs":1,"x":1838.0953216552734,"y":1770.0001058578491,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"b987183c.4d8708","type":"outcomeFalse","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2685.2379837036133,"y":1863.9999923706055,"z":"c5a1df11.bcdf6","wires":[["593a5054.42dfe"]]},{"id":"a71d9c7c.53704","type":"record","name":"record ss.param.vnfc-name-unresolved-value","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"`'ss.param.vnfc-name-unresolved-value = ' + $ss.param.vnfc-name-unresolved-value`\"/>","comments":"","outputs":1,"x":1932.380958557129,"y":1818.5714979171753,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"fdcea11c.d13c2","type":"switchNode","name":"switch: ss.param.vnfc-name","xml":"<switch test='`$ss.param.vnfc-name`'>\n","comments":"","outputs":1,"x":1879.5236892700195,"y":1971.4284772872925,"z":"c5a1df11.bcdf6","wires":[["4d66af.3c90395"]]},{"id":"4d66af.3c90395","type":"outcomeFalse","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":2089.5237426757812,"y":1971.8570470809937,"z":"c5a1df11.bcdf6","wires":[["d5c360c7.652b6"]]},{"id":"3f723980.eed846","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='500' />\n<parameter name='error-message' value=\"`'Unable to resolve vnfc-name; ' + $error-message`\" />\n","comments":"","x":2458.440383911133,"y":2034.0713176727295,"z":"c5a1df11.bcdf6","wires":[]},{"id":"34a5c812.fd5a58","type":"set","name":"set ss.param.vnfc-name, index","xml":"<set>\n<parameter name='ss.param.vnfc-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$x].value`' />\n<parameter name='ss.param.vnfc-name-index' value='`$x`' />\n","comments":"","x":3092.952362060547,"y":1863.4760303497314,"z":"c5a1df11.bcdf6","wires":[]},{"id":"593a5054.42dfe","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2833.2738189697266,"y":1863.6075477600098,"z":"c5a1df11.bcdf6","wires":[["34a5c812.fd5a58","e2e18b0e.d74708"]]},{"id":"a86eaad7.3ed688","type":"execute","name":"generate vlan-tag url, replace action","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-mS-vlan-tag-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vlan-tag-url\"/>\n    <parameter name=\"target\" value=\"{action}\"/>\n    <parameter name=\"replacement\" value=\"`$ss.capability-action`\"/>\n","comments":"","outputs":1,"x":1072.1428756713867,"y":998.5714044570923,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"6a23991a.0d4c58","type":"execute","name":"generate vlan-tag url, replace action","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-mS-vlan-tag-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vlan-tag-url\"/>\n    <parameter name=\"target\" value=\"{action}\"/>\n    <parameter name=\"replacement\" value=\"`$ss.capability-action`\"/>\n","comments":"","outputs":1,"x":1070.2380905151367,"y":3260.2379293441772,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"5d43be49.ec94","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1814.523826599121,"y":1864.095332145691,"z":"c5a1df11.bcdf6","wires":[["4b825eb3.66c09","b42d5881.2b1ed8"]]},{"id":"b42d5881.2b1ed8","type":"returnSuccess","name":"CATCH BREAK","xml":"<return status='success'>\n","comments":"","x":1971.6667175292969,"y":1910.8095293045044,"z":"c5a1df11.bcdf6","wires":[]},{"id":"e2e18b0e.d74708","type":"returnFailure","name":"BREAK","xml":"<return status='failure'>","comments":"","x":3020.6666107177734,"y":1905.095191001892,"z":"c5a1df11.bcdf6","wires":[]},{"id":"4b2c3442.0d70dc","type":"set","name":"set vm_length, vnfc-names_length = 1","xml":"<set>\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm_length' value = '1' />\n<parameter name = 'service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names_length' value = '1' />\n","comments":"","x":1000.8095779418945,"y":1950.8095979690552,"z":"c5a1df11.bcdf6","wires":[]},{"id":"53308e13.c73d9","type":"set","name":"set vnfc-network-data_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data_length' \n\tvalue='`$ss.vt.param_length`' />\n","comments":"","x":970.238208770752,"y":2375.0953760147095,"z":"c5a1df11.bcdf6","wires":[]},{"id":"b1d88b31.cd6c28","type":"set","name":"set vlan-data_length","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-assignments.vms.vm[0].vm-names.vnfc-names[0].vnfc-networks.vnfc-network-data[$vtidx].connection-point.vlan-data_length' \n\tvalue='`$vtResp.output[$oidx].stored-elements_length`' />\n","comments":"","x":944.0951843261719,"y":2423.6667308807373,"z":"c5a1df11.bcdf6","wires":[]},{"id":"d5c360c7.652b6","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":2266.666702270508,"y":1972.2500305175781,"z":"c5a1df11.bcdf6","wires":[["3f723980.eed846","b7656843.f345a8"]]},{"id":"358d341e.d20a2c","type":"execute","name":"execute RestApiCallNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.ss.mS.vlan.tag.unassign.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.vt.mS.url + $tmp.ss-vlan-tag-url`' />\n    <parameter name='restapiUser' value='`$prop.vt.mS.user`' />\n    <parameter name='restapiPassword' value='`$prop.vt.mS.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"vtResp\" />\n\n","comments":"","outputs":1,"x":2699.8339614868164,"y":1591.564058303833,"z":"c5a1df11.bcdf6","wires":[["9cb28e84.afd0b","3e7513cc.71a9ec","39f0c9cb.7d6346"]]},{"id":"9cb28e84.afd0b","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2941.5699005126953,"y":1591.9910078048706,"z":"c5a1df11.bcdf6","wires":[["b0ad69bc.7aa678"]]},{"id":"3e7513cc.71a9ec","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2935.427074432373,"y":1543.348123550415,"z":"c5a1df11.bcdf6","wires":[["b0ad69bc.7aa678"]]},{"id":"39f0c9cb.7d6346","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":2938.320037841797,"y":1643.5623474121094,"z":"c5a1df11.bcdf6","wires":[["7b2bc102.0d47c"]]},{"id":"7b2bc102.0d47c","type":"switchNode","name":"switch: vtResp.error-code","xml":"<switch test='`$vtResp.error-code`'>\n","comments":"","outputs":1,"x":3143.0002059936523,"y":1643.05943775177,"z":"c5a1df11.bcdf6","wires":[["cbc24f0c.5e675","d9f9770e.b72c18"]]},{"id":"cbc24f0c.5e675","type":"outcomeTrue","name":"500","xml":"<outcome value='500'>\n","comments":"","outputs":1,"x":3355.250202178955,"y":1642.80943775177,"z":"c5a1df11.bcdf6","wires":[["eb229cf3.8888"]]},{"id":"d9f9770e.b72c18","type":"outcomeTrue","name":"200","xml":"<outcome value='200'>\n","comments":"","outputs":1,"x":3358.1788444519043,"y":1692.702341079712,"z":"c5a1df11.bcdf6","wires":[["732f338c.72a28c"]]},{"id":"83274cf5.9d455","type":"for","name":"for i in ss.vt.param_length","xml":"<for silentFailure='true' index=\"i\" start=\"0\" end=\"`$ss.vt.param_length`\">","comments":"","outputs":1,"x":3966.4409503936768,"y":1691.6311852931976,"z":"c5a1df11.bcdf6","wires":[["a7dedcdc.318b7","fb4ccfe4.96e73"]]},{"id":"9bf5c017.a8787","type":"for","name":"for oidx in output_length","xml":"<for silentFailure='true' index=\"oidx\" start=\"0\" end=\"`$vtResp.output_length`\">","comments":"","outputs":1,"x":3715.97647857666,"y":1691.845302581787,"z":"c5a1df11.bcdf6","wires":[["83274cf5.9d455"]]},{"id":"a7dedcdc.318b7","type":"set","name":"set vt-index","xml":"<set>\n<parameter name='vt-index' value='`$ss.vt.param[$i].index`' />\n","comments":"","x":4197.226480484009,"y":1691.8452994823456,"z":"c5a1df11.bcdf6","wires":[]},{"id":"fb4ccfe4.96e73","type":"set","name":"set resource-resolution-data.status = PENDING","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$vt-index].resource-resolution-data.status' \n\tvalue='PENDING' />\n","comments":"","x":4302.643089294434,"y":1746.5118217468262,"z":"c5a1df11.bcdf6","wires":[]},{"id":"10a2e287.6a5c1d","type":"execute","name":"generate vlan-tag url, replace action","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.ss-mS-vlan-tag-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ss-vlan-tag-url\"/>\n    <parameter name=\"target\" value=\"{action}\"/>\n    <parameter name=\"replacement\" value=\"unassign\"/>\n","comments":"","outputs":1,"x":2726.928882598877,"y":1458.7500133514404,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"b7656843.f345a8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2456.155227661133,"y":1396.5000190734863,"z":"c5a1df11.bcdf6","wires":[["10a2e287.6a5c1d","358d341e.d20a2c","5c38977d.268248"]]},{"id":"d386544e.9b0ca8","type":"comment","name":"ROLLBACK vlan-tags","info":"","comments":"","x":2402.9166946411133,"y":1352.5000190734863,"z":"c5a1df11.bcdf6","wires":[]},{"id":"5c38977d.268248","type":"record","name":"record ROLLBACK","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"ROLLBACK: self-serve-mS-vlan-tag-assign\"/>","comments":"","outputs":1,"x":2672.916702270508,"y":1396.7500185966492,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"2d993438.c09e0c","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":3221.6667137145996,"y":2470.7500343322754,"z":"c5a1df11.bcdf6","wires":[["b7656843.f345a8","8b5bee81.6266f"]]},{"id":"b0ad69bc.7aa678","type":"set","name":"set error-message","xml":"<set>\n<parameter name=\"error-message\" \n\tvalue=\"Failed to rollback vlan-tag from mS. vlan-tag MUST BE ROLLBACK MANUALLY!!!\" />\n","comments":"","x":3160.380832672119,"y":1543.4643268585205,"z":"c5a1df11.bcdf6","wires":[]},{"id":"eb229cf3.8888","type":"set","name":"set error-message","xml":"<set>\n<parameter name=\"error-message\" \n\tvalue=\"`'Received error from mS with error-code = ' + $vtResp.error-code + ' and error-message = ' + $vtResp.error-message + '; vlan-tag MUST BE ROLLBACK MANUALLY!!!'`\" />\n","comments":"","x":3537.8093795776367,"y":1642.1785907745361,"z":"c5a1df11.bcdf6","wires":[]},{"id":"732f338c.72a28c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3506.666633605957,"y":1692.3214302062988,"z":"c5a1df11.bcdf6","wires":[["9bf5c017.a8787","833b0ff7.9e5fe"]]},{"id":"833b0ff7.9e5fe","type":"set","name":"set error-message","xml":"<set>\n<parameter name=\"error-message\" \n\tvalue=\"vlan tags were rolled back from mS successfully.\" />\n","comments":"","x":3705.238166809082,"y":1774.464406967163,"z":"c5a1df11.bcdf6","wires":[]},{"id":"2b906d3f.26afd2","type":"set","name":"set Test Inputs","xml":"<!--\n<set>\n<parameter name='vnf-index' value='0' />\n<parameter name='vf-module-index' value='0' />\n<parameter name='ss.capability-name' value='mS-vlan-tag-assign' />\n<parameter name='ss.capability-action' value='assign' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-topology.sdnc-generated-cloud-resources' value = 'true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value = '11' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value = 'vmxvpfe_name_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value = 'bogus-vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value = 'vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value = '${vmxvpfe_name_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value = 'vm_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value = 'bogus-vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value = 'vm-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value = 'oam' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].name' value = 'nfc-function' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].value' value = 'data' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].name' value = 'nfc-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].value' value = 'dummy-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].name' value = 'vnfc-model-customization-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].value' value = 'bbbb-99999' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].name' value = 'vnfc-model-invariant-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].value' value = 'aaaaa-10000' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].name' value = 'vnfc-model-version' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].value' value = 'model1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].name' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].value' value = '${vlan-tag-1v}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[2].value' value = '' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[5].value' value = 'vlan-id-outer' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[6].value' value = 'network-role-1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.status' value = 'PENDING' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].name' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].value' value = '[3503, 4001, 4002]' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[0].value' value = 'JQIN1810SRIOV.Config_MS_SRIOV_VlanTag_1810_ADIOD_VPE.*' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[1].value' value = 'vlan-tag-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[2].value' value = '[3503, 4001, 4002]' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[3].value' value = 'MTCLL2238F' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[4].value' value = 'dvncom4003' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[5].value' value = 'vlan-id-filter' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[6].value' value = 'network-role-2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.status' value = 'PENDING' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />\n-->\n<set>\n<parameter name='vnf-index' value='0' />\n<parameter name='vf-module-index' value='0' />\n<parameter name='ss.capability-name' value='mS-vlan-tag-assign' />\n<parameter name='ss.capability-action' value='assign' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vnf-topology.sdnc-generated-cloud-resources' value='true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-topology.sdnc-generated-cloud-resources' value = 'true' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param_length' value = '11' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].name' value = 'vmxvpfe_name_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[0].value' value = 'bogus-vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].name' value = 'vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[1].value' value = '${vmxvpfe_name_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].name' value = 'vm_name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[2].value' value = 'bogus-vnfc-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].name' value = 'vm-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[3].value' value = 'oam' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].name' value = 'nfc-function' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[4].value' value = 'data' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].name' value = 'nfc-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[5].value' value = 'dummy-naming-code' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].name' value = 'vnfc-model-customization-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[6].value' value = 'bbbb-99999' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].name' value = 'vnfc-model-invariant-uuid' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[7].value' value = 'aaaaa-10000' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].name' value = 'vnfc-model-version' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[8].value' value = 'model1' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].name' value = 'att_vf_vlan_filter_vce_sriov2_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].value' value = '${att_vf_vlan_filter_vce_sriov2_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[0].value' value = 'SDNC_Policy.Config_MS_SRIOV_VlanTag_1810_VNAT.5.xml' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[1].value' value = 'att_vf_vlan_filter_vce_sriov2_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[2].value' value = '${att_vf_vlan_filter_vce_sriov2_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[3].value' value = '${aic-clli}-att_vf_vlan_filter_vce_sriov2_0-att_vf_vlan_filter_vce_sriov2_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[4].value' value = 'mtsnj046vn2001vce-att_vf_vlan_filter_vce_sriov2_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[5].value' value = 'vlan-id-filter' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key[6].value' value = 'VnatSriovProviderNetwork.SR_IOV_Provider2_2' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.status' value = 'PENDING' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[9].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />\n\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].name' value = 'att_vf_vlan_filter_vce_sriov1_0\"' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].value' value = '${att_vf_vlan_filter_vce_sriov1_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[0].name' value = 'policy-instance-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[0].value' value = 'SDNC_Policy.Config_MS_SRIOV_VlanTag_1810_VNAT.5.xml' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[1].name' value = 'resource-name' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[1].value' value = 'att_vf_vlan_filter_vce_sriov1_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[2].name' value = 'resource-value' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[2].value' value = '${att_vf_vlan_filter_vce_sriov1_0}' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[3].name' value = 'scope-id' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[3].value' value = '${aic-clli}-att_vf_vlan_filter_vce_sriov1_0-att_vf_vlan_filter_vce_sriov1_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[4].name' value = 'vlan-tag-key' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[4].value' value = 'mtsnj046vn2001vce-att_vf_vlan_filter_vce_sriov1_0' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[5].name' value = 'vlan-type' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[5].value' value = 'vlan-id-filter' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[6].name' value = 'vnfc-network-role' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key[6].value' value = 'VnatSriovProviderNetwork.SR_IOV_Provider2_1' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.resource-key_length' value = '7' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.status' value = 'PENDING' />\n<parameter name='service-data.vnfs.vnf[0].vnf-data.vf-modules.vf-module[0].vf-module-data.vf-module-topology.vf-module-parameters.param[10].resource-resolution-data.capability-name' value = 'mS-vlan-tag-assign' />","comments":"","x":1009.7619400024414,"y":46.84523963928223,"z":"c5a1df11.bcdf6","wires":[]},{"id":"da1b0e5e.d95f1","type":"execute","name":"execute PropertiesNode","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":1040.1429290771484,"y":86.60715103149414,"z":"c5a1df11.bcdf6","wires":[[]]},{"id":"4ec63b3c.59f254","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":840.2380981445312,"y":85.79762268066406,"z":"c5a1df11.bcdf6","wires":[["2b906d3f.26afd2","da1b0e5e.d95f1"]]},{"id":"98412ecc.da23c","type":"set","name":"set pathname for context logging","xml":"<set>\n<parameter name='pathname' \n\tvalue=\"`'/var/tmp/ss-mS-vlan-tag-' + $ss.capability-action + '-' + \n\t$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.vf-module-id + '.log'`\" />\n","comments":"","x":424.9999542236328,"y":3593.3330698013306,"z":"c5a1df11.bcdf6","wires":[]},{"id":"c502d79c.b06078","type":"record","name":"record","xml":"<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: mS-vlan-tag-assign\"/>\n\n","comments":"","outputs":1,"x":346.6666717529297,"y":3744.9997911453247,"z":"c5a1df11.bcdf6","wires":[[]]}]