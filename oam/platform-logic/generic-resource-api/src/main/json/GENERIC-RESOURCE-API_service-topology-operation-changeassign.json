[{"id":"1f9dbb81.bd6b84","type":"dgstart","name":"DGSTART","outputs":1,"x":102.85714721679688,"y":86.69937062263489,"z":"9aaf200d.92f26","wires":[["633701bf.7e227"]]},{"id":"633701bf.7e227","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":215.28570556640625,"y":126.93748116493225,"z":"9aaf200d.92f26","wires":[["eda99e12.c4db9"]]},{"id":"eda99e12.c4db9","type":"method","name":"method service-topology-operation-changeassign","xml":"<method rpc='service-topology-operation-changeassign' mode='sync'>\n","comments":"","outputs":1,"x":225.00005340576172,"y":166.69936871528625,"z":"9aaf200d.92f26","wires":[["c174c97e.d13f68"]]},{"id":"b3b27563.3aac08","type":"comment","name":"service-topology-operation-changeassign","info":"","comments":"","x":497.2020034790039,"y":34.28571438789368,"z":"9aaf200d.92f26","wires":[]},{"id":"90ec9992.f85358","type":"switchNode","name":"switch request-action","xml":"<switch test='`$service-topology-operation-input.request-information.request-action`'>\n","comments":"","outputs":1,"x":502.0952606201172,"y":268.4136621952057,"z":"9aaf200d.92f26","wires":[["6050b73d.61ab98","86976390.b2c"]]},{"id":"6050b73d.61ab98","type":"outcome","name":"CreateServiceInstance","xml":"<outcome value='CreateServiceInstance'>\n","comments":"","outputs":1,"x":739.2380752563477,"y":242.6993706226349,"z":"9aaf200d.92f26","wires":[["a56cc43.e39ad38"]]},{"id":"86976390.b2c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":689.2380981445312,"y":286.74700951576233,"z":"9aaf200d.92f26","wires":[["f64c64f0.f401b8"]]},{"id":"a56cc43.e39ad38","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":917.8095321655273,"y":242.6994059085846,"z":"9aaf200d.92f26","wires":[[]]},{"id":"f64c64f0.f401b8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"If svc-action is 'changeassign' then request-action must be 'CreateServiceInstance'\" />\n","comments":"","x":896.6190452575684,"y":286.7470209598541,"z":"9aaf200d.92f26","wires":[]},{"id":"7d55c8d3.17c188","type":"switchNode","name":"switch order-status","xml":"<switch test='`$service-data.service-level-oper-status.order-status`'>\n","comments":"","outputs":1,"x":491.5237731933594,"y":372.22328305244446,"z":"9aaf200d.92f26","wires":[["1522dee0.b2ff41","864651dc.ec881"]]},{"id":"1522dee0.b2ff41","type":"other","name":"PendingDelete","xml":"<outcome value='PendingDelete'>\n","comments":"","outputs":1,"x":711.8571548461914,"y":401.60411953926086,"z":"9aaf200d.92f26","wires":[["df498389.23c5"]]},{"id":"bdf58d56.1da1b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"The requested service must be pending deletion\" />\n","comments":"","x":879.6666412353516,"y":354.9374897480011,"z":"9aaf200d.92f26","wires":[]},{"id":"df498389.23c5","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":861.0952320098877,"y":401.4612829685211,"z":"9aaf200d.92f26","wires":[[]]},{"id":"c174c97e.d13f68","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":218.5714340209961,"y":498.1279442310333,"z":"9aaf200d.92f26","wires":[["90ec9992.f85358","43f598e8.2f76a8","64240d58.77b674","6aa8a1e3.471d2","564d8b67.29a674","d4393bc9.1da258","b59d8a67.f68d98"]]},{"id":"43f598e8.2f76a8","type":"switchNode","name":"switch service-data service-instance-id","xml":"<switch test='`$service-data.service-topology.service-topology-identifier.service-instance-id`'>\n","comments":"","outputs":1,"x":557.1428451538086,"y":468.1279442310333,"z":"9aaf200d.92f26","wires":[["317bcd9d.d17c42"]]},{"id":"317bcd9d.d17c42","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":786.9047508239746,"y":468.12796425819397,"z":"9aaf200d.92f26","wires":[["86266550.a49cb8"]]},{"id":"86266550.a49cb8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"404\" />\n    <parameter name=\"error-message\" value=\"`'Service ' + $service-topology-operation-input.service-information.service-instance-id + ' is not found'`\" />\n","comments":"","x":942.6189956665039,"y":468.1279594898224,"z":"9aaf200d.92f26","wires":[]},{"id":"864651dc.ec881","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":690.0000038146973,"y":355.2707989215851,"z":"9aaf200d.92f26","wires":[["bdf58d56.1da1b"]]},{"id":"64240d58.77b674","type":"get-resource","name":"get-resource SERVICE_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from SERVICE_MODEL WHERE service_uuid = $service-topology-operation-input.service-information.onap-model-information.model-uuid'\n  pfx='db.service-model'>\n\n","comments":"","outputs":1,"x":538.5714340209961,"y":535.2707970142365,"z":"9aaf200d.92f26","wires":[["259cb40b.e98c0c","9746c605.856688"]]},{"id":"8c3f516c.ce487","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No model found for service UUID ' + $service-topology-operation-input.service-information.onap-model-information.model-uuid`\" />\n","comments":"","x":952.8571014404297,"y":560.127846956253,"z":"9aaf200d.92f26","wires":[]},{"id":"259cb40b.e98c0c","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":779.3571357727051,"y":516.6516621112823,"z":"9aaf200d.92f26","wires":[["ac9e8e69.ada9e"]]},{"id":"9746c605.856688","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":787.9285659790039,"y":559.9373753070831,"z":"9aaf200d.92f26","wires":[["8c3f516c.ce487"]]},{"id":"ac9e8e69.ada9e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading SERVICE_MODEL table\" />\n","comments":"","x":952.2143020629883,"y":515.2231056690216,"z":"9aaf200d.92f26","wires":[]},{"id":"6aa8a1e3.471d2","type":"set","name":"set service-topology onap-model-information","xml":"<set>\n<parameter name='service-data.service-topology.onap-model-information.'\n  value='`$service-topology-operation-input.service-information.onap-model-information.`' />\n","comments":"","x":574.2857284545898,"y":602.4136803150177,"z":"9aaf200d.92f26","wires":[]},{"id":"564d8b67.29a674","type":"set","name":"set service-level-oper-status to Created","xml":"<set>\n<parameter name='service-data.service-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.service-level-oper-status.last-rpc-action' value='changeassign' />\n<parameter name='service-data.service-level-oper-status.last-action' value='CreateServiceInstance' />\n","comments":"","x":558.5714340209961,"y":646.699385881424,"z":"9aaf200d.92f26","wires":[]},{"id":"d4393bc9.1da258","type":"set","name":"set service-object-path","xml":"<set>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $service-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n","comments":"","x":508.5714340209961,"y":690.9850914478302,"z":"9aaf200d.92f26","wires":[]},{"id":"b59d8a67.f68d98","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n","comments":"","x":482.8571357727051,"y":733.8422300815582,"z":"9aaf200d.92f26","wires":[]},{"id":"8fc79b5e.b3f178","type":"comment","name":"check removed with US622450","info":"","comments":"","x":354.2857208251953,"y":334.28571701049805,"z":"9aaf200d.92f26","wires":[]}]