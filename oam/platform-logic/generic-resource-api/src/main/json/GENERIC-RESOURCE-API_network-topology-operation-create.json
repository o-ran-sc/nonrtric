[
  {
    "id": "334bd25e.3b958e",
    "type": "dgstart",
    "name": "DGSTART",
    "outputs": 1,
    "x": 88,
    "y": 62.999969482421875,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "46c76be0.4ae1ec"
      ]
    ]
  },
  {
    "id": "46c76be0.4ae1ec",
    "type": "service-logic",
    "name": "GENERIC-RESOURCE-API ${project.version}",
    "module": "GENERIC-RESOURCE-API",
    "version": "${project.version}",
    "comments": "",
    "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
    "outputs": 1,
    "x": 300.00000381469727,
    "y": 134.99998664855957,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "6216646e.335424"
      ]
    ]
  },
  {
    "id": "6216646e.335424",
    "type": "method",
    "name": "method network-topology-operation-create",
    "xml": "<method rpc='network-topology-operation-create' mode='sync'>\n",
    "comments": "",
    "outputs": 1,
    "x": 288.0001220703125,
    "y": 222.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "ea50b732.2ea01"
      ]
    ]
  },
  {
    "id": "ea50b732.2ea01",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 364,
    "y": 621,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "3f70abff.f62544",
        "1db363a4.5e5bdc",
        "675b0828.5f3f38",
        "a0cacee0.a7a5a8",
        "efc2210e.acb0a",
        "3e3972fa.77b7f6",
        "d43bb648.453b08",
        "4946b4b6.2645f4",
        "3c09007b.15e098",
        "6c6c2617.940e5",
        "68a6c57e.f14dec",
        "26e0b74.7b173c8",
        "d899adb0.900798",
        "8e08cbd2.d417e8",
        "5c73bbe5.1df864",
        "387886dd.77b922",
        "60cb5057.fb4318",
        "a2104e27.ed674",
        "c690b1cd.2300e8",
        "b676786f.1bea58",
        "d8859d72.093c7"
      ]
    ]
  },
  {
    "id": "4a98e8a7.30e56",
    "type": "execute",
    "name": "execute RestApiCallNode Create IPWAN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/l3smvpntemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/vpn-services'`\" />\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\" />\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"vpn-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1111.0001831054688,
    "y": 993.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a7b0af3.7ac715",
        "ced00609.d81b48"
      ]
    ]
  },
  {
    "id": "76f264c.7ba0a9c",
    "type": "set",
    "name": "set controller data",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].service-url`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.user' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].user-name`\" />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.password' value=\"`$tmp.aai.esr-thirdparty-sdnc.esr-system-info-list.esr-system-info[0].password`\" />\n",
    "comments": "",
    "x": 1265.0000610351562,
    "y": 267.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "675b0828.5f3f38",
    "type": "for",
    "name": "for each network-input-parameters",
    "xml": "<for index='idx' start='0' end='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' >\n",
    "comments": "",
    "outputs": 1,
    "x": 806.6666259765625,
    "y": 183.6666259765625,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "fdabde17.5c847"
      ]
    ]
  },
  {
    "id": "89285d57.29b5c8",
    "type": "execute",
    "name": "execute RestApiCallNode Create SPTN L3VPN",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/sptn-l3vpn-template.xml'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/restconf/data/sptn-service-l3vpn:service/snc-l3vpns'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"xml\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"restapi-result\"/>",
    "comments": "",
    "outputs": 1,
    "x": 1043.6668701171875,
    "y": 1255.6667175292969,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "1db363a4.5e5bdc",
    "type": "execute",
    "name": "execute vpn-policy1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vpn-policy1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 809.6666259765625,
    "y": 456.6666564941406,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "fd6478e7.b7b91"
      ]
    ]
  },
  {
    "id": "fd6478e7.b7b91",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1034.6666259765625,
    "y": 459.6666259765625,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "afc1b363.b7a39"
      ]
    ]
  },
  {
    "id": "afc1b363.b7a39",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1215.6666259765625,
    "y": 457.6666259765625,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "3f70abff.f62544",
    "type": "call",
    "name": "call GENERIC-RESOURCE-API:validate-network-input-parameters",
    "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-network-input-parameters' mode='sync' >\n",
    "comments": "",
    "outputs": 1,
    "x": 861.5,
    "y": 99.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "5c73bbe5.1df864",
    "type": "get-resource",
    "name": "get-resource esr-thirdparty-sdnc",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"esr-thirdparty-sdnc\" \n\t\tkey=\"esr-thirdparty-sdnc.thirdparty-sdnc-id = $tmp.thirdparty-sdnc-id AND \n\t\t     depth = '1'\"\n        pfx='tmp.aai.esr-thirdparty-sdnc' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 822.5,
    "y": 333.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "1b55c06c.3411f",
        "ae5faeba.f046c",
        "df5eda3d.a15fe"
      ]
    ]
  },
  {
    "id": "1b55c06c.3411f",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1067.5,
    "y": 279.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "76f264c.7ba0a9c"
      ]
    ]
  },
  {
    "id": "ae5faeba.f046c",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1070.990966796875,
    "y": 327.5740051269531,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "943fc2bc.e3e328"
      ]
    ]
  },
  {
    "id": "df5eda3d.a15fe",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1066.323974609375,
    "y": 368.9073181152344,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "92e8f917.b6ec08"
      ]
    ]
  },
  {
    "id": "943fc2bc.e3e328",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1247.5623779296875,
    "y": 315.8597412109375,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "92e8f917.b6ec08",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying esr-thirdparty-sdnc from AnAI with thirdparty-sdnc-id = ' + $tmp.thirdparty-sdnc-id`\" />\n\n",
    "comments": "",
    "x": 1254.0965309143066,
    "y": 364.346510887146,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "a016ef4c.00b8d8",
    "type": "switchNode",
    "name": "switch name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599.5,
    "y": 34,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "7823b220.68af5c"
      ]
    ]
  },
  {
    "id": "42d21e94.8794d",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'serviceType'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1603.4999389648438,
    "y": 91.5999755859375,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "fba273ef.824e7"
      ]
    ]
  },
  {
    "id": "7823b220.68af5c",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1786.5,
    "y": 30,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "73def40f.26af94"
      ]
    ]
  },
  {
    "id": "fba273ef.824e7",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1788.4999389648438,
    "y": 89.5999755859375,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "8f3c7f01.3f5cd8"
      ]
    ]
  },
  {
    "id": "73def40f.26af94",
    "type": "set",
    "name": "set name",
    "xml": "<set>\n<parameter name='prop.l3vpn.name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1954.5,
    "y": 30.600006103515625,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "8f3c7f01.3f5cd8",
    "type": "set",
    "name": "set service-type",
    "xml": "<set>\n<parameter name='prop.l3vpn.service-type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1957.4999389648438,
    "y": 87.5999755859375,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "141c3d3d.ab7053",
    "type": "switchNode",
    "name": "switch topology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'topology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602.5,
    "y": 152.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "646edb42.22d774"
      ]
    ]
  },
  {
    "id": "4ee7a07.d59c26",
    "type": "switchNode",
    "name": "switch technology",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'technology'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 205.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "1d562a47.bcc43e"
      ]
    ]
  },
  {
    "id": "5c63bd35.850224",
    "type": "switchNode",
    "name": "switch site1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1610.5,
    "y": 267.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "5c2dde3b.616048"
      ]
    ]
  },
  {
    "id": "58f3e289.2a7e64",
    "type": "switchNode",
    "name": "switch site2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'site2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 330.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "62672aa9.ed61fc"
      ]
    ]
  },
  {
    "id": "95375fe3.44bc28",
    "type": "switchNode",
    "name": "switch sna1_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna1_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1610.5,
    "y": 390.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "34588a45.0b76ce"
      ]
    ]
  },
  {
    "id": "fe0b88f6.f80e9",
    "type": "switchNode",
    "name": "switch sna2_name",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'sna2_name'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 454.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a6fb987c.7f515"
      ]
    ]
  },
  {
    "id": "7a18b8ce.d5dc",
    "type": "switchNode",
    "name": "switch pe1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1610.5,
    "y": 516.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "92e2ca99.658f38"
      ]
    ]
  },
  {
    "id": "13b6f73a.13b789",
    "type": "switchNode",
    "name": "switch pe2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'pe2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1625.5,
    "y": 576.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b1abbb19.2fcad"
      ]
    ]
  },
  {
    "id": "fd7f4144.b3829",
    "type": "switchNode",
    "name": "switch ac1_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1620.5,
    "y": 648.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b2c23108.34249"
      ]
    ]
  },
  {
    "id": "45ea1a7b.99de84",
    "type": "switchNode",
    "name": "switch ac2_id",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_id'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1619.5,
    "y": 707.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "cefcde62.39a058"
      ]
    ]
  },
  {
    "id": "2d742a69.fb645e",
    "type": "switchNode",
    "name": "switch ac1_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1596.5,
    "y": 770.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "97b77413.58ee48"
      ]
    ]
  },
  {
    "id": "a750a836.67c46",
    "type": "switchNode",
    "name": "switch ac2_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599.5,
    "y": 827.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "d85c061f.502f68"
      ]
    ]
  },
  {
    "id": "32c3f1e3.30689e",
    "type": "switchNode",
    "name": "switch ac1_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 879.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "2968f925.7ca646"
      ]
    ]
  },
  {
    "id": "e951ad31.5ca928",
    "type": "switchNode",
    "name": "switch ac2_peer_ip",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_peer_ip'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1606.5,
    "y": 934.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "601aa678.9a67f8"
      ]
    ]
  },
  {
    "id": "e3393629.af0d3",
    "type": "switchNode",
    "name": "switch ac1_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1618.5,
    "y": 983.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a2f05df5.918ee"
      ]
    ]
  },
  {
    "id": "62f6947f.61850c",
    "type": "switchNode",
    "name": "switch ac2_svlan",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_svlan'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1611.5,
    "y": 1034.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "81528be0.14be3"
      ]
    ]
  },
  {
    "id": "746e4da0.8ed054",
    "type": "switchNode",
    "name": "switch ac1_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1604.5,
    "y": 1092.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "e4005648.dfa27"
      ]
    ]
  },
  {
    "id": "ce1e821a.8edd98",
    "type": "switchNode",
    "name": "switch ac2_protocol",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 1152.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "302c5dc1.424eaa"
      ]
    ]
  },
  {
    "id": "ac3cc96e.e8c948",
    "type": "switchNode",
    "name": "switch ac1_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1599.5,
    "y": 1338.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b346bc87.20f83"
      ]
    ]
  },
  {
    "id": "baf40051.ee5bc",
    "type": "switchNode",
    "name": "switch ac2_protocol_bgp_as",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_protocol_bgp_as'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1605.5,
    "y": 1389.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a31fc214.1ca9f"
      ]
    ]
  },
  {
    "id": "c4c0db18.879888",
    "type": "switchNode",
    "name": "switch af_type",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'af_type'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1572.5,
    "y": 1480.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "abf52cdc.20fb88"
      ]
    ]
  },
  {
    "id": "646edb42.22d774",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1777.5,
    "y": 148.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "107b061b.7f16b2"
      ]
    ]
  },
  {
    "id": "1d562a47.bcc43e",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.5,
    "y": 201.99996948242188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "fb1300d0.70aa88"
      ]
    ]
  },
  {
    "id": "5c2dde3b.616048",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1792.5,
    "y": 263.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "e77b09fa.d7d64"
      ]
    ]
  },
  {
    "id": "62672aa9.ed61fc",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1790.5,
    "y": 326.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "93f053bd.02a548"
      ]
    ]
  },
  {
    "id": "34588a45.0b76ce",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1795.5,
    "y": 388.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a884a526.618c28"
      ]
    ]
  },
  {
    "id": "a6fb987c.7f515",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1787.5,
    "y": 446.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "f7ce6bb9.9a7a9"
      ]
    ]
  },
  {
    "id": "92e2ca99.658f38",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1788.5,
    "y": 509.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "6aec4eb8.f320e"
      ]
    ]
  },
  {
    "id": "b1abbb19.2fcad",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1787.5,
    "y": 578.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "51e03a88.5af60c"
      ]
    ]
  },
  {
    "id": "b2c23108.34249",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1784.5,
    "y": 646.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "517deb3b.1a11bc"
      ]
    ]
  },
  {
    "id": "cefcde62.39a058",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1783.5,
    "y": 710.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "c4018004.404be"
      ]
    ]
  },
  {
    "id": "97b77413.58ee48",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1756.5,
    "y": 768.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "d3532521.bb7d38"
      ]
    ]
  },
  {
    "id": "d85c061f.502f68",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1758.5,
    "y": 825.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "e79e82f8.255518"
      ]
    ]
  },
  {
    "id": "2968f925.7ca646",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1794.5,
    "y": 876.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "c560a215.f29018"
      ]
    ]
  },
  {
    "id": "601aa678.9a67f8",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1799.5,
    "y": 939.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "73c88606.5381e"
      ]
    ]
  },
  {
    "id": "a2f05df5.918ee",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1795.5,
    "y": 988.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b6e32aaf.1d4358"
      ]
    ]
  },
  {
    "id": "81528be0.14be3",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1779.5,
    "y": 1037.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "3da3bd09.271e42"
      ]
    ]
  },
  {
    "id": "e4005648.dfa27",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1776.5,
    "y": 1090.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "3008b334.6e0ccc"
      ]
    ]
  },
  {
    "id": "302c5dc1.424eaa",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1789.5,
    "y": 1149.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "8e9dab50.3a0e28"
      ]
    ]
  },
  {
    "id": "b346bc87.20f83",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1807.5,
    "y": 1335.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b8ec5e66.c0da4"
      ]
    ]
  },
  {
    "id": "a31fc214.1ca9f",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1814.5,
    "y": 1385.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "d3572336.1890c"
      ]
    ]
  },
  {
    "id": "abf52cdc.20fb88",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1776.5,
    "y": 1489.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "11091e74.b17202"
      ]
    ]
  },
  {
    "id": "107b061b.7f16b2",
    "type": "set",
    "name": "set topology",
    "xml": "<set>\n<parameter name='prop.l3vpn.topology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1972.5,
    "y": 149.99996948242188,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "fb1300d0.70aa88",
    "type": "set",
    "name": "set technology",
    "xml": "<set>\n<parameter name='prop.l3vpn.technology' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1962.5,
    "y": 203.99996948242188,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "e77b09fa.d7d64",
    "type": "set",
    "name": "set site1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1966.5,
    "y": 260.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "93f053bd.02a548",
    "type": "set",
    "name": "set site2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.site2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1969.5,
    "y": 319.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "a884a526.618c28",
    "type": "set",
    "name": "set sna1_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1977.5,
    "y": 381.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "f7ce6bb9.9a7a9",
    "type": "set",
    "name": "set sna2_name",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2_name' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1969.5,
    "y": 441.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "6aec4eb8.f320e",
    "type": "set",
    "name": "set pe1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1966.5,
    "y": 501.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "51e03a88.5af60c",
    "type": "set",
    "name": "set pe2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.pe2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1962.5,
    "y": 572.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "517deb3b.1a11bc",
    "type": "set",
    "name": "set ac1_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1955.5,
    "y": 638.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "c4018004.404be",
    "type": "set",
    "name": "set ac2_id",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_id' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1958.5,
    "y": 705.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "d3532521.bb7d38",
    "type": "set",
    "name": "set ac1_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1934.5,
    "y": 771.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "e79e82f8.255518",
    "type": "set",
    "name": "set ac2_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1938.5,
    "y": 825.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "c560a215.f29018",
    "type": "set",
    "name": "set ac1_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1986.5,
    "y": 880.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "73c88606.5381e",
    "type": "set",
    "name": "set ac2_peer_ip",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_peer_ip' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1982.5,
    "y": 935.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "b6e32aaf.1d4358",
    "type": "set",
    "name": "set ac1_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1976.5,
    "y": 990.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "3da3bd09.271e42",
    "type": "set",
    "name": "set ac2_svlan",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_svlan' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1973.5,
    "y": 1043.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "3008b334.6e0ccc",
    "type": "set",
    "name": "set ac1_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1971.5,
    "y": 1100.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "8e9dab50.3a0e28",
    "type": "set",
    "name": "set ac2_protocol",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1980.5,
    "y": 1152.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "b8ec5e66.c0da4",
    "type": "set",
    "name": "set ac1_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer1-ip' value='`$prop.l3vpn.ac1_ip`' />\n",
    "comments": "",
    "x": 2074.5,
    "y": 1356.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "d3572336.1890c",
    "type": "set",
    "name": "set ac2_protocol_bgp_as",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_protocol_bgp_as' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n<parameter name='prop.l3vpn.peer2-ip' value='`$prop.l3vpn.ac2_ip`' />\n",
    "comments": "",
    "x": 2086.5,
    "y": 1405.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "11091e74.b17202",
    "type": "set",
    "name": "set af_type",
    "xml": "<set>\n<parameter name='prop.l3vpn.af_type' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 1970.5,
    "y": 1499.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "a0cacee0.a7a5a8",
    "type": "record",
    "name": "record",
    "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n<parameter name=\"file\" value=\"/opt/opendaylight/current/data/log/svclogic.log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"network-topology-operation-create\"/>\n<parameter name=\"field3\" value=\"L3VPN-Config\"/>\n<parameter name=\"field4\" value=\"`l3vpn.name`\"/>\n<parameter name=\"field5\" value=\"`$prop.l3vpn.name`\"/>\n<parameter name=\"field6\" value=\"`l3vpn.topology`\"/>\n<parameter name=\"field7\" value=\"`$prop.l3vpn.topology`\"/>\n<parameter name=\"field8\" value=\"`l3vpn.site1_name`\"/>\n<parameter name=\"field9\" value=\"`$prop.l3vpn.site1_name`\"/>\n<parameter name=\"field10\" value=\"`l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field11\" value=\"`$prop.l3vpn.vpn-policy1-id`\"/>\n<parameter name=\"field12\" value=\"`l3vpn.entry1-id`\"/>\n<parameter name=\"field13\" value=\"`$prop.l3vpn.entry1-id`\"/>\n<parameter name=\"field14\" value=\"`l3vpn.sna1_name`\"/>\n<parameter name=\"field15\" value=\"`$prop.l3vpn.sna1_name`\"/>\n<parameter name=\"field16\" value=\"`l3vpn.pe1_id`\"/>\n<parameter name=\"field17\" value=\"`$prop.l3vpn.pe1_id`\"/>\n<parameter name=\"field18\" value=\"`l3vpn.ac1_id`\"/>\n<parameter name=\"field19\" value=\"`$prop.l3vpn.ac1_id`\"/>\n<parameter name=\"field20\" value=\"`l3vpn.ac1_svlan`\"/>\n<parameter name=\"field21\" value=\"`$prop.l3vpn.ac1_svlan`\"/>\n<parameter name=\"field22\" value=\"`l3vpn.ac1_peer_ip`\"/>\n<parameter name=\"field23\" value=\"`$prop.l3vpn.ac1_peer_ip`\"/>\n<parameter name=\"field24\" value=\"`l3vpn.ac1_ip`\"/>\n<parameter name=\"field25\" value=\"`$prop.l3vpn.ac1_ip`\"/>\n<parameter name=\"field26\" value=\"`l3vpn.ac1_protocol`\"/>\n<parameter name=\"field27\" value=\"`$prop.l3vpn.ac1_protocol`\"/>\n<parameter name=\"field28\" value=\"`l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field29\" value=\"`$prop.l3vpn.sna1-route-ip-prefix`\"/>\n<parameter name=\"field30\" value=\"`l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field31\" value=\"`$prop.l3vpn.sna1-route-next-hop`\"/>\n<parameter name=\"field32\" value=\"`l3vpn.peer1_ip`\"/>\n<parameter name=\"field33\" value=\"`$prop.l3vpn.peer1_ip`\"/>\n<parameter name=\"field34\" value=\"`l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field35\" value=\"`$prop.l3vpn.ac1_protocol_bgp_as`\"/>\n<parameter name=\"field36\" value=\"`l3vpn.vrf1-id`\"/>\n<parameter name=\"field37\" value=\"`$prop.l3vpn.vrf1-id`\"/>\n<parameter name=\"field38\" value=\"`l3vpn.site2_name`\"/>\n<parameter name=\"field39\" value=\"`$prop.l3vpn.site2_name`\"/>\n<parameter name=\"field40\" value=\"`l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field41\" value=\"`$prop.l3vpn.vpn-policy2-id`\"/>\n<parameter name=\"field42\" value=\"`l3vpn.entry2-id`\"/>\n<parameter name=\"field43\" value=\"`$prop.l3vpn.entry2-id`\"/>\n<parameter name=\"field44\" value=\"`l3vpn.sna2_name`\"/>\n<parameter name=\"field45\" value=\"`$prop.l3vpn.sna2_name`\"/>\n<parameter name=\"field46\" value=\"`l3vpn.pe2_id`\"/>\n<parameter name=\"field47\" value=\"`$prop.l3vpn.pe2_id`\"/>\n<parameter name=\"field48\" value=\"`l3vpn.ac2_id`\"/>\n<parameter name=\"field49\" value=\"`$prop.l3vpn.ac2_id`\"/>\n<parameter name=\"field50\" value=\"`l3vpn.ac2_svlan`\"/>\n<parameter name=\"field51\" value=\"`$prop.l3vpn.ac2_svlan`\"/>\n<parameter name=\"field52\" value=\"`l3vpn.ac2_peer_ip`\"/>\n<parameter name=\"field53\" value=\"`$prop.l3vpn.ac2_peer_ip`\"/>\n<parameter name=\"field54\" value=\"`l3vpn.ac2_ip`\"/>\n<parameter name=\"field55\" value=\"`$prop.l3vpn.ac2_ip`\"/>\n<parameter name=\"field56\" value=\"`l3vpn.ac2_protocol`\"/>\n<parameter name=\"field57\" value=\"`$prop.l3vpn.ac2_protocol`\"/>\n<parameter name=\"field58\" value=\"`l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field59\" value=\"`$prop.l3vpn.sna2-route-ip-prefix`\"/>\n<parameter name=\"field60\" value=\"`l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field61\" value=\"`$prop.l3vpn.sna2-route-next-hop`\"/>\n<parameter name=\"field62\" value=\"`l3vpn.peer2_ip`\"/>\n<parameter name=\"field63\" value=\"`$prop.l3vpn.peer2_ip`\"/>\n<parameter name=\"field64\" value=\"`l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field65\" value=\"`$prop.l3vpn.ac2_protocol_bgp_as`\"/>\n<parameter name=\"field66\" value=\"`l3vpn.vrf2-id`\"/>\n<parameter name=\"field67\" value=\"`$prop.l3vpn.vrf2-id`\"/>\n<parameter name=\"field68\" value=\"`l3vpn.af_type`\"/>\n<parameter name=\"field69\" value=\"`$prop.l3vpn.af_type`\"/>",
    "comments": "",
    "outputs": 1,
    "x": 716,
    "y": 923,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "d8859d72.093c7",
    "type": "switchNode",
    "name": "switch service-type",
    "xml": "<switch test=\"`$prop.l3vpn.service-type`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 601,
    "y": 1136.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "aa6051d7.d8472",
        "6a9ebade.f8d4c4",
        "a797d228.5ea9d"
      ]
    ]
  },
  {
    "id": "aa6051d7.d8472",
    "type": "outcomeTrue",
    "name": "l3vpn-ipwan",
    "xml": "<outcome value='l3vpn-ipwan'>\n",
    "comments": "",
    "outputs": 1,
    "x": 695,
    "y": 1063.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "19938969.979a37"
      ]
    ]
  },
  {
    "id": "6a9ebade.f8d4c4",
    "type": "outcomeTrue",
    "name": "l3vpn-sptn",
    "xml": "<outcome value='l3vpn-sptn'>\n",
    "comments": "",
    "outputs": 1,
    "x": 776,
    "y": 1251.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "89285d57.29b5c8"
      ]
    ]
  },
  {
    "id": "a797d228.5ea9d",
    "type": "outcomeTrue",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 769,
    "y": 1297.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a197c78b.b2ba1"
      ]
    ]
  },
  {
    "id": "a197c78b.b2ba1",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Unexpected error retrieving vpn binding\" />\n\n",
    "comments": "",
    "x": 932,
    "y": 1301.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "efc2210e.acb0a",
    "type": "execute",
    "name": "execute vpn-policy1 entry id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.entry1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 810,
    "y": 514.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a3ce796c.5c1d3"
      ]
    ]
  },
  {
    "id": "a3ce796c.5c1d3",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1035,
    "y": 517.9999389648438,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "2b0059a7.529b16"
      ]
    ]
  },
  {
    "id": "2b0059a7.529b16",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1216,
    "y": 515.9999389648438,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "1c90c17d.548b0f",
    "type": "execute",
    "name": "execute split ac1-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac1_route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route1\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2200,
    "y": 1212.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "49c2f0ca.cf2d3",
        "f5ea72ca.f5ae4"
      ]
    ]
  },
  {
    "id": "3fb5f0ac.682b3",
    "type": "switchNode",
    "name": "switch ac2_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac2_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1601,
    "y": 1260.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "3283940e.8ab4c4"
      ]
    ]
  },
  {
    "id": "e8fa40d3.8412",
    "type": "switchNode",
    "name": "switch ac1_route",
    "xml": "<switch test=\"`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].name == 'ac1_route'`\">\n",
    "comments": "",
    "outputs": 1,
    "x": 1602,
    "y": 1211.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "841f9419.015d28"
      ]
    ]
  },
  {
    "id": "841f9419.015d28",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1774,
    "y": 1209.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "20b6ae7f.722c42"
      ]
    ]
  },
  {
    "id": "3283940e.8ab4c4",
    "type": "outcomeTrue",
    "name": "true",
    "xml": "<outcome value='true'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1787,
    "y": 1268.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "1ced6183.ccd51e"
      ]
    ]
  },
  {
    "id": "ac124744.03bff8",
    "type": "set",
    "name": "set ac1_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac1_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2171,
    "y": 1160.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "81cb8cda.6d1ac8",
    "type": "set",
    "name": "set ac2_route",
    "xml": "<set>\n<parameter name='prop.l3vpn.ac2_route' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param[$idx].value`' />\n",
    "comments": "",
    "x": 2169,
    "y": 1260.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "31d73427.5a24d4",
    "type": "execute",
    "name": "execute split ac2-route",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n<parameter name=\"original_string\" value='`$prop.l3vpn.ac2_route`'/>\n<parameter name=\"regex\" value=\" ## \"/>\n<parameter name=\"ctx_memory_result_key\" value=\"route2\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 2193,
    "y": 1305.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "79ee27c0.1560d",
        "1e716ed9.5862f1"
      ]
    ]
  },
  {
    "id": "20b6ae7f.722c42",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1925,
    "y": 1209.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "ac124744.03bff8",
        "1c90c17d.548b0f"
      ]
    ]
  },
  {
    "id": "1ced6183.ccd51e",
    "type": "block",
    "name": "block atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1926,
    "y": 1268.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "81cb8cda.6d1ac8",
        "31d73427.5a24d4"
      ]
    ]
  },
  {
    "id": "3e3972fa.77b7f6",
    "type": "execute",
    "name": "execute vrf1-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf1-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 795,
    "y": 616,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "634f24b4.8e0cd4"
      ]
    ]
  },
  {
    "id": "d43bb648.453b08",
    "type": "execute",
    "name": "execute vrf2-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.vrf2-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 792.3333740234375,
    "y": 673.333251953125,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "134b1747.a1ed89"
      ]
    ]
  },
  {
    "id": "134b1747.a1ed89",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1042.3333740234375,
    "y": 679.333251953125,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "e6e1ba3d.211b3"
      ]
    ]
  },
  {
    "id": "634f24b4.8e0cd4",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1042,
    "y": 620.9999389648438,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "f08db05b.65ee68"
      ]
    ]
  },
  {
    "id": "f08db05b.65ee68",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1223,
    "y": 618.9999389648438,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "e6e1ba3d.211b3",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while generation vpn policy ID\" />\n",
    "comments": "",
    "x": 1223.3333740234375,
    "y": 677.333251953125,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "19938969.979a37",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 828,
    "y": 1128.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "4a98e8a7.30e56",
        "45ed0ae2.aa3684",
        "d76dde.a5a8222",
        "873707de.4b4938"
      ]
    ]
  },
  {
    "id": "45ed0ae2.aa3684",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN Site Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smsitetemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/sites'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"site-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1096,
    "y": 1212.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a7b0af3.7ac715",
        "5b1c0e49.45a8a8"
      ]
    ]
  },
  {
    "id": "d76dde.a5a8222",
    "type": "execute",
    "name": "execute RestApiCallNode IPWAN VRF Config",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir +'/l3smvrftemplate.json'`\"/>\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url +'/restconf/data/huawei-ac-net-l3vpn-svc:l3vpn-svc-cfg/huawei-ac-net-l3vpn-svc-vfi:vrf-attributes'`\"/>\n<parameter name=\"restapiUser\" value=\"`$prop.sdncRestApi.thirdpartySdnc.user`\"/>\n<parameter name=\"restapiPassword\" value=\"`$prop.sdncRestApi.thirdpartySdnc.password`\"/>\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"put\"/>\n<parameter name=\"responsePrefix\" value=\"vrf-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n<parameter name='customHttpHeaders' value=\"`'X-ACCESS-TOKEN=' + $prop.sdncRestApi.token_id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 1110,
    "y": 1115.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a7b0af3.7ac715",
        "a1139f25.6746c"
      ]
    ]
  },
  {
    "id": "49c2f0ca.cf2d3",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2418,
    "y": 1204.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "3810cf64.b01548"
      ]
    ]
  },
  {
    "id": "3810cf64.b01548",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2599,
    "y": 1202.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "79ee27c0.1560d",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2416,
    "y": 1306.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "92d0c467.dd3bc8"
      ]
    ]
  },
  {
    "id": "92d0c467.dd3bc8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value=\"An error occured while splitting sna1_route\" />\n",
    "comments": "",
    "x": 2597,
    "y": 1304.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "f5ea72ca.f5ae4",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2417,
    "y": 1138.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "842cbe45.ff51d8"
      ]
    ]
  },
  {
    "id": "1e716ed9.5862f1",
    "type": "failure",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 2413,
    "y": 1258.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "f22dbcb6.0cf78"
      ]
    ]
  },
  {
    "id": "842cbe45.ff51d8",
    "type": "set",
    "name": "set route1 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna1-route.ip-prefix' value='`$route1[0]`' />\n<parameter name='prop.l3vpn.sna1-route.next-hop' value='`$route1[1]`' />\n",
    "comments": "",
    "x": 2624,
    "y": 1132.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "f22dbcb6.0cf78",
    "type": "set",
    "name": "set route2 ip-prefix next-hop",
    "xml": "<set>\n<parameter name='prop.l3vpn.sna2-route.ip-prefix' value='`$route2[0]`' />\n<parameter name='prop.l3vpn.sna2-route.next-hop' value='`$route2[1]`' />",
    "comments": "",
    "x": 2624,
    "y": 1251.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "4946b4b6.2645f4",
    "type": "execute",
    "name": "execute generate-underlay-network-id",
    "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='generateUUID' >\n<parameter name=\"ctx-destination\" value=\"prop.l3vpn.network-id\"/>\n",
    "comments": "",
    "outputs": 1,
    "x": 851,
    "y": 767,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "3c09007b.15e098",
    "type": "switchNode",
    "name": "switch service-data.networks_length",
    "xml": "<switch test='`$service-data.networks.network_length`'>\n",
    "comments": "",
    "outputs": 1,
    "x": 809,
    "y": 848,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "e6d49c8.04a73e",
        "928abf9d.17e3a8"
      ]
    ]
  },
  {
    "id": "e6d49c8.04a73e",
    "type": "other",
    "name": "Null",
    "xml": "<outcome value=''>\n",
    "comments": "",
    "outputs": 1,
    "x": 1082.8095703125,
    "y": 816.952392578125,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a786c98a.f21ac"
      ]
    ]
  },
  {
    "id": "928abf9d.17e3a8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1077.666748046875,
    "y": 862.6666870117188,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "58a5992a.3c5588"
      ]
    ]
  },
  {
    "id": "a786c98a.f21ac",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='0' />\n",
    "comments": "",
    "x": 1235.8095703125,
    "y": 816.5238037109375,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "58a5992a.3c5588",
    "type": "set",
    "name": "set nidx",
    "xml": "<set>\n<parameter name='nidx' value='`$service-data.networks.network_length`' />\n",
    "comments": "",
    "x": 1237.2381591796875,
    "y": 861.5238647460938,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "6c6c2617.940e5",
    "type": "set",
    "name": "set network in service-data",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.sdnc-request-header.' value='`$network-topology-operation-input.sdnc-request-header.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.request-information.' value='`$network-topology-operation-input.request-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.service-information.' value='`$network-topology-operation-input.service-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-information.' value='`$network-topology-operation-input.network-information.`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.' value='`$network-topology-operation-input.network-request-input.`' />\n<parameter name='service-data.networks.network_length' value='`$nidx+1`' />\n\n",
    "comments": "",
    "x": 723,
    "y": 1336,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "68a6c57e.f14dec",
    "type": "set",
    "name": "set networkId and network-object-path",
    "xml": "<set>\n<parameter name='networkId' value='`$prop.l3vpn.network-id`' />\n<parameter name=\"network-object-path\" value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />",
    "comments": "",
    "x": 754,
    "y": 1482,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "26e0b74.7b173c8",
    "type": "returnSuccess",
    "name": "return success",
    "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
    "comments": "",
    "x": 678,
    "y": 1696,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "d899adb0.900798",
    "type": "set",
    "name": "set network-level-oper-status",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.order-status' value='Created' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-rpc-action' value='`$network-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-level-oper-status.last-action' value='`$network-topology-operation-input.request-information.request-action`' />",
    "comments": "",
    "x": 722,
    "y": 1531,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "8e08cbd2.d417e8",
    "type": "get-resource",
    "name": "get-resource pnf",
    "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"pnf\" \n\t\tkey=\"pnf.pnf-name = $prop.l3vpn.pe1_id AND \n\t\t     depth = '0'\"\n        pfx='tmp.aai.pnf' local-only='false' >\n\n",
    "comments": "",
    "outputs": 1,
    "x": 800,
    "y": 254,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "df2735fd.61f1e8",
        "63fc7927.79a528",
        "81648fb3.dcd7d8"
      ]
    ]
  },
  {
    "id": "df2735fd.61f1e8",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1122,
    "y": 144,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "9d008f77.afdad"
      ]
    ]
  },
  {
    "id": "63fc7927.79a528",
    "type": "not-found",
    "name": "not-found",
    "xml": "<outcome value='not-found'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1125.490966796875,
    "y": 191.57403564453125,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "91ed21e1.d136e"
      ]
    ]
  },
  {
    "id": "81648fb3.dcd7d8",
    "type": "other",
    "name": "other",
    "xml": "<outcome value='Other'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1120.823974609375,
    "y": 232.9073486328125,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "5af66dea.2e7014"
      ]
    ]
  },
  {
    "id": "91ed21e1.d136e",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'An error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1302.0623779296875,
    "y": 179.85977172851562,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "5af66dea.2e7014",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unexpected error occurred while querying pnf from AnAI with pnf-name = ' + $prop.l3vpn.pe1_id`\" />\n\n",
    "comments": "",
    "x": 1308.5965309143066,
    "y": 228.34654140472412,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "9d008f77.afdad",
    "type": "set",
    "name": "set tmp.thirdparty-sdnc-id",
    "xml": "<set>\n<parameter name='tmp.thirdparty-sdnc-id' value=\"`$tmp.aai.pnf.relationship-list.relationship[0].relationship-data[0].relationship-value`\" />\n",
    "comments": "",
    "x": 1326,
    "y": 131,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "387886dd.77b922",
    "type": "save",
    "name": "save underlay configuration in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='configuration' \n      key='configuration.configuration-id = $prop.l3vpn.network-id' >\n<parameter name='configuration-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-type' value='underlay' />\n<parameter name='configuration-sub-type' value='l3vpn' />\n<parameter name='orchestration-status' value='Created' />\n<parameter name='operational-status' value='Created' />\n<parameter name='model-customization-id' value='`$prop.l3vpn.network-id`' />\n<parameter name='configuration-selflink' value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'  + $network-topology-operation-input.service-information.service-instance-id  + '/service-data/networks/network/'  + $prop.l3vpn.network-id  + '/network-data/'` \" />\n",
    "comments": "",
    "outputs": 1,
    "x": 733,
    "y": 1590,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "60cb5057.fb4318",
    "type": "save",
    "name": "save service relationship in AAI",
    "xml": "<save plugin='org.onap.ccsdk.sli.adaptors.aai.AAIService' resource='service-instance:relationship-list' \n      key='service-instance.service-instance-id = $service-data.service-information.service-instance-id \n         AND customer.global-customer-id = $service-data.networks.network[$nidx].network-data.service-information.global-customer-id \n         AND service-subscription.service-type = $service-data.networks.network[$nidx].network-data.service-information.subscription-service-type' \n      force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"configuration\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/configurations/configuration/' + $prop.l3vpn.network-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"configuration.configuration-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.l3vpn.network-id`\" />",
    "comments": "",
    "outputs": 1,
    "x": 726,
    "y": 1646,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "fdabde17.5c847",
    "type": "block",
    "name": "block",
    "xml": "<block>\n",
    "atomic": "false",
    "comments": "",
    "outputs": 1,
    "x": 1248.5,
    "y": 405.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "a016ef4c.00b8d8",
        "42d21e94.8794d",
        "141c3d3d.ab7053",
        "4ee7a07.d59c26",
        "5c63bd35.850224",
        "58f3e289.2a7e64",
        "95375fe3.44bc28",
        "fe0b88f6.f80e9",
        "7a18b8ce.d5dc",
        "13b6f73a.13b789",
        "fd7f4144.b3829",
        "45ea1a7b.99de84",
        "2d742a69.fb645e",
        "a750a836.67c46",
        "32c3f1e3.30689e",
        "e951ad31.5ca928",
        "e3393629.af0d3",
        "62f6947f.61850c",
        "746e4da0.8ed054",
        "ce1e821a.8edd98",
        "ac3cc96e.e8c948",
        "baf40051.ee5bc",
        "c4c0db18.879888",
        "e8fa40d3.8412",
        "3fb5f0ac.682b3"
      ]
    ]
  },
  {
    "id": "873707de.4b4938",
    "type": "execute",
    "name": "execute RestApiCallNode Get token",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n<parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/actokentemplate.json'`\" />\n<parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/controller/v2/tokens'`\" />\n<parameter name=\"format\" value=\"json\"/>\n<parameter name=\"httpMethod\" value=\"post\"/>\n<parameter name=\"responsePrefix\" value=\"token-result\"/>\n<parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n<parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n<parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n<parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
    "comments": "",
    "outputs": 1,
    "x": 969,
    "y": 920.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "7ec3a0d9.74ab38",
        "d68f58c.e668e28"
      ]
    ]
  },
  {
    "id": "7ec3a0d9.74ab38",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1204,
    "y": 898.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "1169f76b.30c241"
      ]
    ]
  },
  {
    "id": "d68f58c.e668e28",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1196.25,
    "y": 952.6428527832031,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "f88bda1b.6ed7c8"
      ]
    ]
  },
  {
    "id": "f88bda1b.6ed7c8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing get token rest api\" />\n",
    "comments": "",
    "x": 1349,
    "y": 952.3929138183594,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "1169f76b.30c241",
    "type": "set",
    "name": "set token-id",
    "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.data.token_id`' />\n",
    "comments": "",
    "x": 1358,
    "y": 899.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "a7b0af3.7ac715",
    "type": "success",
    "name": "success",
    "xml": "<outcome value='success'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1384,
    "y": 1071.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "18af9724.8ec0e1"
      ]
    ]
  },
  {
    "id": "a1139f25.6746c",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1391.25,
    "y": 1166.6427917480469,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "d91cb09e.e11ad8"
      ]
    ]
  },
  {
    "id": "d91cb09e.e11ad8",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vrf rest api\" />\n",
    "comments": "",
    "x": 1363,
    "y": 1351.3929138183594,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "a2104e27.ed674",
    "type": "execute",
    "name": "execute Properties",
    "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
    "comments": "",
    "outputs": 1,
    "x": 692.96875,
    "y": 992,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "18af9724.8ec0e1",
    "type": "block",
    "name": "block : atomic",
    "xml": "<block atomic=\"true\">",
    "atomic": "true",
    "comments": "",
    "outputs": 1,
    "x": 1224,
    "y": 1402.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      []
    ]
  },
  {
    "id": "5b1c0e49.45a8a8",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1314,
    "y": 1466.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b1419921.c878d"
      ]
    ]
  },
  {
    "id": "b1419921.c878d",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create site rest api\" />\n",
    "comments": "",
    "x": 1343.75,
    "y": 1524.7500915527344,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "b1d48b0e.d19db",
    "type": "returnFailure",
    "name": "return failure",
    "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error executing Create vpn rest api\" />\n",
    "comments": "",
    "x": 1200,
    "y": 1054.9999694824219,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "ced00609.d81b48",
    "type": "failure",
    "name": "failure",
    "xml": "<outcome value='failure'>\n",
    "comments": "",
    "outputs": 1,
    "x": 1055,
    "y": 1051.9999694824219,
    "z": "b1905c0.2226628",
    "wires": [
      [
        "b1d48b0e.d19db"
      ]
    ]
  },
  {
    "id": "b676786f.1bea58",
    "type": "set",
    "name": "set vrf in network-data",
    "xml": "<set>\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.network-input-parameters.param[$pidx].name' value='vrf1_id' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.network-input-parameters.param[$pidx].value' value='`$prop.l3vpn.vrf1-id`' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.network-input-parameters.param[$pidx+1].name' value='vrf2_id' />\n<parameter name='service-data.networks.network[$nidx].network-data.network-request-input.network-input-parameters.param[$pidx+1].value' value='`$prop.l3vpn.vrf2-id`d' />\n<parameter name='service-data.networks.network[$nidx].network_data.network-request-input.network-input-parameters.param_length' value='`$pidx+2`' />",
    "comments": "",
    "x": 705,
    "y": 1420,
    "z": "b1905c0.2226628",
    "wires": []
  },
  {
    "id": "c690b1cd.2300e8",
    "type": "set",
    "name": "set pidx",
    "xml": "<set>\n<parameter name='pidx' value='`$network-topology-operation-input.network-request-input.network-input-parameters.param_length`' />",
    "comments": "",
    "x": 704,
    "y": 1377,
    "z": "b1905c0.2226628",
    "wires": []
  }
]
