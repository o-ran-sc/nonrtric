[
    {
        "id": "d59dffe3.1ebcb",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 175.03125,
        "y": 203.0001277923584,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "ec08cd91.55039"
            ]
        ]
    },
    {
        "id": "ec08cd91.55039",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 468.03065490722656,
        "y": 203.00002765655518,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "513fbcd2.03e4e4"
            ]
        ]
    },
    {
        "id": "513fbcd2.03e4e4",
        "type": "method",
        "name": "method:bbs-access-connectivity-network-topology-operation-create-huawei",
        "xml": "<method rpc='bbs-access-connectivity-network-topology-operation-create-huawei' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 466.03065490722656,
        "y": 399.00006771087646,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "5ffa3fc6.3a25d"
            ]
        ]
    },
    {
        "id": "5ffa3fc6.3a25d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 873.0308685302734,
        "y": 400.00006771087646,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "d08319bc.bcb898",
                "3702f371.c0220c",
                "28397a59.582c76",
                "98ddfc72.d43d9",
                "a775f115.24069",
                "f893f8d3.d95988",
                "da212c99.cb2c6",
                "d0f6c86f.1dac08"
            ]
        ]
    },
    {
        "id": "d08319bc.bcb898",
        "type": "execute",
        "name": "excute:readProperties",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1305.0310974121094,
        "y": 294.1111869812012,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "3702f371.c0220c",
        "type": "call",
        "name": "call:validate-bbs-network-input-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='validate-bbs-network-input-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1386.031005859375,
        "y": 76.99999809265137,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "d0f6c86f.1dac08",
        "type": "execute",
        "name": "execute:createAccessConnectivityService",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-access-connectivity-create.json'`\" />\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url + '/ws/rest/1002/FanOpenAPI/ActiveOnt'`\" />\n    <parameter name=\"contentType\" value=\"application/json\"/>\n    <parameter name=\"httpMethod\" value=\"post\"/>\n    <parameter name=\"responsePrefix\" value=\"service-result\"/>\n    <parameter name=\"customHttpHeaders\" value=\"`'X-Auth-Token=' + $prop.sdncRestApi.token_id`\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1363.6820678710938,
        "y": 849.9608364105225,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "fe656633.23f858",
                "6f1e2083.ac153"
            ]
        ]
    },
    {
        "id": "fe656633.23f858",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1709.014835357666,
        "y": 939.9607362747192,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "f4a3c0d8.430c"
            ]
        ]
    },
    {
        "id": "6f1e2083.ac153",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1700.92431640625,
        "y": 848.142599105835,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "c90fe181.73329"
            ]
        ]
    },
    {
        "id": "f893f8d3.d95988",
        "type": "execute",
        "name": "execute:querryTokenID",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode\" method=\"sendRequest\">\n    <parameter name=\"templateFileName\" value=\"`$prop.restapi.templateDir + '/bbs-token-template.json'`\"/>\n    <parameter name=\"restapiUrl\" value=\"`$prop.sdncRestApi.thirdpartySdnc.url+'/rest/plat/smapp/v1/oauth/token'`\"/>\n    <parameter name=\"format\" value=\"json\"/>\n    <parameter name=\"httpMethod\" value=\"put\"/>\n    <parameter name=\"responsePrefix\" value=\"token-result\"/>\n    <parameter name=\"trustStoreFileName\" value=\"/opt/onap/sdnc/data/stores/truststore.onap.client.jks\"/>\n    <parameter name=\"trustStorePassword\" value=\"adminadmin\"/>\n    <parameter name=\"keyStoreFileName\" value=\"/opt/onap/sdnc/data/stores/sdnc.p12\"/>\n    <parameter name=\"keyStorePassword\" value=\"adminadmin\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1299.2534484863281,
        "y": 651.5558013916016,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "a70e4e47.132c9",
                "7cc0e9d7.1e3408"
            ]
        ]
    },
    {
        "id": "7cc0e9d7.1e3408",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1587.1982421875,
        "y": 651.2501983642578,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "42bd34dc.590d6c"
            ]
        ]
    },
    {
        "id": "a70e4e47.132c9",
        "type": "outcome",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1585.4712524414062,
        "y": 724.6138734817505,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "ede8d766.0fb378"
            ]
        ]
    },
    {
        "id": "45c2f33c.d2afcc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error executing queryTokenID,vaule is null\" />\n",
        "comments": "",
        "x": 2206.312057495117,
        "y": 718.1595973968506,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "6ab23511.933ffc",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 1990.0314674377441,
        "y": 720.0004091262817,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "45c2f33c.d2afcc"
            ]
        ]
    },
    {
        "id": "42bd34dc.590d6c",
        "type": "switchNode",
        "name": "switch:token ",
        "xml": "<switch test='`$token-result.accessSession`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.0312995910645,
        "y": 650.0001840591431,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "6ab23511.933ffc",
                "279d981f.fd7de8"
            ]
        ]
    },
    {
        "id": "279d981f.fd7de8",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1988.031307220459,
        "y": 649.0001811981201,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "23e4d28e.64b4ce"
            ]
        ]
    },
    {
        "id": "23e4d28e.64b4ce",
        "type": "set",
        "name": "set:token-id",
        "xml": "<set>\n<parameter name='prop.sdncRestApi.token_id' value='`$token-result.accessSession`' />\n",
        "comments": "",
        "x": 2198.5313148498535,
        "y": 649.2501821517944,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "28397a59.582c76",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='network-input-parameters.' value='`$network-topology-operation-input.network-request-input.network-input-parameters.`' />\n<parameter name='prop.sdncRestApi.thirdpartySdnc.url' value='https://172.30.0.55:26335' />\n<parameter name='prop.bbs.HsiPackage' value='50M' />\n<parameter name='prop.bbs.HsiType' value='IPoE' />\n",
        "comments": "",
        "x": 1264.0316467285156,
        "y": 189.0002555847168,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "1bcdb021.046c7",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"__TIMESTAMP__\" />\n    <parameter name=\"field2\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"field3\" value=\"`$prop.bbs.ONTSN`\" />\n    <parameter name=\"field4\" value=\"`$prop.bbs.CVLAN`\" />\n    <parameter name=\"field5\" value=\"`$prop.bbs.SVLAN`\" />\n    <parameter name=\"field6\" value=\"`$prop.bbs.HsiPackage`\" />\n    <parameter name=\"field7\" value=\"`$prop.bbs.HsiType`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1254.0315246582031,
        "y": 482.00019359588623,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "8375eb61.7efbd8",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService success!\" />\n    <parameter name=\"field2\" value=\"`$service-result.accessE2Eservice.serviceID`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2527.0312900543213,
        "y": 1009.0003001093864,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "f4a3c0d8.430c",
        "type": "switchNode",
        "name": "switch:service-result",
        "xml": "<switch test=\"`$service-result.errors.error[0].error-message`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1944.0309562683105,
        "y": 939.0000314712524,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "2f011cb2.7f1894",
                "34a1e5de.d206ea"
            ]
        ]
    },
    {
        "id": "2f011cb2.7f1894",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2165.031261444092,
        "y": 861.0002145767212,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "bb6f25d3.83d998"
            ]
        ]
    },
    {
        "id": "34a1e5de.d206ea",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2166.0308837890625,
        "y": 937.0000133514404,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "ca2d548e.082f68"
            ]
        ]
    },
    {
        "id": "19b1bc05.08dfa4",
        "type": "record",
        "name": "log error",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"createAccessConnectivityService falied!\" />\n    <parameter name=\"field2\" value=\"`$service-result.errors.error[0].error-info.error-code`\" />\n    <parameter name=\"field3\" value=\"`$service-result.errors.error[0].error-message`\" />\n    <parameter name=\"field4\" value=\"`$service-result.errors.error[0].error-tag`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2703.0312881469727,
        "y": 899.000207901001,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "a775f115.24069",
        "type": "for",
        "name": "for:network-input-paramters",
        "xml": "<for index='idx' start='0' end='`$network-input-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1328.5313720703125,
        "y": 392.00017070770264,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "7be7fd6e.b84cb4"
            ]
        ]
    },
    {
        "id": "9e9f8c41.189ca",
        "type": "switchNode",
        "name": "switch:remote_id",
        "xml": "<switch test=\"`$network-input-parameters.param[$idx].name == 'remote_id'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1869.5314979553223,
        "y": 193.00022411346436,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "ce6f91ef.3d714"
            ]
        ]
    },
    {
        "id": "ce6f91ef.3d714",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2072.5314178466797,
        "y": 193.00019550323486,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "58a6c9b5.515018"
            ]
        ]
    },
    {
        "id": "29210a5.c1b86f6",
        "type": "set",
        "name": "set:remote_id",
        "xml": "<set>\n<parameter name='prop.bbs.remote_id' value='`$network-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2790.5311737060547,
        "y": 191.6002016067505,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "7be7fd6e.b84cb4",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1583.5316696166992,
        "y": 393.0002098083496,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "9e9f8c41.189ca",
                "496a4a60.f5cbc4",
                "f8848aaa.eca5f8",
                "6d2dca88.730874"
            ]
        ]
    },
    {
        "id": "496a4a60.f5cbc4",
        "type": "switchNode",
        "name": "switch:ONTSN",
        "xml": "<switch test=\"`$network-input-parameters.param[$idx].name == 'ONTSN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1869.3832931518555,
        "y": 254.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "43a3f0e3.19198"
            ]
        ]
    },
    {
        "id": "43a3f0e3.19198",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2071.383195877075,
        "y": 254.0002899169922,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "41775fcc.20422"
            ]
        ]
    },
    {
        "id": "ee55b9c9.49b6b8",
        "type": "set",
        "name": "set:ONTSN",
        "xml": "<set>\n<parameter name='prop.bbs.ONTSN' value='`$network-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2789.3834800720215,
        "y": 253.600266456604,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "f8848aaa.eca5f8",
        "type": "switchNode",
        "name": "switch:CVLAN",
        "xml": "<switch test=\"`$network-input-parameters.param[$idx].name == 'CVLAN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1869.3833656311035,
        "y": 314.00027561187744,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "b5f77746.96a768"
            ]
        ]
    },
    {
        "id": "b5f77746.96a768",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2071.3832244873047,
        "y": 314.00028705596924,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "b1f319ce.9914f8"
            ]
        ]
    },
    {
        "id": "9b2ab1ad.17aaf",
        "type": "set",
        "name": "set:CVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.CVLAN' value='`$network-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2787.3832244873047,
        "y": 314.60026264190674,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "6d2dca88.730874",
        "type": "switchNode",
        "name": "switch:SVLAN",
        "xml": "<switch test=\"`$network-input-parameters.param[$idx].name == 'SVLAN'`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1866.383373260498,
        "y": 390.22254276275635,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "cc5f4474.e42938"
            ]
        ]
    },
    {
        "id": "cc5f4474.e42938",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2074.3832578659058,
        "y": 389.2225408554077,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "b5f2e193.ef867"
            ]
        ]
    },
    {
        "id": "4ead37e0.712608",
        "type": "set",
        "name": "set:SVLAN",
        "xml": "<set>\n<parameter name='prop.bbs.SVLAN' value='`$network-input-parameters.param[$idx].value`' />\n",
        "comments": "",
        "x": 2793.3832244873047,
        "y": 388.82255268096924,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "58a6c9b5.515018",
        "type": "switchNode",
        "name": "switch:remote_id value",
        "xml": "<switch test='`$network-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2317.5314178466797,
        "y": 192.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e480f1f8.dda81",
                "404720ad.59648"
            ]
        ]
    },
    {
        "id": "404720ad.59648",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2605.5314178466797,
        "y": 191.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "29210a5.c1b86f6"
            ]
        ]
    },
    {
        "id": "e480f1f8.dda81",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 2603.531826019287,
        "y": 122.00020503997803,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e479132a.923ce"
            ]
        ]
    },
    {
        "id": "41775fcc.20422",
        "type": "switchNode",
        "name": "switch:ONTSN value",
        "xml": "<switch test='`$network-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2317.5314178466797,
        "y": 254.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e480f1f8.dda81",
                "17a1e965.948987"
            ]
        ]
    },
    {
        "id": "17a1e965.948987",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2607.5314178466797,
        "y": 254.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "ee55b9c9.49b6b8"
            ]
        ]
    },
    {
        "id": "b1f319ce.9914f8",
        "type": "switchNode",
        "name": "switch:CVLAN value",
        "xml": "<switch test='`$network-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2320.5314178466797,
        "y": 315.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e480f1f8.dda81",
                "cdd37ad7.35df78"
            ]
        ]
    },
    {
        "id": "cdd37ad7.35df78",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2608.5314178466797,
        "y": 314.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "9b2ab1ad.17aaf"
            ]
        ]
    },
    {
        "id": "b5f2e193.ef867",
        "type": "switchNode",
        "name": "switch:SVLAN value",
        "xml": "<switch test='`$network-input-parameters.param[$idx].value`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2321.5314178466797,
        "y": 389.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e480f1f8.dda81",
                "1419c0d9.5cb57f"
            ]
        ]
    },
    {
        "id": "1419c0d9.5cb57f",
        "type": "outcome",
        "name": "Other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2611.5314178466797,
        "y": 390.000226020813,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "4ead37e0.712608"
            ]
        ]
    },
    {
        "id": "98ddfc72.d43d9",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />",
        "comments": "",
        "x": 1237.0864562988281,
        "y": 1433.7781085968018,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "ca2d548e.082f68",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2324.1975135803223,
        "y": 937.9999885559082,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "568e0d0f.176924"
            ]
        ]
    },
    {
        "id": "bb6f25d3.83d998",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`'Error createAccessConnectivityService return: '+$service-result.errors.error[0].error-message`\" />",
        "comments": "",
        "x": 2351.5309295654297,
        "y": 861.0000514984131,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "e479132a.923ce",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"`$network-input-parameters.param[$idx].name  +' value is null, please check it.'`\" />\n",
        "comments": "",
        "x": 2786.5309143066406,
        "y": 122.00002956390381,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "ede8d766.0fb378",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call queryTokenID\" />\n",
        "comments": "",
        "x": 1785.7867889404297,
        "y": 725.0284938812256,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "c90fe181.73329",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n<parameter name='ack-final' value='Y'/>\n<parameter name=\"error-code\" value=\"500\" />\n<parameter name=\"error-message\" value=\"Error failed to call  createAccessConnectivityService\" />\n",
        "comments": "",
        "x": 1915.4235076904297,
        "y": 847.846700668335,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "45b79ec3.5bbd2",
        "type": "save",
        "name": "save:generic-vnf",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"generic-vnf\" key=\"generic-vnf.vnf-id = $vnf-id\" >\n<parameter name= \"vnf-id\" value = \"`$vnf-id`\"/>\n<parameter name=  \"vnf-name\" value = \"`$vnf-name`\"/>\n<parameter name=  \"vnf-type\" value = \"AccessConnectivity\"/>\n<parameter name=  \"service-id\" value = \"`$network-topology-operation-input.service-information.service-id`\"/>\n<parameter name=  \"prov-status\" value = \"ACTIVE\"/>\n<parameter name=  \"orchestration-status\" value = \"Active\"/>\n<parameter name=  \"is-closed-loop-disabled\" value = \"false\" />\n<parameter name=  \"model-invariant-id\" value = \"`$network-topology-operation-input.network-information.onap-model-information.model-invariant-uuid`\"/>\n<parameter name=  \"model-version-id\" value = \"`$network-topology-operation-input.network-information.onap-model-information.model-uuid`\"/>\n<parameter name=  \"model-customization-id\" value = \"`$network-topology-operation-input.network-information.onap-model-information.model-customization-uuid`\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1560.5644626617432,
        "y": 1289.0320949554443,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "9720d237.9ab5a",
                "ea7c0871.ebdfc8",
                "9a4cfbb2.d3a8d8"
            ]
        ]
    },
    {
        "id": "9720d237.9ab5a",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1796.7863178253174,
        "y": 1160.9208526611328,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "bbf8d78d.8c6dd8"
            ]
        ]
    },
    {
        "id": "ea7c0871.ebdfc8",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1807.7621364593506,
        "y": 1220.9367089271545,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "f882f752.137d88"
            ]
        ]
    },
    {
        "id": "bbf8d78d.8c6dd8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save generic-vnf\" />\n",
        "comments": "",
        "x": 2032.9288654327393,
        "y": 1160.4923176765442,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "f882f752.137d88",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"generic-vnf instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 2027.809663772583,
        "y": 1221.4130234718323,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "9a4cfbb2.d3a8d8",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.3729419708252,
        "y": 1286.0631890296936,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "6292b001.56889",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save generic-vnf success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2009.3731956481934,
        "y": 1284.0633182525635,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "10ba27d1.b765f8",
        "type": "save",
        "name": "save:metadata",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:metadata\"\n key=\"service-instance.service-instance-id = $network-topology-operation-input.service-information.service-id  \n\tAND customer.global-customer-id = $network-topology-operation-input.service-information.global-customer-id\n\t  AND service-subscription.service-type = $network-topology-operation-input.service-information.subscription-service-type\n\t  AND service-instance.service-instance-id =  $network-topology-operation-input.service-information.service-instance-id\"  force=\"true\" pfx=\"tmp.AnAI-data\"\n    >\n    <parameter name=\"metadata.metadatum[0].metaname\" value=\"remote-id\" />\n    <parameter name=\"metadata.metadatum[0].metaval\" value=\"`$prop.bbs.remote_id`\" />\n    <parameter name=\"metadata.metadatum[1].metaname\" value=\"controller-service-id\" />\n    <parameter name=\"metadata.metadatum[1].metaval\" value=\"`$prop.bbs.serviceID`\" />",
        "comments": "",
        "outputs": 1,
        "x": 1542.0637893676758,
        "y": 1452.0319232940674,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "b441478d.1f9148",
                "17bb11c4.8fa90e",
                "ebf9ce7d.2261c"
            ]
        ]
    },
    {
        "id": "b441478d.1f9148",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1772.5392990112305,
        "y": 1383.396526813507,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "e654ba85.7dfa08"
            ]
        ]
    },
    {
        "id": "17bb11c4.8fa90e",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1784.5154609680176,
        "y": 1453.4124603271484,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "332a3386.5895dc"
            ]
        ]
    },
    {
        "id": "e654ba85.7dfa08",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 2012.6820945739746,
        "y": 1381.9680285453796,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "332a3386.5895dc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 2009.562994003296,
        "y": 1452.8886966705322,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "ebf9ce7d.2261c",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1779.1261711120605,
        "y": 1523.538899898529,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "7d0a0f4c.3633b",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"save metadatum success!\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 1990.1261711120605,
        "y": 1523.538899898529,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "da212c99.cb2c6",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1255.6980628967285,
        "y": 1163.0006465911865,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "45b79ec3.5bbd2",
                "10ba27d1.b765f8",
                "662db182.a7563",
                "3313131f.0c8d1c",
                "bd6ec8f4.04e3a8"
            ]
        ]
    },
    {
        "id": "662db182.a7563",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='vnf-id' value=\"`$prop.random-data-list[3]`\"/>\n<parameter name='vnf-name' value=\"`'vnf-'+$prop.random-data-list[4]`\"/>\n",
        "comments": "",
        "x": 1544.6985321044922,
        "y": 1167.3336391448975,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "3313131f.0c8d1c",
        "type": "execute",
        "name": "execute:generate",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\">\n    <parameter name=\"ctx-destination\" value=\"prop.random-data\"/>",
        "comments": "",
        "outputs": 1,
        "x": 1563.0629119873047,
        "y": 1086.031545639038,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "61f3386a.396d88"
            ]
        ]
    },
    {
        "id": "61f3386a.396d88",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1801.062671661377,
        "y": 1087.0315761566162,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "1e9f0299.df61fd"
            ]
        ]
    },
    {
        "id": "1e9f0299.df61fd",
        "type": "execute",
        "name": "execute",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split' >\n    <parameter name=\"ctx_memory_result_key\" value=\"prop.random-data-list\"/>\n    <parameter name=\"original_string\" value=\"`$prop.random-data`\"/>\n    <parameter name=\"regex\" value=\"-\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1988.0627269744873,
        "y": 1086.0314846038818,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "4fbc1b9e.fffd34"
            ]
        ]
    },
    {
        "id": "9e0485c3.32fc78",
        "type": "record",
        "name": "log file",
        "xml": " <record plugin=\"org.onap.ccsdk.sli.core.sli.recording.FileRecorder\">\n    <parameter name=\"file\" value=\"/opt/oak/logx.txt\" />\n    <parameter name=\"field1\" value=\"`$prop.random-data`\" />\n    ",
        "comments": "",
        "outputs": 1,
        "x": 2320.062789916992,
        "y": 1084.031545639038,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "4fbc1b9e.fffd34",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2155.062665939331,
        "y": 1085.03151512146,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    },
    {
        "id": "568e0d0f.176924",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"`$service-result.accessE2Eservice.serviceID`\"/>\n",
        "comments": "",
        "x": 2538.06254196167,
        "y": 937.0314273834229,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "cfb87bad.450ae8",
        "type": "set",
        "name": "set:variables",
        "xml": "<set>\n<parameter name='prop.bbs.serviceID' value=\"HSI20190330\"/>\n\n",
        "comments": "",
        "x": 1234.3643798828125,
        "y": 926.3333797454834,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "bd6ec8f4.04e3a8",
        "type": "save",
        "name": "save:relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" resource=\"service-instance:relationship-list\" \n      key=\"service-instance.service-instance-id =  $network-topology-operation-input.service-information.service-id\n         AND customer.global-customer-id = $network-topology-operation-input.service-information.global-customer-id\n         AND service-subscription.service-type =  $network-topology-operation-input.service-information.subscription-service-type \n         AND service-instance.service-instance-id =  $network-topology-operation-input.service-information.service-instance-id\" force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n<parameter name=\"relationship-list.relationship[0].related-link\" value=\"`'/network/generic-vnfs/generic-vnf/' + $vnf-id`\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"generic-vnf.vnf-id\" />\n<parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$vnf-id`\" />\n ",
        "comments": "",
        "outputs": 1,
        "x": 1548.53125,
        "y": 1642.03125,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "1578cba7.023b84",
                "40fbebd2.9a7d24",
                "af6b94b5.5bf458"
            ]
        ]
    },
    {
        "id": "1578cba7.023b84",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1799.53125,
        "y": 1595.03125,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "26c2f8e7.5d2188"
            ]
        ]
    },
    {
        "id": "40fbebd2.9a7d24",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1811.507411956787,
        "y": 1665.0471835136414,
        "z": "f135a623.0543d8",
        "wires": [
            [
                "d32cb96a.5805d8"
            ]
        ]
    },
    {
        "id": "26c2f8e7.5d2188",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failure calling AAI to save metadatum\" />\n",
        "comments": "",
        "x": 2039.6740455627441,
        "y": 1593.6027517318726,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "d32cb96a.5805d8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"metadatum instance does not exist in AAI\" />\n",
        "comments": "",
        "x": 2036.5549449920654,
        "y": 1664.5234198570251,
        "z": "f135a623.0543d8",
        "wires": []
    },
    {
        "id": "af6b94b5.5bf458",
        "type": "outcome",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1806.11812210083,
        "y": 1735.173623085022,
        "z": "f135a623.0543d8",
        "wires": [
            []
        ]
    }
]