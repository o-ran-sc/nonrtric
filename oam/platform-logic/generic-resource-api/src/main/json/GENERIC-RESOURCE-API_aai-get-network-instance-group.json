[{"id":"9ad18084.8f1ee8","type":"dgstart","name":"DGSTART","outputs":1,"x":190.88333129882812,"y":107.60000610351562,"z":"2508f1db.655a56","wires":[["4f01b94e.c013e8"]]},{"id":"4f01b94e.c013e8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":402.740442276001,"y":213.07620811462402,"z":"2508f1db.655a56","wires":[["70d2221e.01a9e4"]]},{"id":"70d2221e.01a9e4","type":"method","name":"aai-get-network-instance-group","xml":"<method rpc='aai-get-network-instance-group' mode='sync'>\n","comments":"","outputs":1,"x":380.65724182128906,"y":294.5881042480469,"z":"2508f1db.655a56","wires":[["7c43646c.8c064c"]]},{"id":"79c12641.7dfb3","type":"comment","name":"Called from assign when network instance group passed in from mso","info":"","comments":"","x":567.0261993408203,"y":175.40953731536865,"z":"2508f1db.655a56","wires":[]},{"id":"f6fc9d5e.8e0928","type":"get-resource","name":"get AnAI - network-instance-group","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"instance-group\" \n\t\tkey=\"instance-group.id = $aaiapi.input.network-instance-group-id\" \n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.AnAI.networkInstanceGroup\">\n","comments":"","outputs":1,"x":1458.4553527832031,"y":424.4572649002075,"z":"2508f1db.655a56","wires":[["5b8f7866.b10508","889712b1.a290a"]]},{"id":"5b8f7866.b10508","type":"not-found","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1717.7884559631348,"y":457.50868034362793,"z":"2508f1db.655a56","wires":[["336f9ffe.8b54"]]},{"id":"336f9ffe.8b54","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"`'network instance group id: ' + $aaiapi.input.network-instance-group-id + 'not found in AnAI'`\" />","comments":"","x":1880.427230834961,"y":457.39766788482666,"z":"2508f1db.655a56","wires":[]},{"id":"889712b1.a290a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1710.7446746826172,"y":416.7072582244873,"z":"2508f1db.655a56","wires":[["6829e606.6b094"]]},{"id":"6829e606.6b094","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"500\" />\n\t<parameter name=\"error-message\" value=\"`'Error retrieving network instance group with id=' + $aaiapi.input.network-instance-group-id + ' from AnAI'`\" />","comments":"","x":1869.8557586669922,"y":416.92948722839355,"z":"2508f1db.655a56","wires":[]},{"id":"d5bad5d7.0f518","type":"switchNode","name":"switch aaiapi.input.network-instance-group-id","xml":"<switch test='`$aaiapi.input.network-instance-group-id`'>\n","comments":"","outputs":1,"x":719.454719543457,"y":381.88575077056885,"z":"2508f1db.655a56","wires":[["907718fa.e5ca3","e088b096.4c1298"]]},{"id":"7c43646c.8c064c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":406.5976104736328,"y":381.88573837280273,"z":"2508f1db.655a56","wires":[["d5bad5d7.0f518","48a34f94.14a79"]]},{"id":"907718fa.e5ca3","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1036.5976257324219,"y":381.5999984741211,"z":"2508f1db.655a56","wires":[["d47beee1.f8027"]]},{"id":"e088b096.4c1298","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1017.2270317077637,"y":416.9240771830082,"z":"2508f1db.655a56","wires":[["c061d212.395e1"]]},{"id":"d47beee1.f8027","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"500\" />\n\t<parameter name=\"error-message\" value=\"Error aaiapi.input.network-instance-group-id is NULL\" />\n","comments":"","x":1246.8833541870117,"y":381.6000146865845,"z":"2508f1db.655a56","wires":[]},{"id":"c061d212.395e1","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1190.8832702636719,"y":416.1714401245117,"z":"2508f1db.655a56","wires":[["f6fc9d5e.8e0928","6fd71f76.4aad58","56291dcc.a4970c","fcd0b068.87eaa"]]},{"id":"fcd0b068.87eaa","type":"get-resource","name":"get AnAI - collection","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"collection\" \n\t\tkey=\"collection.collection-id = $aaiapi.output.collection.collection-id\" \n\t\tlocal-only=\"false\" \n\t\tpfx=\"tmp.AnAI.collection\">\n","comments":"","outputs":1,"x":1442.8839416503906,"y":813.0286903381348,"z":"2508f1db.655a56","wires":[["32942ead.237942","ddc63a84.c2bdc8","917b9591.1fa8f8"]]},{"id":"32942ead.237942","type":"not-found","name":"not found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1721.7885398864746,"y":844.3657636642456,"z":"2508f1db.655a56","wires":[["8b9d327e.c5eb28"]]},{"id":"8b9d327e.c5eb28","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"`'collection: ' + $aaiapi.output.collection.collection-id + 'not found in AnAI'`\" />","comments":"","x":1884.4273147583008,"y":844.2547512054443,"z":"2508f1db.655a56","wires":[]},{"id":"ddc63a84.c2bdc8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1714.744758605957,"y":803.564341545105,"z":"2508f1db.655a56","wires":[["d51e662.b7cc598"]]},{"id":"d51e662.b7cc598","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"500\" />\n\t<parameter name=\"error-message\" value=\"`'Error retrieving collection with id=' + $aaiapi.output.collection.collection-id + ' from AnAI'`\" />","comments":"","x":1873.855842590332,"y":803.7865705490112,"z":"2508f1db.655a56","wires":[]},{"id":"6fd71f76.4aad58","type":"for","name":"for relationship list","xml":"<for silentFailure='true' index='ridx' start='0' end=\"`$tmp.AnAI.networkInstanceGroup.relationship-list.relationship_length`\" >\n","comments":"","outputs":1,"x":1426.5977630615234,"y":574.7429070472717,"z":"2508f1db.655a56","wires":[["e129352e.93c508"]]},{"id":"15033b7f.2625bd","type":"switchNode","name":"switch relationship-key","xml":"<switch test='`$tmp.AnAI.networkInstanceGroup.relationship-list.relationship[$ridx].relationship-data[$rdidx].relationship-key`'>\n","comments":"","outputs":1,"x":1843.382911682129,"y":573.5998611450195,"z":"2508f1db.655a56","wires":[["8b74e67f.9c834"]]},{"id":"e129352e.93c508","type":"for","name":"for relationship data","xml":"<for silentFailure='true' index='rdidx' start='0' end=\"`$tmp.AnAI.networkInstanceGroup.relationship-list.relationship[$ridx].relationship-data_length`\" >\n","comments":"","outputs":1,"x":1635.7998962402344,"y":575.8499984741211,"z":"2508f1db.655a56","wires":[["15033b7f.2625bd"]]},{"id":"8b74e67f.9c834","type":"other","name":"collection.collection-id","xml":"<outcome value='collection.collection-id'>\n","comments":"","outputs":1,"x":2068.8829956054688,"y":574.016471862793,"z":"2508f1db.655a56","wires":[["1465ce62.a01cc2"]]},{"id":"1465ce62.a01cc2","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2308.29931640625,"y":571.7665939331055,"z":"2508f1db.655a56","wires":[["13601b4c.2fcf95"]]},{"id":"48a34f94.14a79","type":"set","name":"clear output variables","xml":"<set>\n<parameter name='aaiapi.output.collection-customization-uuid' value='' />\n<parameter name='aaiapi.output.collection-name' value='' />\n<parameter name='aaiapi.output.collection-function' value='' />\n<parameter name='aaiapi.output.collection.collection-id' value='' />","comments":"","x":642.7404632568359,"y":349.45720291137695,"z":"2508f1db.655a56","wires":[]},{"id":"85b4fb43.16fb68","type":"comment","name":"aai-vlan-tagging-1260","info":"","comments":"","x":420.02452087402344,"y":113.31261825561523,"z":"2508f1db.655a56","wires":[]},{"id":"77116df9.651664","type":"comment","name":"Input/Output","info":"Input:\n\taaiapi.input.network-instance-group-id","comments":"","x":390.0245056152344,"y":143.31261444091797,"z":"2508f1db.655a56","wires":[]},{"id":"917b9591.1fa8f8","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1720.274715423584,"y":886.3127021789551,"z":"2508f1db.655a56","wires":[["203680a4.cac048"]]},{"id":"203680a4.cac048","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1879.2746200561523,"y":886.3126602172852,"z":"2508f1db.655a56","wires":[["8660bd01.9728d8","13c8d78f.45d018"]]},{"id":"8660bd01.9728d8","type":"set","name":"set output variables","xml":"<set>\n<parameter name='aaiapi.output.collection-customization-uuid' value='`$tmp.AnAI.collection.collection-customization-id`' />\n<parameter name='aaiapi.output.collection-name' value='`$tmp.AnAI.collection.collection-name`' />\n<parameter name='aaiapi.output.collection-function' value='`$tmp.AnAI.collection.collection-function`' />\n","comments":"","x":2083.274726867676,"y":885.3127174377441,"z":"2508f1db.655a56","wires":[]},{"id":"13c8d78f.45d018","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name='' value='' />\n","comments":"","x":2071.2747535705566,"y":922.3126726150513,"z":"2508f1db.655a56","wires":[]},{"id":"13601b4c.2fcf95","type":"set","name":"set collection id","xml":"<set>\n<parameter name='aaiapi.output.collection.collection-id' value='`$tmp.AnAI.networkInstanceGroup.relationship-list.relationship[$ridx].relationship-data[$rdidx].relationship-value`' />\n\n\n","comments":"","x":2519.5246505737305,"y":571.3126363754272,"z":"2508f1db.655a56","wires":[]},{"id":"56291dcc.a4970c","type":"switchNode","name":"switch collection-id","xml":"<switch test='`$aaiapi.output.collection.collection-id`'>\n","comments":"","outputs":1,"x":1442.5246047973633,"y":694.3126230239868,"z":"2508f1db.655a56","wires":[["b72f0133.30d35"]]},{"id":"b72f0133.30d35","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1673.667465209961,"y":693.0268650054932,"z":"2508f1db.655a56","wires":[["505c16e2.9377b"]]},{"id":"505c16e2.9377b","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"404\" />\n\t<parameter name=\"error-message\" value=\"`'network instance group id: ' + $aaiapi.input.network-instance-group-id + ' collection not found in AnAI'`\" />","comments":"","x":1879.5246963500977,"y":693.3127098083496,"z":"2508f1db.655a56","wires":[]}]