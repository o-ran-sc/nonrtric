[{"id":"4ebb72d6.ff1bec","type":"execute","name":"execute: generateUUID","xml":"<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n\t<parameter name=\"ctx-destination\" value=\"tmp.return.generate-subnets-subnet-id.uuid\" />","comments":"","outputs":1,"x":511.00390625,"y":443.50000381469727,"z":"28d7e005.9dc58","wires":[["ccc38b6a.bf2db8"]]},{"id":"ccc38b6a.bf2db8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":706.7539138793945,"y":443.50000381469727,"z":"28d7e005.9dc58","wires":[["80297807.6e63d8"]]},{"id":"80297807.6e63d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<!-- Used to work around execute node bug -->\n\t<parameter name=\"execute_failure\" value=\"false\" />\n\n\t<!-- return parameters -->\n\t<parameter name=\"error-message.generate-l3network-network-id\" value=\"An error occured while generating a UUID for L3-NETWORK.\" />","comments":"","x":871.7539138793945,"y":443.7500009536743,"z":"28d7e005.9dc58","wires":[]},{"id":"98f4a42f.f0aa68","type":"get-resource","name":"Query AnAI -  subnets","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n\tresource=\"subnet\"\n\t\tkey=\"l3-network.network-id = $tmp.local.network-id \n\t\t\tAND subnet.subnet-id = $tmp.return.generate-subnets-subnet-id.uuid\"\n\t\tlocal-only=\"false\"\n\t\tpfx=\"tmp.local-variables.generate-subnets-subnet-id.SUBNETS\" >","comments":"","outputs":1,"x":636.2539138793945,"y":534.7500009536743,"z":"28d7e005.9dc58","wires":[["250376fc.66acba","9aa930de.201cb","fabd9e45.fdd79","fcad957.1d68c68"]]},{"id":"39a85d44.1f0ee2","type":"for","name":"for s: true","xml":"<for atomic=\"true\" index=\"s\" start=\"0\" end=\"1\" >","comments":"","outputs":1,"x":460.25391387939453,"y":534.7500009536743,"z":"28d7e005.9dc58","wires":[["98f4a42f.f0aa68"]]},{"id":"250376fc.66acba","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":840.7539138793945,"y":534.7500009536743,"z":"28d7e005.9dc58","wires":[["ab106203.c8209"]]},{"id":"9aa930de.201cb","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":836.7539138793945,"y":614.7500009536743,"z":"28d7e005.9dc58","wires":[["a28b9983.a32208"]]},{"id":"fabd9e45.fdd79","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":845.7539138793945,"y":574.7500009536743,"z":"28d7e005.9dc58","wires":[["6419a706.22a868"]]},{"id":"a28b9983.a32208","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<!-- return parameters -->\n\t<parameter name=\"error-message.generate-subnets-subnet-id\" value=\"`'An error occured while checking if a generated subnets-subnet-id was unique. subnet-id = ' + $tmp.local-variables.generate-subnets-subnet-id.uuid`\" />","comments":"","x":1003.2539215087891,"y":639.7500066757202,"z":"28d7e005.9dc58","wires":[]},{"id":"ab106203.c8209","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":998.7539138793945,"y":534.7500009536743,"z":"28d7e005.9dc58","wires":[["7430890a.e8ebd8","32538d2e.99dd82"]]},{"id":"7430890a.e8ebd8","type":"set","name":"set: ...local...is-unique = 0","xml":"<set>\n\t<parameter name=\"tmp.local-variables.generate-subnets-subnet-id.is-unique\" value=\"0\" />","comments":"","x":1216.2539672851562,"y":534.7500066757202,"z":"28d7e005.9dc58","wires":[]},{"id":"32538d2e.99dd82","type":"execute","name":"execute: generateUUID","xml":"<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n\t<parameter name=\"ctx-destination\" value=\"tmp.return.generate-subnets-subnet-id.uuid\" />","comments":"","outputs":1,"x":1207.2539749145508,"y":574.7500381469727,"z":"28d7e005.9dc58","wires":[["5842cf96.43c34"]]},{"id":"5842cf96.43c34","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1396.7539138793945,"y":574.7500009536743,"z":"28d7e005.9dc58","wires":[["3fc57a3a.796596"]]},{"id":"3fc57a3a.796596","type":"returnFailure","name":"return failure","xml":"<return status=\"failure\">\n\t<!-- return parameters -->\n\t<parameter name=\"error-message.generate-subnets-subnet-id\" value=\"An error occured while generating a UUID for SUBNETS.\" />","comments":"","x":1550.7539138793945,"y":574.7500009536743,"z":"28d7e005.9dc58","wires":[]},{"id":"6419a706.22a868","type":"block","name":"block","xml":"<block>","atomic":"false","comments":"","outputs":1,"x":976.7539138793945,"y":574.7500009536743,"z":"28d7e005.9dc58","wires":[[]]},{"id":"3fe1a03a.3fae4","type":"dgstart","name":"DGSTART","outputs":1,"x":217.25391006469727,"y":131,"z":"28d7e005.9dc58","wires":[["9f41e76f.77e068"]]},{"id":"9f41e76f.77e068","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":241.25390625,"y":177.25,"z":"28d7e005.9dc58","wires":[["a001ce75.e6d8e"]]},{"id":"a001ce75.e6d8e","type":"method","name":"method generate-subnets-subnet-id","xml":"<method rpc=\"generate-subnets-subnet-id\" mode=\"sync\">","comments":"","outputs":1,"x":327.00390625,"y":229.75,"z":"28d7e005.9dc58","wires":[["71e8f6e6.9eb8a8"]]},{"id":"9e2de549.ffe678","type":"comment","name":"VNF-API: GENERATE-SUBNETS-SUBNET-ID","info":"","comments":"","x":768.7539215087891,"y":137.24999809265137,"z":"28d7e005.9dc58","wires":[]},{"id":"71e8f6e6.9eb8a8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":278.75391387939453,"y":354.7500009536743,"z":"28d7e005.9dc58","wires":[["4ebb72d6.ff1bec","91e0fb46.daf918","7ad9adf7.13cf04","39a85d44.1f0ee2"]]},{"id":"70a1888b.537578","type":"comment","name":"LOOP UNTIL GENERATED NETWORK-ID ISN'T FOUND IN A&AI","info":"","comments":"","x":680.00390625,"y":491.0000047683716,"z":"28d7e005.9dc58","wires":[]},{"id":"60051b45.3530e4","type":"comment","name":"GENERATE A SUBNET-ID","info":"","comments":"","x":543.75390625,"y":401.00000286102295,"z":"28d7e005.9dc58","wires":[]},{"id":"91e0fb46.daf918","type":"set","name":"unset: local-variables & return","xml":"<set>\n\t<parameter name=\"tmp.local-variables.generate-subnets-subnet-id.\" value=\"\" />\n\t<parameter name=\"tmp.return.generate-subnets-subnet-id.\" value=\"\" />","comments":"","x":529.7539138793945,"y":354.7500009536743,"z":"28d7e005.9dc58","wires":[]},{"id":"365f8dfe.0527b2","type":"comment","name":"CLEANUP LOCAL VARIABLES TO BE USED","info":"","comments":"","x":614.00390625,"y":311.00000190734863,"z":"28d7e005.9dc58","wires":[]},{"id":"a3c943fd.bba14","type":"comment","name":"GLOBAL VARIABLES USED","info":"// RETURN VALUES\nerror-message.generate-generic-vnf-id\ntmp.return.generate-generic-vnf-id.uuid\n\n// LOCAL VARIABLES (erased at beginning & end of DG)\ntmp.local-variables.generate-generic-vnf-id.*\ntmp.local-variables.generate-generic-vnf-id.GENERIC_VNF.*","comments":"","x":755.2539367675781,"y":177.24999809265137,"z":"28d7e005.9dc58","wires":[]},{"id":"7ad9adf7.13cf04","type":"set","name":"unset: local-variables & return","xml":"<set>\n\t<parameter name=\"tmp.local-variables.generate-subnets-subnet-id.\" value=\"\" />","comments":"","x":529.7539138793945,"y":634.7500009536743,"z":"28d7e005.9dc58","wires":[]},{"id":"5b3c94ff.b7624c","type":"comment","name":"CLEANUP LOCAL VARIABLES","info":"","comments":"","x":571.25390625,"y":592.2500057220459,"z":"28d7e005.9dc58","wires":[]},{"id":"fcad957.1d68c68","type":"other","name":"Other","xml":"<outcome value=\"Other\">","comments":"","outputs":1,"x":836.7539138793945,"y":654.7500009536743,"z":"28d7e005.9dc58","wires":[["a28b9983.a32208"]]}]