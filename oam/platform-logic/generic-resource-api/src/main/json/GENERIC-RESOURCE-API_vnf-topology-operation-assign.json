[
    {
        "id": "fa733965.8e1b48",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 116.66666412353516,
        "y": 70.74699592590332,
        "z": "2d523017.81121",
        "wires": [
            [
                "daf6d1e0.f0a85"
            ]
        ]
    },
    {
        "id": "daf6d1e0.f0a85",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 231.9523696899414,
        "y": 112.65177536010742,
        "z": "2d523017.81121",
        "wires": [
            [
                "3a6f31b4.299cee"
            ]
        ]
    },
    {
        "id": "3a6f31b4.299cee",
        "type": "method",
        "name": "method vnf-topology-operation-assign",
        "xml": "<method rpc='vnf-topology-operation-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 204.76197052001953,
        "y": 155.41365909576416,
        "z": "2d523017.81121",
        "wires": [
            [
                "9ab83872.914ab8"
            ]
        ]
    },
    {
        "id": "21dff779.bf4cc8",
        "type": "comment",
        "name": "vnf-topology-operation-assign",
        "info": "",
        "comments": "",
        "x": 492.6781921386719,
        "y": 20,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "49a698b9.947698",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vnf-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 513.0476303100586,
        "y": 466.3898124694824,
        "z": "2d523017.81121",
        "wires": [
            [
                "725cf24d.8d4b4c",
                "abc6c6e8.654018"
            ]
        ]
    },
    {
        "id": "725cf24d.8d4b4c",
        "type": "outcome",
        "name": "CreateVnfInstance",
        "xml": "<outcome value='CreateVnfInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 766.7619247436523,
        "y": 443.53269386291504,
        "z": "2d523017.81121",
        "wires": [
            [
                "b07fe8dd.932d38"
            ]
        ]
    },
    {
        "id": "abc6c6e8.654018",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 728.761890411377,
        "y": 489.24702167510986,
        "z": "2d523017.81121",
        "wires": [
            [
                "97a46274.9df5e"
            ]
        ]
    },
    {
        "id": "b07fe8dd.932d38",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 951.6190528869629,
        "y": 443.53272342681885,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "c8588b9c.b0d898",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 174.4048080444336,
        "y": 3352.7708625793457,
        "z": "2d523017.81121",
        "wires": [
            [
                "50e14066.4a8fb",
                "945671e8.3d2b7",
                "7054feb2.2900b",
                "25919575.6cb00a",
                "10583438.2574cc",
                "9cd27ab5.524f18",
                "13077d8a.632752",
                "8c40a330.8c84",
                "996bdc9d.0d63b",
                "2dd23fff.89a8d",
                "f2f609da.bd9858",
                "1b9bd518.29100b",
                "4eb737ee.442a38",
                "3530cc21.a0c0d4",
                "2fcd14d0.0b537c",
                "4796fba2.d51144",
                "42f099e.9f61568",
                "ab296e58.94c7",
                "8dc1e7e0.9d5668",
                "d03eeca7.23711",
                "494fd3fe.881b4c",
                "31dc7765.4b4208",
                "ae22f7f9.632468",
                "530dfe10.6f29",
                "2f250d1f.126482",
                "3c27d937.bf75c6",
                "6ae8e0f.7c6952",
                "dfdec27.324004",
                "dc580d36.feec6",
                "87cefff2.af896",
                "9e4b2f5.d8554d",
                "5563a4c5.a199ec",
                "97421a9a.865f98",
                "59c331da.0d09b",
                "b01ba289.b4c4d",
                "f93440f1.dad62",
                "5091afc0.4393d",
                "7381e60f.8d7388",
                "ef3b1f74.d9716",
                "4c1fc0a3.ee098"
            ]
        ]
    },
    {
        "id": "ade9f393.c1d96",
        "type": "get-resource",
        "name": "get-resource VF_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 525.3809356689453,
        "y": 557.5326824188232,
        "z": "2d523017.81121",
        "wires": [
            [
                "1e3f6d8d.668b62",
                "270acedb.4b2862"
            ]
        ]
    },
    {
        "id": "1e3f6d8d.668b62",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 726.166633605957,
        "y": 537.913519859314,
        "z": "2d523017.81121",
        "wires": [
            [
                "df6715d9.ce37d8"
            ]
        ]
    },
    {
        "id": "270acedb.4b2862",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 734.7380638122559,
        "y": 582.1992330551147,
        "z": "2d523017.81121",
        "wires": [
            [
                "e48fe633.d5a078"
            ]
        ]
    },
    {
        "id": "50e14066.4a8fb",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 549.0475845336914,
        "y": 1145.9851322174072,
        "z": "2d523017.81121",
        "wires": [
            [
                "a52ad9f3.5409f8",
                "f1a27d38.307e4"
            ]
        ]
    },
    {
        "id": "a52ad9f3.5409f8",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 774.7619132995605,
        "y": 1113.1279201507568,
        "z": "2d523017.81121",
        "wires": [
            [
                "5a889bed.1fd0a4"
            ]
        ]
    },
    {
        "id": "5a889bed.1fd0a4",
        "type": "set",
        "name": "set vnf-index=0",
        "xml": "<set>\n<parameter name='vnf-index' value='0' />\n",
        "comments": "",
        "x": 939.0476341247559,
        "y": 1112.1279983520508,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f1a27d38.307e4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776.1904754638672,
        "y": 1177.4137382507324,
        "z": "2d523017.81121",
        "wires": [
            [
                "ff49d41f.68ca58"
            ]
        ]
    },
    {
        "id": "742d47cf.681298",
        "type": "set",
        "name": "set vnf-index = vnf_length",
        "xml": "<set>\n<parameter name='vnf-index' value='`$service-data.vnfs.vnf_length`' />\n",
        "comments": "",
        "x": 1194.0476303100586,
        "y": 1155.699426651001,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "841debf7.ded508",
        "type": "for",
        "name": "for each existing VNF",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1179.4761428833008,
        "y": 1201.6993656158447,
        "z": "2d523017.81121",
        "wires": [
            [
                "7d0d1ffd.f9c63"
            ]
        ]
    },
    {
        "id": "ff49d41f.68ca58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 949.9047355651855,
        "y": 1177.413703918457,
        "z": "2d523017.81121",
        "wires": [
            [
                "742d47cf.681298",
                "841debf7.ded508"
            ]
        ]
    },
    {
        "id": "7d0d1ffd.f9c63",
        "type": "switchNode",
        "name": "switch vnf-information.vnf-id == service-data.vnfs.vnf[].vnf-id",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-id == $service-data.vnfs.vnf[$idx].vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1533.7619094848633,
        "y": 1201.270845413208,
        "z": "2d523017.81121",
        "wires": [
            [
                "8c6a6fdd.7581b"
            ]
        ]
    },
    {
        "id": "8c6a6fdd.7581b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1828.047664642334,
        "y": 1200.8423299789429,
        "z": "2d523017.81121",
        "wires": [
            [
                "67d1f32e.64262c"
            ]
        ]
    },
    {
        "id": "7be2c7fd.7f9938",
        "type": "comment",
        "name": "make sure this VNF doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1520.904640197754,
        "y": 1158.8422756195068,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "945671e8.3d2b7",
        "type": "set",
        "name": "set vnf-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id'\n value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-type'\n value='`$vnf-topology-operation-input.vnf-information.vnf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-type'\n value='`$db.vf-model.nf-type`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role'\n value='`$db.vf-model.nf-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-function'\n value='`$db.vf-model.nf-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-code'\n value='`$db.vf-model.nf-code`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.tenant'\n value='`$vnf-topology-operation-input.vnf-request-input.tenant`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-cloud-region'\n value='`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`' />\n \n",
        "comments": "",
        "x": 514.7618675231934,
        "y": 1677.6518993377686,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "7054feb2.2900b",
        "type": "switchNode",
        "name": "switch input vnf-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.vnf-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 527.2618865966797,
        "y": 2039.770956993103,
        "z": "2d523017.81121",
        "wires": [
            [
                "794a160e.b68c48",
                "109f5318.f22f2d"
            ]
        ]
    },
    {
        "id": "25919575.6cb00a",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vnf-topology-operation-input.vnf-request-input.aic-cloud-region AND\n\t\t     depth='all'\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 559.4048309326172,
        "y": 2935.7706928253174,
        "z": "2d523017.81121",
        "wires": [
            [
                "da5da517.ae2e18",
                "54304dd.70307b4"
            ]
        ]
    },
    {
        "id": "54304dd.70307b4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.5081481933594,
        "y": 2954.921399116516,
        "z": "2d523017.81121",
        "wires": [
            [
                "cbecda63.60f978"
            ]
        ]
    },
    {
        "id": "da5da517.ae2e18",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 776.4367446899414,
        "y": 2912.2071323394775,
        "z": "2d523017.81121",
        "wires": [
            [
                "55ab3764.a14138"
            ]
        ]
    },
    {
        "id": "10583438.2574cc",
        "type": "get-resource",
        "name": "get-resource VF_TO_NETWORK_ROLE_MAPPING",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_TO_NETWORK_ROLE_MAPPING WHERE vf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-network-role-mapping[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 624.6429138183594,
        "y": 3246.8182125091553,
        "z": "2d523017.81121",
        "wires": [
            [
                "b9431e3d.b421d",
                "395440a1.5e6de"
            ]
        ]
    },
    {
        "id": "b9431e3d.b421d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 920.4285850524902,
        "y": 3225.532377243042,
        "z": "2d523017.81121",
        "wires": [
            [
                "5be8614b.d2283"
            ]
        ]
    },
    {
        "id": "395440a1.5e6de",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 929.0000152587891,
        "y": 3269.818090438843,
        "z": "2d523017.81121",
        "wires": [
            [
                "4f0a7869.c1d018"
            ]
        ]
    },
    {
        "id": "fde1d716.a4a0e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1025.5716133117676,
        "y": 4363.460702896118,
        "z": "2d523017.81121",
        "wires": [
            [
                "abcfb9a1.c41368",
                "912ecbf0.ffa438",
                "c223a2fd.f4871",
                "7e1ee9f5.bc8198",
                "c6001282.4b6e1",
                "ea99e7e9.ed0b98",
                "c41b6137.b6d4b",
                "8dc14ff8.fbd57",
                "4e569933.c14918"
            ]
        ]
    },
    {
        "id": "c223a2fd.f4871",
        "type": "get-resource",
        "name": "get-resource l3-network",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"l3-networks\" \n\t\tkey=\"l3-network.network-role = $db.vf-network-role-mapping[$role-index].network-role\"\n        pfx='aai.l3-network' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 1275.2858123779297,
        "y": 3453.8417415618896,
        "z": "2d523017.81121",
        "wires": [
            [
                "ede95f4d.859fa",
                "3e760d07.8da062"
            ]
        ]
    },
    {
        "id": "3e760d07.8da062",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1480.7621269226074,
        "y": 3483.1273441314697,
        "z": "2d523017.81121",
        "wires": [
            [
                "4fcc2ec6.5268d"
            ]
        ]
    },
    {
        "id": "ede95f4d.859fa",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1488.2621231079102,
        "y": 3434.2703142166138,
        "z": "2d523017.81121",
        "wires": [
            [
                "1b9558ce.3c84a7"
            ]
        ]
    },
    {
        "id": "abcfb9a1.c41368",
        "type": "set",
        "name": "set vnf-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-role'\n    value='`$db.vf-network-role-mapping[$role-index].network-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-name'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].neutron-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].neutron-network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].network-id'\n    value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].contrail-network-fqdn'\n    value='`$aai.l3-network.l3-network[$db-network-index].contrail-network-fqdn`' />\n",
        "comments": "",
        "x": 1271.6192779541016,
        "y": 4259.413550376892,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "996bdc9d.0d63b",
        "type": "for",
        "name": "for each cloud-region availability zone",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.availability-zones.availability-zone_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 492.00031661987305,
        "y": 5506.532527923584,
        "z": "2d523017.81121",
        "wires": [
            [
                "b2e77d6f.5c88e"
            ]
        ]
    },
    {
        "id": "cab1cdc0.80552",
        "type": "set",
        "name": "set availability-zone",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone[$idx]'\n  value='`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`' />\n",
        "comments": "",
        "x": 953.6669998168945,
        "y": 5475.865942001343,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "2dd23fff.89a8d",
        "type": "set",
        "name": "set vnf-parameters-data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-parameters-data.'\n  value='vnf-topology-operation-input.vnf-request-input.vnf-input-parameters.' />\n",
        "comments": "",
        "x": 451.6192436218262,
        "y": 5356.484888076782,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "c622b6f5.5fb0e8",
        "type": "save",
        "name": "save generic-vnf l3-network relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"l3-network.network-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-nw-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 918.1907768249512,
        "y": 5650.29474067688,
        "z": "2d523017.81121",
        "wires": [
            [
                "72e530eb.ef2a9",
                "560ad615.6ebaf8"
            ]
        ]
    },
    {
        "id": "4eb737ee.442a38",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 404.9645233154297,
        "y": 6546.056180000305,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "1b9bd518.29100b",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 507.49225997924805,
        "y": 6019.500453948975,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "13077d8a.632752",
        "type": "for",
        "name": "for each network-role",
        "xml": "<for silentFailure='true' index='role-index' start='0' end='`$db.vf-network-role-mapping_length`'>",
        "comments": "",
        "outputs": 1,
        "x": 485.57154846191406,
        "y": 4336.794371604919,
        "z": "2d523017.81121",
        "wires": [
            [
                "b7e5144f.5264b8"
            ]
        ]
    },
    {
        "id": "9cd27ab5.524f18",
        "type": "set",
        "name": "set network-index = 0",
        "xml": "<set>\n<parameter name='network-index' value='0' />\n",
        "comments": "",
        "x": 527.0714111328125,
        "y": 3300.8660068511963,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "912ecbf0.ffa438",
        "type": "set",
        "name": "increment network-index",
        "xml": "<set>\n<parameter name='network-index' value='`$network-index + 1`' />\n",
        "comments": "",
        "x": 1253.6192665100098,
        "y": 5307.175491333008,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "8c40a330.8c84",
        "type": "set",
        "name": "set vnf-network_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length'\n  value='`$network-index`' />\n",
        "comments": "",
        "x": 450.4763298034668,
        "y": 5306.484931945801,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f2f609da.bd9858",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.sdnc-request-header.' value='$vnf-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.request-information.' value='$vnf-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.service-information.' value='$vnf-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.' value='$vnf-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-request-input.' value='$vnf-topology-operation-input.vnf-request-input.' />\n\n",
        "comments": "",
        "x": 416.7620658874512,
        "y": 5965.913442611694,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "3530cc21.a0c0d4",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-nw-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 441.1906852722168,
        "y": 5649.29465675354,
        "z": "2d523017.81121",
        "wires": [
            [
                "b6d2730a.405db"
            ]
        ]
    },
    {
        "id": "b6d2730a.405db",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 644.8573265075684,
        "y": 5649.294617652893,
        "z": "2d523017.81121",
        "wires": [
            [
                "c622b6f5.5fb0e8"
            ]
        ]
    },
    {
        "id": "2fcd14d0.0b537c",
        "type": "set",
        "name": "set new vnf_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf_length' value='`$vnf-index + 1`' />\n",
        "comments": "",
        "x": 497.6905059814453,
        "y": 1198.0090227127075,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "4796fba2.d51144",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 572.2619552612305,
        "y": 3023.008864402771,
        "z": "2d523017.81121",
        "wires": [
            [
                "de35f354.4a026"
            ]
        ]
    },
    {
        "id": "de35f354.4a026",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 819.9404983520508,
        "y": 3022.7587938308716,
        "z": "2d523017.81121",
        "wires": [
            [
                "9753c9fc.ee6548"
            ]
        ]
    },
    {
        "id": "9753c9fc.ee6548",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 989.4048194885254,
        "y": 3022.1516160964966,
        "z": "2d523017.81121",
        "wires": [
            [
                "f1d0780c.c74608"
            ]
        ]
    },
    {
        "id": "49d47361.e5235c",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli'\n  value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1366.976203918457,
        "y": 3020.389811515808,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "42f099e.9f61568",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 505.3095817565918,
        "y": 3136.1039962768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "18989148.50f10f"
            ]
        ]
    },
    {
        "id": "18989148.50f10f",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 653.4524154663086,
        "y": 3136.103979110718,
        "z": "2d523017.81121",
        "wires": [
            [
                "9a466e25.4156f"
            ]
        ]
    },
    {
        "id": "56b5f776.c4c628",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 931.7621269226074,
        "y": 2494.9612531661987,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "c7e1c13d.03db5",
        "type": "for",
        "name": "for each l3-network",
        "xml": "<for index='db-network-index' start='0' end='`$aai.l3-network.l3-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1391.8812561035156,
        "y": 4083.984929084778,
        "z": "2d523017.81121",
        "wires": [
            [
                "c1ed15e6.f88648"
            ]
        ]
    },
    {
        "id": "e75f10eb.ced4f",
        "type": "switchNode",
        "name": "switch orchestration-status",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].orchestration-status`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1810.4524269104004,
        "y": 4018.556393623352,
        "z": "2d523017.81121",
        "wires": [
            [
                "acbbb297.0a07e",
                "18131921.5c40e7",
                "84ce6f22.6e9ac",
                "a5969f85.edad",
                "8306b63a.7a6a88"
            ]
        ]
    },
    {
        "id": "acbbb297.0a07e",
        "type": "outcome",
        "name": "Pending Delete",
        "xml": "<outcome value='Pending Delete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2051.119297027588,
        "y": 4060.222897529602,
        "z": "2d523017.81121",
        "wires": [
            [
                "bcc48c45.57047"
            ]
        ]
    },
    {
        "id": "18131921.5c40e7",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2023.9764366149902,
        "y": 4111.222878456116,
        "z": "2d523017.81121",
        "wires": [
            [
                "f846017e.0f7b7"
            ]
        ]
    },
    {
        "id": "d24ce0d7.c8619",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2559.6907386779785,
        "y": 4056.460795402527,
        "z": "2d523017.81121",
        "wires": [
            [
                "c028438.b008bc",
                "225c2fa8.b622f"
            ]
        ]
    },
    {
        "id": "f846017e.0f7b7",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for silentFailure='true' index='db-rel-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2193.976348876953,
        "y": 4110.794255256653,
        "z": "2d523017.81121",
        "wires": [
            [
                "3979a64c.84ab9a"
            ]
        ]
    },
    {
        "id": "c028438.b008bc",
        "type": "outcome",
        "name": "cloud-region",
        "xml": "<outcome value='cloud-region'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2733.9765243530273,
        "y": 4079.365619659424,
        "z": "2d523017.81121",
        "wires": [
            [
                "24abd19e.88186e"
            ]
        ]
    },
    {
        "id": "24abd19e.88186e",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2931.11922454834,
        "y": 4079.794087409973,
        "z": "2d523017.81121",
        "wires": [
            [
                "6e6e70c9.1f47f"
            ]
        ]
    },
    {
        "id": "6e6e70c9.1f47f",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3162.547824859619,
        "y": 4079.3654623031616,
        "z": "2d523017.81121",
        "wires": [
            [
                "41f73a04.000a34"
            ]
        ]
    },
    {
        "id": "41f73a04.000a34",
        "type": "outcome",
        "name": "cloud-region.cloud-region-id",
        "xml": "<outcome value='cloud-region.cloud-region-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3403.976390838623,
        "y": 4079.3655586242676,
        "z": "2d523017.81121",
        "wires": [
            [
                "ec6b1424.dae298"
            ]
        ]
    },
    {
        "id": "ec6b1424.dae298",
        "type": "switchNode",
        "name": "switch relationship-value == cloud-region-id",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value == $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3708.262310028076,
        "y": 4079.22261428833,
        "z": "2d523017.81121",
        "wires": [
            [
                "76d1c220.996b9c"
            ]
        ]
    },
    {
        "id": "76d1c220.996b9c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3413.2624473571777,
        "y": 4196.865568161011,
        "z": "2d523017.81121",
        "wires": [
            [
                "1de3d6a.5295a29"
            ]
        ]
    },
    {
        "id": "7e1ee9f5.bc8198",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1228.0954284667969,
        "y": 4015.270573616028,
        "z": "2d523017.81121",
        "wires": [
            [
                "c7e1c13d.03db5",
                "85730c77.85f6e"
            ]
        ]
    },
    {
        "id": "c6001282.4b6e1",
        "type": "set",
        "name": "set l3-network-id = -1",
        "xml": "<set>\n<parameter name='l3-network-id' value='-1' />\n",
        "comments": "",
        "x": 1272.4287872314453,
        "y": 3887.175227165222,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "1de3d6a.5295a29",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3559.0954246520996,
        "y": 4196.341676712036,
        "z": "2d523017.81121",
        "wires": [
            [
                "f676c278.1ddf2",
                "6ee99534.f9db3c",
                "133789d2.fbdb36"
            ]
        ]
    },
    {
        "id": "f676c278.1ddf2",
        "type": "set",
        "name": "set l3-network-id = this l3-network",
        "xml": "<set>\n<parameter name='l3-network-id' value='`$aai.l3-network.l3-network[$db-network-index].network-id`' />\n",
        "comments": "",
        "x": 3794.333427429199,
        "y": 4158.484645843506,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "ea99e7e9.ed0b98",
        "type": "switchNode",
        "name": "switch l3-network-id",
        "xml": "<switch test='`$l3-network-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1269.4287109375,
        "y": 4210.842268943787,
        "z": "2d523017.81121",
        "wires": [
            [
                "8b18bc8b.1ecc5"
            ]
        ]
    },
    {
        "id": "8b18bc8b.1ecc5",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1439.4286613464355,
        "y": 4210.842024803162,
        "z": "2d523017.81121",
        "wires": [
            [
                "d03cff5b.4eae8"
            ]
        ]
    },
    {
        "id": "ab296e58.94c7",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 575.6192016601562,
        "y": 2517.7856969833374,
        "z": "2d523017.81121",
        "wires": [
            [
                "a6d2444d.170f18",
                "d0c4e96a.f0e598"
            ]
        ]
    },
    {
        "id": "a6d2444d.170f18",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 781.2858734130859,
        "y": 2494.9286603927612,
        "z": "2d523017.81121",
        "wires": [
            [
                "56b5f776.c4c628"
            ]
        ]
    },
    {
        "id": "d0c4e96a.f0e598",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 782.714469909668,
        "y": 2539.2142515182495,
        "z": "2d523017.81121",
        "wires": [
            [
                "53133cb6.18d844"
            ]
        ]
    },
    {
        "id": "53133cb6.18d844",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 937.0002059936523,
        "y": 2538.6428236961365,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "6f1bca5a.057ce4",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$db.vf-model.uuid`' />\n",
        "comments": "",
        "x": 932.7143974304199,
        "y": 2583.4999294281006,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "8dc1e7e0.9d5668",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 548.2382202148438,
        "y": 2606.3244342803955,
        "z": "2d523017.81121",
        "wires": [
            [
                "8002dd41.ae1f",
                "896eccc9.b25eb"
            ]
        ]
    },
    {
        "id": "8002dd41.ae1f",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 782.2381935119629,
        "y": 2583.467366218567,
        "z": "2d523017.81121",
        "wires": [
            [
                "6f1bca5a.057ce4"
            ]
        ]
    },
    {
        "id": "896eccc9.b25eb",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 783.6667900085449,
        "y": 2627.752957344055,
        "z": "2d523017.81121",
        "wires": [
            [
                "17701e26.510582"
            ]
        ]
    },
    {
        "id": "17701e26.510582",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 937.9525260925293,
        "y": 2627.181529521942,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "b6fbf29a.0df09",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$db.vf-model.version`' />\n",
        "comments": "",
        "x": 929.8573303222656,
        "y": 2672.3571367263794,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "d03eeca7.23711",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 556.3810920715332,
        "y": 2695.1815814971924,
        "z": "2d523017.81121",
        "wires": [
            [
                "6aa27ca4.a61d34",
                "1ae6e106.ea9c7f"
            ]
        ]
    },
    {
        "id": "6aa27ca4.a61d34",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 779.3810768127441,
        "y": 2672.324543952942,
        "z": "2d523017.81121",
        "wires": [
            [
                "b6fbf29a.0df09"
            ]
        ]
    },
    {
        "id": "1ae6e106.ea9c7f",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 780.8096733093262,
        "y": 2716.61013507843,
        "z": "2d523017.81121",
        "wires": [
            [
                "56c362db.13020c"
            ]
        ]
    },
    {
        "id": "56c362db.13020c",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-version'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 935.0954093933105,
        "y": 2716.038707256317,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "9fcfee3c.f2226",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$db.vf-model.name`' />\n",
        "comments": "",
        "x": 929.8573303222656,
        "y": 2759.4999589920044,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "494fd3fe.881b4c",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 551.3810920715332,
        "y": 2782.3244037628174,
        "z": "2d523017.81121",
        "wires": [
            [
                "3f7d112e.5f72ee",
                "6e803b0d.a54dc4"
            ]
        ]
    },
    {
        "id": "3f7d112e.5f72ee",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 779.3810768127441,
        "y": 2759.467366218567,
        "z": "2d523017.81121",
        "wires": [
            [
                "9fcfee3c.f2226"
            ]
        ]
    },
    {
        "id": "6e803b0d.a54dc4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 780.8096733093262,
        "y": 2803.752957344055,
        "z": "2d523017.81121",
        "wires": [
            [
                "9d0420e8.1e34b"
            ]
        ]
    },
    {
        "id": "9d0420e8.1e34b",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-name'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 935.0954093933105,
        "y": 2803.181529521942,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "bcc48c45.57047",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2204.3333892822266,
        "y": 4060.9997749328613,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "8306b63a.7a6a88",
        "type": "outcome",
        "name": "PendingDelete",
        "xml": "<outcome value='PendingDelete'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2049.000030517578,
        "y": 4015.999689102173,
        "z": "2d523017.81121",
        "wires": [
            [
                "ea893bb0.586278"
            ]
        ]
    },
    {
        "id": "ea893bb0.586278",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2204.214122772217,
        "y": 4016.776566505432,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "a5969f85.edad",
        "type": "outcome",
        "name": "Pending Create",
        "xml": "<outcome value='Pending Create'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2051.000030517578,
        "y": 3972.666193008423,
        "z": "2d523017.81121",
        "wires": [
            [
                "bab4140b.02b308"
            ]
        ]
    },
    {
        "id": "bab4140b.02b308",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2204.214122772217,
        "y": 3973.443070411682,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "84ce6f22.6e9ac",
        "type": "outcome",
        "name": "PendingCreate",
        "xml": "<outcome value='PendingCreate'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2051.000030517578,
        "y": 3929.332941055298,
        "z": "2d523017.81121",
        "wires": [
            [
                "fc3367.845aac98"
            ]
        ]
    },
    {
        "id": "fc3367.845aac98",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2204.214122772217,
        "y": 3930.109818458557,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "a129d9ae.667dd8",
        "type": "for",
        "name": "for each A&AI subnet",
        "xml": "<for index='subnet-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1737.3810577392578,
        "y": 4350.047110080719,
        "z": "2d523017.81121",
        "wires": [
            [
                "26e050ad.0575e"
            ]
        ]
    },
    {
        "id": "84d519bc.318478",
        "type": "set",
        "name": "set subnet_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`' />\n",
        "comments": "",
        "x": 1726.047622680664,
        "y": 4395.04719209671,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "31dc7765.4b4208",
        "type": "set",
        "name": "set availability-zones.max-count and length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.max-count'\n   value='`$db.vf-model.avail-zone-max-count`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.availability-zones.availability-zone_length'\n   value='`$aai.cloud-region.availability-zones.availability-zone_length`' />\n",
        "comments": "",
        "x": 511.66682052612305,
        "y": 5594.547995567322,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "ae22f7f9.632468",
        "type": "set",
        "name": "set vnf-name",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name'\n   value='`$tmp.vnf-name`' />\n",
        "comments": "",
        "x": 512.5000152587891,
        "y": 2451.8334608078003,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "530dfe10.6f29",
        "type": "save",
        "name": "update generic-vnf",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vnf-name\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name`\" />\n<parameter name=\"prov-status\" value=\"PREPROV\" />\n<!-- <parameter name=\"operational-status\" value=\"out-of-service-path\" /> -->\n<parameter name=\"equipment-role\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.nf-role`\" />\n<parameter name=\"model-invariant-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"selflink\" value=\"`$vnf-object-path`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 432.0000877380371,
        "y": 5804.213758468628,
        "z": "2d523017.81121",
        "wires": [
            [
                "8c964a5c.697478",
                "9e7283af.92a1c"
            ]
        ]
    },
    {
        "id": "2f250d1f.126482",
        "type": "set",
        "name": "set vnf-object-path",
        "xml": "<set>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vnf-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 432.00012588500977,
        "y": 5734.214241027832,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "3c27d937.bf75c6",
        "type": "set",
        "name": "set vnf-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-id'\n   value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n",
        "comments": "",
        "x": 500.83335876464844,
        "y": 2403.5000038146973,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "6ae8e0f.7c6952",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnf.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 406.51210021972656,
        "y": 6370.226758003235,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "72e530eb.ef2a9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1168.0241317749023,
        "y": 5627.833315849304,
        "z": "2d523017.81121",
        "wires": [
            [
                "1d23943a.cc401c"
            ]
        ]
    },
    {
        "id": "560ad615.6ebaf8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1176.5955619812012,
        "y": 5672.119029045105,
        "z": "2d523017.81121",
        "wires": [
            [
                "48b115c8.09c9bc"
            ]
        ]
    },
    {
        "id": "8c964a5c.697478",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 606.3574180603027,
        "y": 5782.833353996277,
        "z": "2d523017.81121",
        "wires": [
            [
                "b5f5454e.605518"
            ]
        ]
    },
    {
        "id": "9e7283af.92a1c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 614.9288482666016,
        "y": 5827.119067192078,
        "z": "2d523017.81121",
        "wires": [
            [
                "fb7909b7.07d3a8"
            ]
        ]
    },
    {
        "id": "dfdec27.324004",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.onap-model-information.model-customization-uuid'\n  value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 564.1666793823242,
        "y": 2855.1666078567505,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f7d7f0fa.89cd2",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1386.357063293457,
        "y": 2975.1517295837402,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "f1d0780c.c74608",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1172.0237655639648,
        "y": 3021.8185176849365,
        "z": "2d523017.81121",
        "wires": [
            [
                "f7d7f0fa.89cd2",
                "49d47361.e5235c",
                "68e794dc.43eb9c"
            ]
        ]
    },
    {
        "id": "68e794dc.43eb9c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1356.0237274169922,
        "y": 3065.1518144607544,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "b2e77d6f.5c88e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 743.6667594909668,
        "y": 5505.628111839294,
        "z": "2d523017.81121",
        "wires": [
            [
                "cab1cdc0.80552",
                "2c7d624d.a1567e"
            ]
        ]
    },
    {
        "id": "2c7d624d.a1567e",
        "type": "save",
        "name": "save generic-vnf availability-zone relationship",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"availability-zone\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-key\" value=\"cloud-region.cloud-owner\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[0].relationship-value\" value=\"`$prop.cloud-region.cloud-owner`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-key\" value=\"cloud-region.cloud-region-id\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[1].relationship-value\" value=\"`$vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-key\" value=\"availability-zone.availability-zone-name\" />\n    <parameter name=\"relationship-list.relationship[0].relationship-data[2].relationship-value\" value=\"`$aai.cloud-region.availability-zones.availability-zone[$idx].availability-zone-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1037.0001487731934,
        "y": 5528.9615659713745,
        "z": "2d523017.81121",
        "wires": [
            [
                "7e45c7a1.1fc228",
                "7cb74929.a6a798"
            ]
        ]
    },
    {
        "id": "7e45c7a1.1fc228",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1301.8334007263184,
        "y": 5509.833388328552,
        "z": "2d523017.81121",
        "wires": [
            [
                "ac3d2a38.193128"
            ]
        ]
    },
    {
        "id": "7cb74929.a6a798",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.4048309326172,
        "y": 5554.119101524353,
        "z": "2d523017.81121",
        "wires": [
            [
                "edd6eeb3.58833"
            ]
        ]
    },
    {
        "id": "4f0a7869.c1d018",
        "type": "set",
        "name": "set mapping rows to 0",
        "xml": "<set>\n<parameter name='db.vf-network-role-mapping_length' value='0' />\n",
        "comments": "",
        "x": 1122.9761505126953,
        "y": 3269.437578201294,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "dc580d36.feec6",
        "type": "switchNode",
        "name": "switch AAI availability-zone_length",
        "xml": "<switch test='`$aai.cloud-region.availability-zones.availability-zone_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 484.381046295166,
        "y": 5409.437698364258,
        "z": "2d523017.81121",
        "wires": [
            [
                "65cd03d3.cd933c"
            ]
        ]
    },
    {
        "id": "65cd03d3.cd933c",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 702.952465057373,
        "y": 5409.009107589722,
        "z": "2d523017.81121",
        "wires": [
            [
                "5cdda0db.c6c79"
            ]
        ]
    },
    {
        "id": "55344fcf.542e2",
        "type": "set",
        "name": "set availability-zone_length to 0",
        "xml": "<set>\n<parameter name='aai.cloud-region.availability-zones.availability-zone_length' value='0' />\n",
        "comments": "",
        "x": 1304.3811073303223,
        "y": 5427.580345153809,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "5cdda0db.c6c79",
        "type": "switchNode",
        "name": "switch AZ max count > 0",
        "xml": "<switch test='`$db.vf-model.avail-zone-max-count &gt; 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 891.5239372253418,
        "y": 5409.43741941452,
        "z": "2d523017.81121",
        "wires": [
            [
                "689f8ebb.877dd",
                "dd9a3b97.b39268"
            ]
        ]
    },
    {
        "id": "689f8ebb.877dd",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1094.3810443878174,
        "y": 5383.723169326782,
        "z": "2d523017.81121",
        "wires": [
            [
                "63585eee.6f434"
            ]
        ]
    },
    {
        "id": "dd9a3b97.b39268",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1095.8096656799316,
        "y": 5428.008916854858,
        "z": "2d523017.81121",
        "wires": [
            [
                "55344fcf.542e2"
            ]
        ]
    },
    {
        "id": "2bc8145e.9e6d7c",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 522.2024078369141,
        "y": 188.4255886077881,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "794a160e.b68c48",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 729.2857055664062,
        "y": 1853.2470073699951,
        "z": "2d523017.81121",
        "wires": [
            [
                "8d68e064.9148"
            ]
        ]
    },
    {
        "id": "b4c0271b.8d9548",
        "type": "switchNode",
        "name": "switch ecomp-naming",
        "xml": "<switch test='`$db.vf-model.ecomp-generated-naming`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1106.9050941467285,
        "y": 1753.961443901062,
        "z": "2d523017.81121",
        "wires": [
            [
                "1882b0bf.c2311f",
                "2eeee2ce.d551be",
                "b8c05ccb.47683"
            ]
        ]
    },
    {
        "id": "8d68e064.9148",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 875.0002059936523,
        "y": 1853.247124671936,
        "z": "2d523017.81121",
        "wires": [
            [
                "b4c0271b.8d9548",
                "2febaea8.95a862"
            ]
        ]
    },
    {
        "id": "2eeee2ce.d551be",
        "type": "outcome",
        "name": "N",
        "xml": "<outcome value='N'>",
        "comments": "",
        "outputs": 1,
        "x": 1293.333480834961,
        "y": 1754.4375705718994,
        "z": "2d523017.81121",
        "wires": [
            [
                "da3712d9.f41f4"
            ]
        ]
    },
    {
        "id": "1882b0bf.c2311f",
        "type": "outcome",
        "name": "Y",
        "xml": "<outcome value='Y'>",
        "comments": "",
        "outputs": 1,
        "x": 1293.3334732055664,
        "y": 1713.0090246200562,
        "z": "2d523017.81121",
        "wires": [
            [
                "18523eea.6d6ad1"
            ]
        ]
    },
    {
        "id": "b8c05ccb.47683",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1293.3334197998047,
        "y": 1797.2947025299072,
        "z": "2d523017.81121",
        "wires": [
            [
                "da3712d9.f41f4"
            ]
        ]
    },
    {
        "id": "18523eea.6d6ad1",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1430.476390838623,
        "y": 1713.151891708374,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "109f5318.f22f2d",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 714.476432800293,
        "y": 2207.866183280945,
        "z": "2d523017.81121",
        "wires": [
            [
                "fa97f7fa.540fd8"
            ]
        ]
    },
    {
        "id": "fa97f7fa.540fd8",
        "type": "set",
        "name": "set tmp.vnf-name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value=\"`$vnf-topology-operation-input.vnf-information.vnf-name`\" />\n",
        "comments": "",
        "x": 880.238395690918,
        "y": 2206.7234535217285,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "8d7fa952.98d108",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:generate-unique-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='generate-unique-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1765.3096733093262,
        "y": 1903.0089440345764,
        "z": "2d523017.81121",
        "wires": [
            [
                "681ac6a0.a11838",
                "f4abec22.90002"
            ]
        ]
    },
    {
        "id": "681ac6a0.a11838",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2042.4524765014648,
        "y": 1876.5804772377014,
        "z": "2d523017.81121",
        "wires": [
            [
                "6d7f13cc.8d975c"
            ]
        ]
    },
    {
        "id": "f4abec22.90002",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047.2142219543457,
        "y": 1921.9613881111145,
        "z": "2d523017.81121",
        "wires": [
            [
                "f9e4fa65.eb0968"
            ]
        ]
    },
    {
        "id": "b5dba753.21ae88",
        "type": "set",
        "name": "set variables for generating unique name",
        "xml": "<set>\n<parameter name='generate-unique-name-input.action' value='ASSIGN' />\n<parameter name='generate-unique-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='generate-unique-name-input.index-table-name' value='VNF_NAME_INDEX' />\n<parameter name='generate-unique-name-input.index-table-prefix-column' value='vnf_name_prefix' />\n<parameter name='generate-unique-name-input.name-table-type' value='VNF_INSTANCE' />\n<parameter name='generate-unique-name-input.prefix' value=\"`'z' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region + $db.vf-model.nf-code`\" />\n",
        "comments": "",
        "x": 1720.3099250793457,
        "y": 1854.1042637825012,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f9e4fa65.eb0968",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$generate-unique-name-output.generated-name`' />\n",
        "comments": "",
        "x": 2270.1186180114746,
        "y": 1921.4374632835388,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "2febaea8.95a862",
        "type": "switchNode",
        "name": "switch naming-policy",
        "xml": "<switch test='`$db.vf-model.naming-policy`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1104.6906776428223,
        "y": 1962.2470607757568,
        "z": "2d523017.81121",
        "wires": [
            [
                "8f7b27bf.e7e3a8",
                "b931038a.dea97"
            ]
        ]
    },
    {
        "id": "8f7b27bf.e7e3a8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1294.6906089782715,
        "y": 1883.675615310669,
        "z": "2d523017.81121",
        "wires": [
            [
                "1ce185e2.fb229a"
            ]
        ]
    },
    {
        "id": "b931038a.dea97",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1294.9288482666016,
        "y": 2011.056559562683,
        "z": "2d523017.81121",
        "wires": [
            [
                "42c58d7a.bc5884"
            ]
        ]
    },
    {
        "id": "1ce185e2.fb229a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1447.5478782653809,
        "y": 1882.2470817565918,
        "z": "2d523017.81121",
        "wires": [
            [
                "b5dba753.21ae88",
                "8d7fa952.98d108"
            ]
        ]
    },
    {
        "id": "17d076a4.213ab9",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1786.595802307129,
        "y": 2026.7709412574768,
        "z": "2d523017.81121",
        "wires": [
            [
                "7ca77e3f.200f2",
                "edded880.2d4e08"
            ]
        ]
    },
    {
        "id": "42c58d7a.bc5884",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1449.4526977539062,
        "y": 2011.056559562683,
        "z": "2d523017.81121",
        "wires": [
            [
                "9ce0b71c.18bda8",
                "17d076a4.213ab9"
            ]
        ]
    },
    {
        "id": "9ce0b71c.18bda8",
        "type": "set",
        "name": "set variables for generating name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$db.vf-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`' />",
        "comments": "",
        "x": 1696.595718383789,
        "y": 1981.05659532547,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "efe8f3b.6be4a1",
        "type": "set",
        "name": "set tmp.vnf-name to generated name",
        "xml": "<set>\n<parameter name='tmp.vnf-name' value='`$naming-policy-generate-name-output.vnf-name`' />\n",
        "comments": "",
        "x": 2346.4527740478516,
        "y": 2046.770751953125,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f54d4b54.f29d58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1912.7142639160156,
        "y": 6493.819259643555,
        "z": "2d523017.81121",
        "wires": [
            [
                "a406d4bc.916068",
                "9c453248.1f195",
                "d27d64fe.c0c2c8",
                "71ce4538.3940fc"
            ]
        ]
    },
    {
        "id": "7ca77e3f.200f2",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2084.761848449707,
        "y": 2001.6994485855103,
        "z": "2d523017.81121",
        "wires": [
            [
                "702e58b3.200b38"
            ]
        ]
    },
    {
        "id": "edded880.2d4e08",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2089.523593902588,
        "y": 2047.0803594589233,
        "z": "2d523017.81121",
        "wires": [
            [
                "efe8f3b.6be4a1"
            ]
        ]
    },
    {
        "id": "8e72cfc8.575e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 739.9999465942383,
        "y": 1356.666666984558,
        "z": "2d523017.81121",
        "wires": [
            [
                "46dd139e.86081c",
                "761b2c43.67ef34"
            ]
        ]
    },
    {
        "id": "87cefff2.af896",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 523.3332939147949,
        "y": 1357.333312034607,
        "z": "2d523017.81121",
        "wires": [
            [
                "8e72cfc8.575e"
            ]
        ]
    },
    {
        "id": "46dd139e.86081c",
        "type": "get-resource",
        "name": "get-resource instance-group",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"instance-group\" \n\t\tkey=\"instance-group.id = $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\"\n        pfx='aai.instance-group' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 967.9999847412109,
        "y": 1288.3334255218506,
        "z": "2d523017.81121",
        "wires": [
            [
                "113b83c3.c5f2cc",
                "1095d6a8.eb1ea9"
            ]
        ]
    },
    {
        "id": "1095d6a8.eb1ea9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1185.5792770385742,
        "y": 1319.8174781799316,
        "z": "2d523017.81121",
        "wires": [
            [
                "6b5b96d7.f11058"
            ]
        ]
    },
    {
        "id": "113b83c3.c5f2cc",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1194.5081100463867,
        "y": 1256.4366302490234,
        "z": "2d523017.81121",
        "wires": [
            [
                "3d4ce14c.b56fbe"
            ]
        ]
    },
    {
        "id": "761b2c43.67ef34",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$aai.instance-group.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 944.9999618530273,
        "y": 1428.3333644866943,
        "z": "2d523017.81121",
        "wires": [
            [
                "ef07f13d.87a9"
            ]
        ]
    },
    {
        "id": "ef07f13d.87a9",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.instance-group.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1158.3334045410156,
        "y": 1428.333303451538,
        "z": "2d523017.81121",
        "wires": [
            [
                "df5b0cc3.ccd9a"
            ]
        ]
    },
    {
        "id": "df5b0cc3.ccd9a",
        "type": "outcome",
        "name": "collection",
        "xml": "<outcome value='collection'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1330.00004196167,
        "y": 1428.3333854675293,
        "z": "2d523017.81121",
        "wires": [
            [
                "98da2133.07fbe"
            ]
        ]
    },
    {
        "id": "98da2133.07fbe",
        "type": "get-resource",
        "name": "get-resource collection",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"collection\" \n\t\tkey=\"collection.collection-id = $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\"\n        pfx='aai.collection' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1549.9999465942383,
        "y": 1426.6666469573975,
        "z": "2d523017.81121",
        "wires": [
            [
                "c6ab56ad.e1e918",
                "c4f813df.f6eb3",
                "fa511cd0.4acf7"
            ]
        ]
    },
    {
        "id": "c4f813df.f6eb3",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1764.2461395263672,
        "y": 1378.1508359909058,
        "z": "2d523017.81121",
        "wires": [
            [
                "1cfc4c24.ab0124"
            ]
        ]
    },
    {
        "id": "c6ab56ad.e1e918",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1773.1747360229492,
        "y": 1336.4365692138672,
        "z": "2d523017.81121",
        "wires": [
            [
                "75f0b66c.711368"
            ]
        ]
    },
    {
        "id": "fa511cd0.4acf7",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1783.33345413208,
        "y": 1539.9999542236328,
        "z": "2d523017.81121",
        "wires": [
            [
                "2caf3e47.5abe82"
            ]
        ]
    },
    {
        "id": "2caf3e47.5abe82",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1936.6665954589844,
        "y": 1539.3332500457764,
        "z": "2d523017.81121",
        "wires": [
            [
                "889214a0.071c58",
                "61c009cd.371838",
                "1b8b156c.6c083b",
                "79b15187.90b49",
                "67373c69.98b004"
            ]
        ]
    },
    {
        "id": "889214a0.071c58",
        "type": "for",
        "name": "for each network-instance-group",
        "xml": "<for silentFailure='true' index='nig-index' start='0' end='`$service-data.network-instance-groups.network-instance-group_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2249.2857360839844,
        "y": 1488.5715045928955,
        "z": "2d523017.81121",
        "wires": [
            [
                "64d1075e.ee3f48"
            ]
        ]
    },
    {
        "id": "61c009cd.371838",
        "type": "set",
        "name": "set found-network-instance-group to false",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='false' />\n",
        "comments": "",
        "x": 2279.2856979370117,
        "y": 1441.9048767089844,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "64d1075e.ee3f48",
        "type": "switchNode",
        "name": "network-instance-group-id matches?",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n  == $service-data.network-instance-groups.network-instance-group[$nig-index].network-instance-group-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2565.952247619629,
        "y": 1488.5715036392212,
        "z": "2d523017.81121",
        "wires": [
            [
                "e14a30ad.b266"
            ]
        ]
    },
    {
        "id": "e14a30ad.b266",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2787.619026184082,
        "y": 1488.5714683532715,
        "z": "2d523017.81121",
        "wires": [
            [
                "338a6e83.74e682"
            ]
        ]
    },
    {
        "id": "338a6e83.74e682",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2917.61905670166,
        "y": 1488.5715446472168,
        "z": "2d523017.81121",
        "wires": [
            [
                "b65b391.a6cd9c8",
                "5a856f0a.aefef"
            ]
        ]
    },
    {
        "id": "b65b391.a6cd9c8",
        "type": "set",
        "name": "set found-network-instance-group to true",
        "xml": "<set>\n<parameter name='found-network-instance-group' value='true' />\n",
        "comments": "",
        "x": 3190.952423095703,
        "y": 1463.5715236663818,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "5a856f0a.aefef",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3084.2860374450684,
        "y": 1511.904893875122,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "1b8b156c.6c083b",
        "type": "switchNode",
        "name": "switch found-network-instance-group",
        "xml": "<switch test='`$found-network-instance-group`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2260.9523544311523,
        "y": 1538.5714855194092,
        "z": "2d523017.81121",
        "wires": [
            [
                "49805ef2.194a"
            ]
        ]
    },
    {
        "id": "49805ef2.194a",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2482.6192016601562,
        "y": 1538.5715079307556,
        "z": "2d523017.81121",
        "wires": [
            [
                "a3ec7ac.ac12b88"
            ]
        ]
    },
    {
        "id": "9e4b2f5.d8554d",
        "type": "set",
        "name": "set tmp.vnf-network-collection_length to 0",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='0' />\n",
        "comments": "",
        "x": 571.666633605957,
        "y": 1308.3334436416626,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "79b15187.90b49",
        "type": "set",
        "name": "set vnf-network-collection data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-function'\n  value='`$aai.instance-group.instance-group-function`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-instance-group-id'\n  value='`$aai.instance-group.id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-service-instance-id'\n  value='`$service-data.network-instance-groups.network-instance-group[$nig-index].service-instance-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection[$tmp.vnf-network-collection_length].network-collection-customization-uuid'\n  value='`$aai.collection.collection-customization-id`' />\n",
        "comments": "",
        "x": 2240.95267868042,
        "y": 1586.904821395874,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "67373c69.98b004",
        "type": "set",
        "name": "increment tmp.vnf-network-collection_length",
        "xml": "<set>\n<parameter name='tmp.vnf-network-collection_length' value='`$tmp.vnf-network-collection_length + 1`' />\n",
        "comments": "",
        "x": 2282.619384765625,
        "y": 1633.5714893341064,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "5563a4c5.a199ec",
        "type": "set",
        "name": "set vnf-network-collection_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-network-collections.vnf-network-collection_length'\n  value='`$tmp.vnf-network-collection_length`' />\n",
        "comments": "",
        "x": 550.8333282470703,
        "y": 1565.8333930969238,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "a9b7ab72.63a7e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 668.6667098999023,
        "y": 5898.80961894989,
        "z": "2d523017.81121",
        "wires": [
            [
                "f0f08819.d9d3b8"
            ]
        ]
    },
    {
        "id": "97421a9a.865f98",
        "type": "for",
        "name": "for each instance group id",
        "xml": "<for silentFailure='true' index='inst-group-index' start='0' end='`$vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 452.000057220459,
        "y": 5899.476263999939,
        "z": "2d523017.81121",
        "wires": [
            [
                "a9b7ab72.63a7e8"
            ]
        ]
    },
    {
        "id": "f0f08819.d9d3b8",
        "type": "save",
        "name": "save generic-vnf relationship to instance-group",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"generic-vnf:relationship-list\"\n   key=\"generic-vnf.vnf-id = $vnf-topology-operation-input.vnf-information.vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"instance-group\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/instance-groups/instance-group/'\n        + $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 952.0000381469727,
        "y": 5898.333299636841,
        "z": "2d523017.81121",
        "wires": [
            [
                "7a8ee12f.371a6",
                "1be782fa.92bfcd"
            ]
        ]
    },
    {
        "id": "7a8ee12f.371a6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1211.3572616577148,
        "y": 5875.285715103149,
        "z": "2d523017.81121",
        "wires": [
            [
                "b5b87fb0.590f"
            ]
        ]
    },
    {
        "id": "1be782fa.92bfcd",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1219.9286918640137,
        "y": 5919.57142829895,
        "z": "2d523017.81121",
        "wires": [
            [
                "610d2304.a3d70c"
            ]
        ]
    },
    {
        "id": "c41b6137.b6d4b",
        "type": "switchNode",
        "name": "switch subnet_length",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1273.5714569091797,
        "y": 4331.428667068481,
        "z": "2d523017.81121",
        "wires": [
            [
                "f2057e5e.eaee4",
                "f813a06e.cb2a1",
                "ce347497.746558"
            ]
        ]
    },
    {
        "id": "f2057e5e.eaee4",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1446.4286193847656,
        "y": 4294.285726547241,
        "z": "2d523017.81121",
        "wires": [
            [
                "82fb5a4d.e1f5b8"
            ]
        ]
    },
    {
        "id": "f813a06e.cb2a1",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1447.8571891784668,
        "y": 4332.856889724731,
        "z": "2d523017.81121",
        "wires": [
            [
                "82fb5a4d.e1f5b8"
            ]
        ]
    },
    {
        "id": "ce347497.746558",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1446.428653717041,
        "y": 4371.428281784058,
        "z": "2d523017.81121",
        "wires": [
            [
                "7cc4f5b7.8976ac"
            ]
        ]
    },
    {
        "id": "7cc4f5b7.8976ac",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1567.8572082519531,
        "y": 4371.428548812866,
        "z": "2d523017.81121",
        "wires": [
            [
                "a129d9ae.667dd8",
                "84d519bc.318478"
            ]
        ]
    },
    {
        "id": "82fb5a4d.e1f5b8",
        "type": "set",
        "name": "set subnet_length to 0",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data_length'\n   value='0' />\n",
        "comments": "",
        "x": 1639.2858123779297,
        "y": 4302.856889724731,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "9ab83872.914ab8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 256.7460632324219,
        "y": 368.11908626556396,
        "z": "2d523017.81121",
        "wires": [
            [
                "2bc8145e.9e6d7c",
                "49a698b9.947698",
                "ade9f393.c1d96",
                "36f653c4.5383bc",
                "16470885.0e3b37",
                "1caeb411.8cfeac",
                "fe102b69.7b64c8"
            ]
        ]
    },
    {
        "id": "26e050ad.0575e",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1909.047664642334,
        "y": 4350.032744407654,
        "z": "2d523017.81121",
        "wires": [
            [
                "6613870.b132378",
                "722310bb.9f769",
                "9fd39f7.3cbf46",
                "d3095f31.7d4de"
            ]
        ]
    },
    {
        "id": "8dc14ff8.fbd57",
        "type": "set",
        "name": "clear aai.l3-network",
        "xml": "<set>\n<parameter name='aai.l3-network.' value='' />\n",
        "comments": "",
        "x": 1260.4762344360352,
        "y": 3404.3182973861694,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "6ee99534.f9db3c",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3709.3330459594727,
        "y": 4250.032426834106,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "85730c77.85f6e",
        "type": "set",
        "name": "set found-network to false",
        "xml": "<set>\n<parameter name='found-network' value='false' />\n",
        "comments": "",
        "x": 1409.0476379394531,
        "y": 3955.7468309402466,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "3979a64c.84ab9a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2380.7619438171387,
        "y": 4110.032627105713,
        "z": "2d523017.81121",
        "wires": [
            [
                "d24ce0d7.c8619",
                "c4e4f6d8.6939d8"
            ]
        ]
    },
    {
        "id": "c4e4f6d8.6939d8",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2572.1904907226562,
        "y": 4140.032681465149,
        "z": "2d523017.81121",
        "wires": [
            [
                "8700444f.d17ae8"
            ]
        ]
    },
    {
        "id": "133789d2.fbdb36",
        "type": "set",
        "name": "set found-network to true",
        "xml": "<set>\n<parameter name='found-network' value='true' />\n",
        "comments": "",
        "x": 3765.047924041748,
        "y": 4204.3181076049805,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "8700444f.d17ae8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2740.7619819641113,
        "y": 4140.0326108932495,
        "z": "2d523017.81121",
        "wires": [
            [
                "4c345848.e3a208"
            ]
        ]
    },
    {
        "id": "4c345848.e3a208",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2870.762050628662,
        "y": 4138.604004859924,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "c1ed15e6.f88648",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1581.0476608276367,
        "y": 4083.7469053268433,
        "z": "2d523017.81121",
        "wires": [
            [
                "e75f10eb.ced4f",
                "be46946a.165bb8"
            ]
        ]
    },
    {
        "id": "be46946a.165bb8",
        "type": "switchNode",
        "name": "switch found-network",
        "xml": "<switch test='`$found-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1791.0476150512695,
        "y": 4155.746788978577,
        "z": "2d523017.81121",
        "wires": [
            [
                "2f6a30a5.92d22"
            ]
        ]
    },
    {
        "id": "2f6a30a5.92d22",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1959.6191062927246,
        "y": 4155.746718406677,
        "z": "2d523017.81121",
        "wires": [
            [
                "587b7976.a36108"
            ]
        ]
    },
    {
        "id": "587b7976.a36108",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2089.6191749572754,
        "y": 4154.318112373352,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "9fd39f7.3cbf46",
        "type": "set",
        "name": "set subnet data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].ip-version'\n   value='`$tmp.ip-version`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].neutron-subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].sdnc-subnet-id'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-role'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].subnet-name'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-name`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].network-start-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].network-start-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].gateway-address'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].gateway-address`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].cidr-mask'\n   value='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].cidr-mask`' />\n",
        "comments": "",
        "x": 2063.3334312438965,
        "y": 4380.714490890503,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "d3095f31.7d4de",
        "type": "switchNode",
        "name": "switch dhcp-enabled",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].dhcp-enabled`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2077.8572120666504,
        "y": 4433.557444572449,
        "z": "2d523017.81121",
        "wires": [
            [
                "a8c627c.ce253d8",
                "39879203.ca3c2e"
            ]
        ]
    },
    {
        "id": "a8c627c.ce253d8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2240.714376722063,
        "y": 4412.1288022994995,
        "z": "2d523017.81121",
        "wires": [
            [
                "85e1593a.3a1828"
            ]
        ]
    },
    {
        "id": "39879203.ca3c2e",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.2857093811035,
        "y": 4457.843228340149,
        "z": "2d523017.81121",
        "wires": [
            [
                "d7a92919.2d05e8"
            ]
        ]
    },
    {
        "id": "85e1593a.3a1828",
        "type": "set",
        "name": "set dhcp-enabled to Y",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='Y' />\n",
        "comments": "",
        "x": 2413.571575164795,
        "y": 4410.700198173523,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "d7a92919.2d05e8",
        "type": "set",
        "name": "set dhcp-enabled to N",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].subnets-data.subnet-data[$subnet-index].dhcp-enabled'\n   value='N' />\n",
        "comments": "",
        "x": 2410.714344024658,
        "y": 4457.843228340149,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "6613870.b132378",
        "type": "switchNode",
        "name": "switch subnet-role",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2078.333381652832,
        "y": 4262.605116844177,
        "z": "2d523017.81121",
        "wires": [
            [
                "75942d08.2adc24"
            ]
        ]
    },
    {
        "id": "75942d08.2adc24",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2244.999984741211,
        "y": 4262.604768753052,
        "z": "2d523017.81121",
        "wires": [
            [
                "4010a065.68c26"
            ]
        ]
    },
    {
        "id": "4010a065.68c26",
        "type": "set",
        "name": "set subnet-role to NONE",
        "xml": "<set>\n<parameter name='aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].subnet-role' value='NONE' />\n",
        "comments": "",
        "x": 2426.6667709350586,
        "y": 4261.93842124939,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "722310bb.9f769",
        "type": "switchNode",
        "name": "switch ip-version",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].subnets.subnet[$subnet-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2073.5717163085938,
        "y": 4327.096222877502,
        "z": "2d523017.81121",
        "wires": [
            [
                "5fa58662.2f38f8",
                "df8a7995.4fde48"
            ]
        ]
    },
    {
        "id": "5fa58662.2f38f8",
        "type": "outcome",
        "name": "4",
        "xml": "<outcome value='4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.285858154297,
        "y": 4308.524620056152,
        "z": "2d523017.81121",
        "wires": [
            [
                "5516675c.dd67e8"
            ]
        ]
    },
    {
        "id": "df8a7995.4fde48",
        "type": "outcome",
        "name": "6",
        "xml": "<outcome value='6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2239.285820007324,
        "y": 4349.953363418579,
        "z": "2d523017.81121",
        "wires": [
            [
                "f2e70afd.b8c238"
            ]
        ]
    },
    {
        "id": "5516675c.dd67e8",
        "type": "set",
        "name": "set tmp.ip-version to ipv4",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv4' />\n",
        "comments": "",
        "x": 2426.428623199463,
        "y": 4307.667547225952,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "f2e70afd.b8c238",
        "type": "set",
        "name": "set tmp.ip-version to ipv6",
        "xml": "<set>\n<parameter name='tmp.ip-version' value='ipv6' />\n",
        "comments": "",
        "x": 2425.000175476074,
        "y": 4349.953365325928,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "b7e5144f.5264b8",
        "type": "switchNode",
        "name": "switch network-role",
        "xml": "<switch test='`$db.vf-network-role-mapping[$role-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 705.9999084472656,
        "y": 4335.333273887634,
        "z": "2d523017.81121",
        "wires": [
            [
                "b3ca721f.fe335",
                "272dba83.a8aed6",
                "83078563.934988",
                "5dd2d1e7.b5782"
            ]
        ]
    },
    {
        "id": "b3ca721f.fe335",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 874.0951728820801,
        "y": 4233.66668510437,
        "z": "2d523017.81121",
        "wires": [
            [
                "15298732.e21cb9"
            ]
        ]
    },
    {
        "id": "272dba83.a8aed6",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.6665496826172,
        "y": 4361.999873161316,
        "z": "2d523017.81121",
        "wires": [
            [
                "fde1d716.a4a0e8"
            ]
        ]
    },
    {
        "id": "15298732.e21cb9",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1011.4761810302734,
        "y": 4273.42826461792,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "4e569933.c14918",
        "type": "get-resource",
        "name": "get-resource VNF_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VNF_RELATED_NETWORK_ROLE where vnf_customization_uuid = $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid\n    and network_role = $db.vf-network-role-mapping[$role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1368.0000038146973,
        "y": 4665.079788208008,
        "z": "2d523017.81121",
        "wires": [
            [
                "231fd20b.4ba7ee",
                "7d447ac2.636e24"
            ]
        ]
    },
    {
        "id": "231fd20b.4ba7ee",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1636.6666679382324,
        "y": 4495.746629714966,
        "z": "2d523017.81121",
        "wires": [
            [
                "c3080a54.9b9f68"
            ]
        ]
    },
    {
        "id": "7d447ac2.636e24",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1639.6666984558105,
        "y": 4858.41314125061,
        "z": "2d523017.81121",
        "wires": [
            [
                "75a86f84.f58c6"
            ]
        ]
    },
    {
        "id": "75a86f84.f58c6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1806.0000038146973,
        "y": 4856.412796020508,
        "z": "2d523017.81121",
        "wires": [
            [
                "ec2c65f9.047778",
                "ef924ba7.f37c58",
                "13bb35f5.a0401a",
                "e36fed30.43efa",
                "13a6411b.4f65df",
                "e8de30ac.6f904",
                "dc960591.08f438",
                "e90b4b31.6e7908",
                "56b41d87.a09d94"
            ]
        ]
    },
    {
        "id": "225c2fa8.b622f",
        "type": "outcome",
        "name": "service-instance",
        "xml": "<outcome value='service-instance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2744.285472869873,
        "y": 4028.651467323303,
        "z": "2d523017.81121",
        "wires": [
            [
                "99500da8.54e39"
            ]
        ]
    },
    {
        "id": "99500da8.54e39",
        "type": "for",
        "name": "for each relationship data",
        "xml": "<for silentFailure='true' index='db-data-index' start='0' end='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2969.7613105773926,
        "y": 4029.0800971984863,
        "z": "2d523017.81121",
        "wires": [
            [
                "ee0dc0db.eb114"
            ]
        ]
    },
    {
        "id": "ee0dc0db.eb114",
        "type": "switchNode",
        "name": "switch relationship-key",
        "xml": "<switch test='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-key`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3204.9998817443848,
        "y": 4027.413528442383,
        "z": "2d523017.81121",
        "wires": [
            [
                "d270b105.8ac1a"
            ]
        ]
    },
    {
        "id": "d270b105.8ac1a",
        "type": "outcome",
        "name": "service-instance.service-instance-id",
        "xml": "<outcome value='service-instance.service-instance-id'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3471.4282417297363,
        "y": 4027.413592338562,
        "z": "2d523017.81121",
        "wires": [
            [
                "bda20892.371be8"
            ]
        ]
    },
    {
        "id": "bda20892.371be8",
        "type": "set",
        "name": "set network-service-instance-id",
        "xml": "<set>\n<parameter name='network-service-instance-id'\n  value='`$aai.l3-network.l3-network[$db-network-index].relationship-list.relationship[$db-rel-index].relationship-data[$db-data-index].relationship-value`' />\n",
        "comments": "",
        "x": 3765.000026702881,
        "y": 4025.747007369995,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "ec2c65f9.047778",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.network-topology-identifier-structure`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$network-service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2125.3331718444824,
        "y": 4552.080429077148,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "13bb35f5.a0401a",
        "type": "execute",
        "name": "execute RestApiCallNode - get network-topology-identifier-structure",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.ntis-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-ntis\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 2182.33296585083,
        "y": 4655.509169578552,
        "z": "2d523017.81121",
        "wires": [
            [
                "3038b18e.e97b7e"
            ]
        ]
    },
    {
        "id": "ef924ba7.f37c58",
        "type": "execute",
        "name": "generate network-topology-identifier-structure url (part 2)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.ntis-url\"/>\n    <parameter name=\"target\" value=\"{network-id}\"/>\n    <parameter name=\"replacement\" value=\"`$l3-network-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 2146.9997596740723,
        "y": 4595.413772583008,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "59c331da.0d09b",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vnfa.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 452.33337783813477,
        "y": 4502.079788208008,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "3038b18e.e97b7e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2511.442153930664,
        "y": 4655.259647369385,
        "z": "2d523017.81121",
        "wires": [
            [
                "f361b5ff.f38548"
            ]
        ]
    },
    {
        "id": "e36fed30.43efa",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vnf-network",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].is-trunked'\n    value='`$mdsal-ntis.network-topology-identifier-structure.is-trunked`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].segmentation-id'\n    value='`$mdsal-ntis.network-topology-identifier-structure.segmentation-id`' />\n    ",
        "comments": "",
        "x": 2124.999988555908,
        "y": 4715.746793746948,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "e8de30ac.6f904",
        "type": "save",
        "name": "custom query: get owning entity",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.oe\">\n<parameter name=\"start[0]\" value=\"`'nodes/service-instances/service-instance?service-instance-id=' + $network-service-instance-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"/query/owning-entity-fromService-instance\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2065.9998817443848,
        "y": 4791.080276489258,
        "z": "2d523017.81121",
        "wires": [
            [
                "bb11fe98.9b1b9",
                "12e91c7e.074344"
            ]
        ]
    },
    {
        "id": "bb11fe98.9b1b9",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2276.2379302978516,
        "y": 4769.74663066864,
        "z": "2d523017.81121",
        "wires": [
            [
                "b897f854.8a4f58"
            ]
        ]
    },
    {
        "id": "12e91c7e.074344",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2283.3808250427246,
        "y": 4815.460855484009,
        "z": "2d523017.81121",
        "wires": [
            [
                "a1cce433.a5c9a8"
            ]
        ]
    },
    {
        "id": "eb288d10.2446b",
        "type": "save",
        "name": "custom query: get tenant network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n      resource=\"custom-query\"\n      key=\"format = 'resource'\"\n      force=\"true\"\n      local-only=\"false\"\n      pfx=\"tmp.AnAI-data.get-networks\">\n<parameter name=\"start[0]\" value=\"`'/business/owning-entities/owning-entity/' + $tmp.AnAI-data.oe.results[0].owning-entity.owning-entity-id `\" />\n<parameter name=\"start_length\" value=\"1\" />\n<parameter name=\"query\" value=\"`'/query/getNetworks?networkRole=' + $db.vnf-related-network-role[$rel-network-role-index].related-network-role\n  + '&amp;cloudRegionId=' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" /> \n",
        "comments": "",
        "outputs": 1,
        "x": 2515.6666984558105,
        "y": 4964.080413818359,
        "z": "2d523017.81121",
        "wires": [
            [
                "23ed24a4.2c91dc",
                "b4f16506.66bd08"
            ]
        ]
    },
    {
        "id": "23ed24a4.2c91dc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2728.9047470092773,
        "y": 4942.746912956238,
        "z": "2d523017.81121",
        "wires": [
            [
                "3e5e2886.704ec8"
            ]
        ]
    },
    {
        "id": "b4f16506.66bd08",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2736.0476417541504,
        "y": 4988.461137771606,
        "z": "2d523017.81121",
        "wires": [
            [
                "fb3762dd.d74d3"
            ]
        ]
    },
    {
        "id": "e2f76977.fea098",
        "type": "for",
        "name": "for each relationship",
        "xml": "<for index='rel-index' start='0' end='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2482.6666984558105,
        "y": 5090.0805587768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "586febb.af11914"
            ]
        ]
    },
    {
        "id": "586febb.af11914",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2680.6666984558105,
        "y": 5090.0805587768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "1b7b682d.5dd008"
            ]
        ]
    },
    {
        "id": "1b7b682d.5dd008",
        "type": "outcome",
        "name": "vlan-tag",
        "xml": "<outcome value='vlan-tag'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2850.6666984558105,
        "y": 5090.0805587768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "9b43a30b.ab1c1"
            ]
        ]
    },
    {
        "id": "9b43a30b.ab1c1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3018.6666984558105,
        "y": 5088.0805587768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "97d76a2c.076008",
                "47618d94.b0d374",
                "1bf4c98d.f9c076"
            ]
        ]
    },
    {
        "id": "97d76a2c.076008",
        "type": "set",
        "name": "set vlan-tag-id",
        "xml": "<set>\n<parameter name='vlan-tag-id' value='`$tmp.AnAI-data.get-networks.results[0].l3-network.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value`' />\n",
        "comments": "",
        "x": 3194.6666984558105,
        "y": 5048.0805587768555,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "47618d94.b0d374",
        "type": "get-resource",
        "name": "get-resource vlan-tag",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"vlan-tag\" \n\t\tkey=\"vlan-tag.vlan-tag-id = $vlan-tag-id\"\n        pfx='aai.vlan-tag' local-only='false'\n>\n",
        "comments": "",
        "outputs": 1,
        "x": 3216.6666984558105,
        "y": 5106.0805587768555,
        "z": "2d523017.81121",
        "wires": [
            [
                "1f2ba326.d9772d",
                "fbf7fa7c.23d608"
            ]
        ]
    },
    {
        "id": "1f2ba326.d9772d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3396.7143058776855,
        "y": 5088.2236251831055,
        "z": "2d523017.81121",
        "wires": [
            [
                "cf0cc9f2.e1c008"
            ]
        ]
    },
    {
        "id": "13a6411b.4f65df",
        "type": "for",
        "name": "for each related network role",
        "xml": "<for index='rel-network-role-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2053.6666297912598,
        "y": 5020.414123535156,
        "z": "2d523017.81121",
        "wires": [
            [
                "668947e0.2f65c8"
            ]
        ]
    },
    {
        "id": "668947e0.2f65c8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2258.6666297912598,
        "y": 5021.747268676758,
        "z": "2d523017.81121",
        "wires": [
            [
                "eb288d10.2446b",
                "e2f76977.fea098",
                "986e7ac7.81d148"
            ]
        ]
    },
    {
        "id": "e90b4b31.6e7908",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2014.6666297912598,
        "y": 4910.080276489258,
        "z": "2d523017.81121",
        "wires": [
            [
                "896e1959.7fd6a8"
            ]
        ]
    },
    {
        "id": "dc960591.08f438",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2083.3332176208496,
        "y": 4861.080129623413,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "896e1959.7fd6a8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2178.6666297912598,
        "y": 4910.080276489258,
        "z": "2d523017.81121",
        "wires": [
            [
                "83542037.398bf"
            ]
        ]
    },
    {
        "id": "83542037.398bf",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2338.6666297912598,
        "y": 4910.080276489258,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "986e7ac7.81d148",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-id'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].network-role'\n  value='`$tmp.AnAI-data.get-networks.results[0].l3-network.network-role`' />\n",
        "comments": "",
        "x": 2486.3332862854004,
        "y": 5020.747100830078,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "56b41d87.a09d94",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2048.6666984558105,
        "y": 5164.080413818359,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "fbf7fa7c.23d608",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3398.6666984558105,
        "y": 5136.080413818359,
        "z": "2d523017.81121",
        "wires": [
            [
                "dc2e5d86.8c21f"
            ]
        ]
    },
    {
        "id": "dc2e5d86.8c21f",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$aai.vlan-tag.vlan-tag-id`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$aai.vlan-tag.vlan-id-outer`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$aai.vlan-tag.vlan-id-inner`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$network-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$aai.vlan-tag.is-private`' />\n",
        "comments": "",
        "x": 3590.6666984558105,
        "y": 5136.080413818359,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "1bf4c98d.f9c076",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3168.6666984558105,
        "y": 5174.080413818359,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "2f24f627.1d687a",
        "type": "comment",
        "name": "temporary data issue: also ignore string \"null\" and \"NULL\"",
        "info": "",
        "comments": "",
        "x": 845.0000114440918,
        "y": 4193.842397689819,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "83078563.934988",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value='null'>\n",
        "comments": "",
        "outputs": 1,
        "x": 872.1428337097168,
        "y": 4276.69953918457,
        "z": "2d523017.81121",
        "wires": [
            [
                "15298732.e21cb9"
            ]
        ]
    },
    {
        "id": "5dd2d1e7.b5782",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value='NULL'>",
        "comments": "",
        "outputs": 1,
        "x": 872.14284324646,
        "y": 4319.556611061096,
        "z": "2d523017.81121",
        "wires": [
            [
                "15298732.e21cb9"
            ]
        ]
    },
    {
        "id": "36f653c4.5383bc",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 521.6667022705078,
        "y": 367.4136428833008,
        "z": "2d523017.81121",
        "wires": [
            [
                "6073cd09.c47954",
                "60806490.79275c"
            ]
        ]
    },
    {
        "id": "6073cd09.c47954",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 705.0000762939453,
        "y": 337.413631439209,
        "z": "2d523017.81121",
        "wires": [
            [
                "a192c343.146f"
            ]
        ]
    },
    {
        "id": "60806490.79275c",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 704.7619819641113,
        "y": 378.3661251068115,
        "z": "2d523017.81121",
        "wires": [
            [
                "7907b.f03a3f85"
            ]
        ]
    },
    {
        "id": "a192c343.146f",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 840.0000305175781,
        "y": 335.7469711303711,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "7907b.f03a3f85",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vnf-topology-operation-input.vnf-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 921.6666870117188,
        "y": 377.41365242004395,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "16470885.0e3b37",
        "type": "call",
        "name": "call self-serve-vnf-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 539.5238265991211,
        "y": 688.2142810821533,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "1caeb411.8cfeac",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 519.6665420532227,
        "y": 853.7857685089111,
        "z": "2d523017.81121",
        "wires": [
            [
                "37f74e26.cb2452",
                "beba854c.d89668"
            ]
        ]
    },
    {
        "id": "37f74e26.cb2452",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 731.3806991577148,
        "y": 927.0710525512695,
        "z": "2d523017.81121",
        "wires": [
            [
                "c8588b9c.b0d898"
            ]
        ]
    },
    {
        "id": "beba854c.d89668",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 730.9522171020508,
        "y": 790.6428861618042,
        "z": "2d523017.81121",
        "wires": [
            [
                "4645b056.44eb1"
            ]
        ]
    },
    {
        "id": "97a46274.9df5e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 911.111156463623,
        "y": 489.38886737823486,
        "z": "2d523017.81121",
        "wires": [
            [
                "2a1c1eb.da980e2",
                "22c02af2.d4ee26"
            ]
        ]
    },
    {
        "id": "df6715d9.ce37d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 911.111156463623,
        "y": 537.9603090286255,
        "z": "2d523017.81121",
        "wires": [
            [
                "b8d206be.845728",
                "22c02af2.d4ee26"
            ]
        ]
    },
    {
        "id": "e48fe633.d5a078",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 913.9682731628418,
        "y": 582.2460145950317,
        "z": "2d523017.81121",
        "wires": [
            [
                "da0200d1.6944b",
                "22c02af2.d4ee26"
            ]
        ]
    },
    {
        "id": "2a1c1eb.da980e2",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVnfInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1147.539737701416,
        "y": 489.3888578414917,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "b8d206be.845728",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1146.1111488342285,
        "y": 538.1031522750854,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "da0200d1.6944b",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VNF customization UUID ' + $vnf-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1146.1111488342285,
        "y": 582.2460050582886,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "198f8218.7133ee",
        "type": "call",
        "name": "call self-serve-vnf-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vnf-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1181.9878044128418,
        "y": 688.1072311401367,
        "z": "2d523017.81121",
        "wires": [
            [
                "d458bfd1.de073"
            ]
        ]
    },
    {
        "id": "e83e7b2d.1d4268",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 901.4285583496094,
        "y": 741.5119113922119,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "d458bfd1.de073",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1387.285385131836,
        "y": 687.5952625274658,
        "z": "2d523017.81121",
        "wires": [
            [
                "c261dd9e.7394e"
            ]
        ]
    },
    {
        "id": "da6cb5e4.41c2f8",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1157.2301712036133,
        "y": 936.789656996727,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "828a78b6.35b498",
        "type": "set",
        "name": "set vnf-level-oper-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.order-status' value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-rpc-action' value='`$vnf-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-level-oper-status.last-action' value='`$vnf-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1245.0991516113281,
        "y": 739.599271774292,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "b15ef9f9.2e3088",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1144.3014678955078,
        "y": 790.0390481948853,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "4645b056.44eb1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 921.5394287109375,
        "y": 790.4999408721924,
        "z": "2d523017.81121",
        "wires": [
            [
                "198f8218.7133ee",
                "828a78b6.35b498",
                "b15ef9f9.2e3088",
                "da6cb5e4.41c2f8",
                "afb784f3.b92c98",
                "179daba.4616354"
            ]
        ]
    },
    {
        "id": "22c02af2.d4ee26",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1762.9842987060547,
        "y": 767.2462577819824,
        "z": "2d523017.81121",
        "wires": [
            [
                "9f6e7d2d.65cdb",
                "efad6026.2740a"
            ]
        ]
    },
    {
        "id": "c261dd9e.7394e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1563.3016738891602,
        "y": 687.785698890686,
        "z": "2d523017.81121",
        "wires": [
            [
                "6b697ba4.a67094",
                "22c02af2.d4ee26"
            ]
        ]
    },
    {
        "id": "6b697ba4.a67094",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vnf with vnf-id=' + $vnf-topology-operation-input.vnf-information.vnf-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1774.8296203613281,
        "y": 629.690544128418,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "853dab16.a11508",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNF id ' + $service-data.vnfs.vnf[$idx].vnf-id\n      + ' already exists'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2205.666618347168,
        "y": 1201.666597366333,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "e351344c.af7228",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Cannot find instance group id ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in AAI'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1582.7617416381836,
        "y": 1256.476245880127,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "564bf42f.5df9ac",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving instance-group from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1582.761703491211,
        "y": 1319.619031906128,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "33ec168e.11b45a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find AAI relationship from collection '\n      + $aai.instance-group.relationship-list.relationship[$rel-index].relationship-data[0].relationship-value\n      + ' to service instance'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2177.333206176758,
        "y": 1335.9523315429688,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "38b03742.d98548",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to get network service instance '\n      + $network-service-instance + ' from MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2178.8094482421875,
        "y": 1377.666732788086,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "56ab1164.7603f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Could not find network instance group ' +\n      $vnf-topology-operation-input.vnf-request-input.vnf-network-instance-group-ids[$inst-group-index].vnf-network-instance-group-id\n      + ' in MD-SAL service instance '\n      + $network-service-instance`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2863.3335571289062,
        "y": 1536.1904573440552,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "60b9af41.99ebd",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2889.345314025879,
        "y": 1840.3692474365234,
        "z": "2d523017.81121",
        "wires": [
            [
                "816ac0ef.84b68",
                "67ea33dc.59706c"
            ]
        ]
    },
    {
        "id": "67d1f32e.64262c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2000.6664962768555,
        "y": 1199.9998836517334,
        "z": "2d523017.81121",
        "wires": [
            [
                "853dab16.a11508",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "3d4ce14c.b56fbe",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1370.999984741211,
        "y": 1256.6664772033691,
        "z": "2d523017.81121",
        "wires": [
            [
                "e351344c.af7228",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "6b5b96d7.f11058",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1371.666358947754,
        "y": 1319.3331823349,
        "z": "2d523017.81121",
        "wires": [
            [
                "564bf42f.5df9ac",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "75f0b66c.711368",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1959.9998779296875,
        "y": 1336.3333625793457,
        "z": "2d523017.81121",
        "wires": [
            [
                "33ec168e.11b45a",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "1cfc4c24.ab0124",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1958.333251953125,
        "y": 1378.333251953125,
        "z": "2d523017.81121",
        "wires": [
            [
                "38b03742.d98548",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "a3ec7ac.ac12b88",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2652.619094848633,
        "y": 1536.9047193527222,
        "z": "2d523017.81121",
        "wires": [
            [
                "56ab1164.7603f",
                "60b9af41.99ebd"
            ]
        ]
    },
    {
        "id": "da3712d9.f41f4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1459.0475540161133,
        "y": 1771.9046249389648,
        "z": "2d523017.81121",
        "wires": [
            [
                "62fa2d49.68c884",
                "5de10e3b.8401c"
            ]
        ]
    },
    {
        "id": "62fa2d49.68c884",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"No vnf-name was received but ecomp-generated-naming is not Y\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1688.90478515625,
        "y": 1772.3329601287842,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "6d7f13cc.8d975c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2211.9046783447266,
        "y": 1875.7618045806885,
        "z": "2d523017.81121",
        "wires": [
            [
                "4b15fa7b.a37b24",
                "5de10e3b.8401c"
            ]
        ]
    },
    {
        "id": "4b15fa7b.a37b24",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`$generate-unique-name-output.error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2420.0475540161133,
        "y": 1875.3331956863403,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "702e58b3.200b38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2260.476104736328,
        "y": 2001.9045372009277,
        "z": "2d523017.81121",
        "wires": [
            [
                "20b0a05b.f52ee",
                "5de10e3b.8401c"
            ]
        ]
    },
    {
        "id": "20b0a05b.f52ee",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to generate VNF name\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2483.3331604003906,
        "y": 2002.3332080841064,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "5de10e3b.8401c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2535.2147064208984,
        "y": 2257.333641052246,
        "z": "2d523017.81121",
        "wires": [
            [
                "731462dd.b506dc",
                "33152a66.1de486"
            ]
        ]
    },
    {
        "id": "55ab3764.a14138",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 952.8571090698242,
        "y": 2912.2857341766357,
        "z": "2d523017.81121",
        "wires": [
            [
                "f054f599.b671b8",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "f054f599.b671b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1151.428451538086,
        "y": 2878.0000200271606,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "cbecda63.60f978",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 956.1904602050781,
        "y": 2955.619020462036,
        "z": "2d523017.81121",
        "wires": [
            [
                "7ff32092.da86f",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "7ff32092.da86f",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1154.7618026733398,
        "y": 2921.333306312561,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "9a466e25.4156f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 814.5238952636719,
        "y": 3134.619167327881,
        "z": "2d523017.81121",
        "wires": [
            [
                "9a766ef3.dad01",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "9a766ef3.dad01",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1024.5238876342773,
        "y": 3113.190655708313,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "2115eaa4.e5b146",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1911.1072616577148,
        "y": 3689.820848464966,
        "z": "2d523017.81121",
        "wires": [
            [
                "77d28d98.052f64",
                "2dcd5fd9.caa1d",
                "e2453329.ce9e1",
                "d8bb9422.93cd78"
            ]
        ]
    },
    {
        "id": "5be8614b.d2283",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1099.9999923706055,
        "y": 3224.714331626892,
        "z": "2d523017.81121",
        "wires": [
            [
                "8a74d4c9.f4d158",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "8a74d4c9.f4d158",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_TO_NETWORK_ROLE_MAPPING table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1302.8571014404297,
        "y": 3191.8572273254395,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "1b9558ce.3c84a7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1669.9999465942383,
        "y": 3434.285619735718,
        "z": "2d523017.81121",
        "wires": [
            [
                "f01f3cd.81c20c",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "f01f3cd.81c20c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1881.4285507202148,
        "y": 3402.8569107055664,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "f361b5ff.f38548",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2690.4761276245117,
        "y": 4655.667684555054,
        "z": "2d523017.81121",
        "wires": [
            [
                "87fd5071.f5e61",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "87fd5071.f5e61",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`\n    'Error retrieving network-topology-identifier-structure for service instance '\n    + $network-service-instance-id\n    + ' and network-id '\n    + $l3-network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2901.9046325683594,
        "y": 4624.238899230957,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "c3080a54.9b9f68",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1803.1428604125977,
        "y": 4496.048126220703,
        "z": "2d523017.81121",
        "wires": [
            [
                "67128ab5.195dd4",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "67128ab5.195dd4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VNF_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2017.1428604125977,
        "y": 4477.190979003906,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "b897f854.8a4f58",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2447.6190872192383,
        "y": 4771.667268753052,
        "z": "2d523017.81121",
        "wires": [
            [
                "90365fab.e2211",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "90365fab.e2211",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2654.762107849121,
        "y": 4747.381650924683,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "a1cce433.a5c9a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2462.6190872192383,
        "y": 4816.667268753052,
        "z": "2d523017.81121",
        "wires": [
            [
                "1a20c9fe.aa7526",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "1a20c9fe.aa7526",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Unable to find owning entity from service instance\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2664.0477294921875,
        "y": 4790.953462600708,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "3e5e2886.704ec8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2906.6664810180664,
        "y": 4942.143200874329,
        "z": "2d523017.81121",
        "wires": [
            [
                "474a1c8f.5b8254",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "474a1c8f.5b8254",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error calling getNetworks custom query in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3122.380844116211,
        "y": 4912.143190383911,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "fb3762dd.d74d3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2918.3332290649414,
        "y": 4987.143200874329,
        "z": "2d523017.81121",
        "wires": [
            [
                "d13c17c6.96baa8",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "d13c17c6.96baa8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network returned from getNetworks custom query for related network role '\n      + $db.vnf-related-network-role[0].related-network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3134.047592163086,
        "y": 4957.143190383911,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "cf0cc9f2.e1c008",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3562.618698120117,
        "y": 5088.333766937256,
        "z": "2d523017.81121",
        "wires": [
            [
                "583a5088.c3e55",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "583a5088.c3e55",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error getting vlan-tag object from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3775.475830078125,
        "y": 5061.190900802612,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "9615c407.df8ac8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3682.345771789551,
        "y": 5539.275134086609,
        "z": "2d523017.81121",
        "wires": [
            [
                "2f005b1.f6000a4",
                "567a5bcf.b1abd4",
                "bda56dc4.abbc",
                "ab1a0201.102be"
            ]
        ]
    },
    {
        "id": "4fcc2ec6.5268d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1669.9999313354492,
        "y": 3484.2856159210205,
        "z": "2d523017.81121",
        "wires": [
            [
                "75ca8e5d.ce23a",
                "2115eaa4.e5b146"
            ]
        ]
    },
    {
        "id": "75ca8e5d.ce23a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving l3-network from AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1881.4285354614258,
        "y": 3452.856906890869,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "39a027a0.277908",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find l3-network in AAI for network role ' + $db.vf-network-role-mapping[$role-index].network-role`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1805.71435546875,
        "y": 4195.714210510254,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "d03cff5b.4eae8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1605.71435546875,
        "y": 4210,
        "z": "2d523017.81121",
        "wires": [
            [
                "39a027a0.277908",
                "9615c407.df8ac8"
            ]
        ]
    },
    {
        "id": "63585eee.6f434",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1259.9999389648438,
        "y": 5382.856773376465,
        "z": "2d523017.81121",
        "wires": [
            [
                "2dd248fd.0355f8",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "2dd248fd.0355f8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No availability zones found in AAI for cloud region '\n       + $vnf-topology-operation-input.vnf-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1462.8570709228516,
        "y": 5364.28534412384,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "ac3d2a38.193128",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1487.3811264038086,
        "y": 5509.524040222168,
        "z": "2d523017.81121",
        "wires": [
            [
                "fcb662f2.e888c",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "fcb662f2.e888c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1688.8096771240234,
        "y": 5489.524041175842,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "edd6eeb3.58833",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1489.047752380371,
        "y": 5552.857048034668,
        "z": "2d523017.81121",
        "wires": [
            [
                "ed7e59f3.736ce8",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "ed7e59f3.736ce8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1690.476303100586,
        "y": 5532.857048988342,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "1d23943a.cc401c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1346.904800415039,
        "y": 5627.618696212769,
        "z": "2d523017.81121",
        "wires": [
            [
                "5db8f40e.5238ec",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "5db8f40e.5238ec",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1544.5833358764648,
        "y": 5606.011522293091,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "48b115c8.09c9bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1366.9642944335938,
        "y": 5672.678614616394,
        "z": "2d523017.81121",
        "wires": [
            [
                "33966a0a.bc1c26",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "33966a0a.bc1c26",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1571.2500610351562,
        "y": 5649.821611404419,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "b5f5454e.605518",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 782.6785583496094,
        "y": 5782.29768371582,
        "z": "2d523017.81121",
        "wires": [
            [
                "5a2cf836.80cc88",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "5a2cf836.80cc88",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating selflink in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 988.3928985595703,
        "y": 5758.011829376221,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "fb7909b7.07d3a8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 796.0118713378906,
        "y": 5825.63117980957,
        "z": "2d523017.81121",
        "wires": [
            [
                "840ebe47.1002a",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "840ebe47.1002a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1001.7262115478516,
        "y": 5801.345325469971,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "b5b87fb0.590f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1376.059555053711,
        "y": 5875.011758804321,
        "z": "2d523017.81121",
        "wires": [
            [
                "9605363d.80ae88",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "9605363d.80ae88",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating relationship in generic-vnf in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1570.3452758789062,
        "y": 5849.2977504730225,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "610d2304.a3d70c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1391.059555053711,
        "y": 5918.345254898071,
        "z": "2d523017.81121",
        "wires": [
            [
                "70fd7745.526758",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "70fd7745.526758",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No generic-vnf found in AAI for vnf ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1585.3452758789062,
        "y": 5892.6312465667725,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "b01ba289.b4c4d",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vnf",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vnf-data-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vnf.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vnf-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 485.9878692626953,
        "y": 6282.9891719818115,
        "z": "2d523017.81121",
        "wires": [
            [
                "b8a25bcd.5c5768",
                "336fda4d.6f39d6"
            ]
        ]
    },
    {
        "id": "b8a25bcd.5c5768",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 733.2006301879883,
        "y": 6304.319892883301,
        "z": "2d523017.81121",
        "wires": [
            [
                "dd704ec0.5452"
            ]
        ]
    },
    {
        "id": "336fda4d.6f39d6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 725.629264831543,
        "y": 6262.819912910461,
        "z": "2d523017.81121",
        "wires": [
            [
                "dd704ec0.5452"
            ]
        ]
    },
    {
        "id": "dd704ec0.5452",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 901.225944519043,
        "y": 6282.750367164612,
        "z": "2d523017.81121",
        "wires": [
            [
                "70b79c9a.11b3d4",
                "f54d4b54.f29d58"
            ]
        ]
    },
    {
        "id": "70b79c9a.11b3d4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vnf-data\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1106.9402542114258,
        "y": 6248.464484214783,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "f93440f1.dad62",
        "type": "set",
        "name": "set so.response-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />",
        "comments": "",
        "x": 456.7604293823242,
        "y": 6425.500561714172,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "fe102b69.7b64c8",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vnf-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vnf-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vnf-topology-operation-input.service-information.service-instance-id`\" />\n",
        "comments": "",
        "x": 554.42724609375,
        "y": 261.9549217224121,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "77d28d98.052f64",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2236.9576263427734,
        "y": 3740.151798248291,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "afb784f3.b92c98",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1197.5128784179688,
        "y": 836.2629871368408,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "2dcd5fd9.caa1d",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2183.762954711914,
        "y": 3639.040738105774,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "e2453329.ce9e1",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2281.334228515625,
        "y": 3689.1830978393555,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "bda56dc4.abbc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4015.7076721191406,
        "y": 5563.346151351929,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "2f005b1.f6000a4",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 3962.5130004882812,
        "y": 5462.235091209412,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "567a5bcf.b1abd4",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4060.084274291992,
        "y": 5512.377450942993,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "d27d64fe.c0c2c8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2244.8742904663086,
        "y": 6544.319822311401,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "9c453248.1f195",
        "type": "set",
        "name": "set variables for deleting name",
        "xml": "<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNF' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vnf-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n",
        "comments": "",
        "x": 2187.929588317871,
        "y": 6443.2088985443115,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "a406d4bc.916068",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:naming-policy-generate-name",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2285.500862121582,
        "y": 6493.351258277893,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "9f6e7d2d.65cdb",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2077.3744049072266,
        "y": 740.8462972640991,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "816ac0ef.84b68",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3201.1239700317383,
        "y": 1816.596351146698,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "731462dd.b506dc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2853.6240234375,
        "y": 2231.346435546875,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "5091afc0.4393d",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 521.2630310058594,
        "y": 6479.874531745911,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "179daba.4616354",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1269.5129089355469,
        "y": 885.0129909515381,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "efad6026.2740a",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1958.762954711914,
        "y": 791.2629833221436,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "67ea33dc.59706c",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3082.512939453125,
        "y": 1860.8463134765625,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "33152a66.1de486",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2737.512939453125,
        "y": 2279.596435546875,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "d8bb9422.93cd78",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2117.5130882263184,
        "y": 3787.929880142212,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "ab1a0201.102be",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3898.485107421875,
        "y": 5613.06884765625,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "71ce4538.3940fc",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2124.735321044922,
        "y": 6591.263185501099,
        "z": "2d523017.81121",
        "wires": []
    },
    {
        "id": "7381e60f.8d7388",
        "type": "execute",
        "name": "generate vnf URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vnf-assign`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 510.0130157470703,
        "y": 6086.542016029358,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "ef3b1f74.d9716",
        "type": "execute",
        "name": "generate vnf URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vnf.url\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 465.012939453125,
        "y": 6137.969970703125,
        "z": "2d523017.81121",
        "wires": [
            []
        ]
    },
    {
        "id": "4c1fc0a3.ee098",
        "type": "set",
        "name": "copy vnf data",
        "xml": "<set>\n<parameter name='vnf-data.' value='service-data.vnfs.vnf[$vnf-index].vnf-data.' />\n",
        "comments": "",
        "x": 410.90589904785156,
        "y": 6185.827503204346,
        "z": "2d523017.81121",
        "wires": []
    }
]