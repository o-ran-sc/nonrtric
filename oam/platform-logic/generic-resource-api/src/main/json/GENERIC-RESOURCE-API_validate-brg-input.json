[{"id":"4030c923.2b0638","type":"dgstart","name":"DGSTART","outputs":1,"x":153,"y":180.33332061767578,"z":"a36563f1.0ad948","wires":[["232a3784.702ad8"]]},{"id":"232a3784.702ad8","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":251.78570556640625,"y":254.57142448425293,"z":"a36563f1.0ad948","wires":[["c31f4ddf.1134"]]},{"id":"c31f4ddf.1134","type":"method","name":"validate-brg-input","xml":"<method rpc='validate-brg-input' mode='sync'>\n","comments":"","outputs":1,"x":280.6786193847656,"y":325.50001430511475,"z":"a36563f1.0ad948","wires":[["ea01ba8c.352078"]]},{"id":"ea01ba8c.352078","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":322.7500457763672,"y":598.7768154144287,"z":"a36563f1.0ad948","wires":[["453ef264.5585d4","506f96ca.9026e8","8750668f.37f25","ea98aac1.995a4","2b04d10e.4f29de"]]},{"id":"453ef264.5585d4","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":657.8095703125,"y":83.42860126495361,"z":"a36563f1.0ad948","wires":[["9c796d89.458af"]]},{"id":"9c796d89.458af","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":887.5238554818288,"y":81.42859799521284,"z":"a36563f1.0ad948","wires":[["a0bb007c.967d3"]]},{"id":"a0bb007c.967d3","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":1038.9523620605469,"y":78.09526443481445,"z":"a36563f1.0ad948","wires":[]},{"id":"506f96ca.9026e8","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":650.3809204101562,"y":37,"z":"a36563f1.0ad948","wires":[["722e018f.fd36e8"]]},{"id":"722e018f.fd36e8","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":886.0952758789062,"y":38.57142353057861,"z":"a36563f1.0ad948","wires":[["ae3db492.dea2"]]},{"id":"ae3db492.dea2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":1036.0952491760254,"y":38.57143306732178,"z":"a36563f1.0ad948","wires":[]},{"id":"6e12c726.fb47e","type":"comment","name":"validate-brg-input - CHANGELOG","info":"3/22: Initial release 1.0.0","comments":"","x":166,"y":84.33332061767578,"z":"a36563f1.0ad948","wires":[]},{"id":"8750668f.37f25","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$brg-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":562.6666603088379,"y":604.3333568572998,"z":"a36563f1.0ad948","wires":[["75e5a26e.8bbc1c","2139f95e.1444f6","d541942a.c645c","52ed858c.7fc904","c357fd26.93d77","a22f16cf.8b48b8"]]},{"id":"75e5a26e.8bbc1c","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":823.7143630981445,"y":439.90478706359863,"z":"a36563f1.0ad948","wires":[["b60b376b.c3b408"]]},{"id":"2139f95e.1444f6","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":843.9999694824219,"y":627.3333511352539,"z":"a36563f1.0ad948","wires":[["9d06a845.ab6b78"]]},{"id":"d541942a.c645c","type":"other","name":"deactivate","xml":"<outcome value='deactivate'>","comments":"","outputs":1,"x":850.9999694824219,"y":717.3333511352539,"z":"a36563f1.0ad948","wires":[["55258e57.83aa4"]]},{"id":"52ed858c.7fc904","type":"other","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":831.9998321533203,"y":884.6666784286499,"z":"a36563f1.0ad948","wires":[["54954882.a91a7"]]},{"id":"b60b376b.c3b408","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1022.0238189697266,"y":438.05958557128906,"z":"a36563f1.0ad948","wires":[["d4cb145f.3b29d8","dbd0163e.1668b","a74acd1b.b2ef78","1551962.10999ea","be865110.8c5cc8","b7c65dae.5d181","88921e9.f4a5a6","9cdfba09.f3278"]]},{"id":"9d06a845.ab6b78","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1022.2500152587891,"y":627.0833930969238,"z":"a36563f1.0ad948","wires":[["1551962.10999ea","b7c65dae.5d181"]]},{"id":"55258e57.83aa4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1023.2500305175781,"y":718.3333950042725,"z":"a36563f1.0ad948","wires":[["1551962.10999ea","b7c65dae.5d181"]]},{"id":"54954882.a91a7","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1020.9998931884766,"y":885.166708946228,"z":"a36563f1.0ad948","wires":[["1551962.10999ea"]]},{"id":"d4cb145f.3b29d8","type":"switchNode","name":"switch vgmux-bearer-ip","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.vgmux-bearer-ip`'>\n","comments":"","outputs":1,"x":1437.1190185546875,"y":403.63098907470703,"z":"a36563f1.0ad948","wires":[["41d55853.b58218"]]},{"id":"41d55853.b58218","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1637.118896484375,"y":409.4404983520508,"z":"a36563f1.0ad948","wires":[["f03be371.faa07"]]},{"id":"f03be371.faa07","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1846.3095703125,"y":409.4404983520508,"z":"a36563f1.0ad948","wires":[]},{"id":"a74acd1b.b2ef78","type":"switchNode","name":"switch onap-model-information.model-customization-uuid","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1543.1073303222656,"y":340.33341789245605,"z":"a36563f1.0ad948","wires":[["8914945b.b27388"]]},{"id":"8914945b.b27388","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1837.1072387695312,"y":341.33335876464844,"z":"a36563f1.0ad948","wires":[["24cd3709.a6567"]]},{"id":"24cd3709.a6567","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-information.onap-model-information.model-customization-uuid is a required input\" />\n","comments":"","x":1984.5357055664062,"y":341.33335876464844,"z":"a36563f1.0ad948","wires":[]},{"id":"ea98aac1.995a4","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":589.3571166992188,"y":1025.8332901000977,"z":"a36563f1.0ad948","wires":[]},{"id":"dbd0163e.1668b","type":"get-resource","name":"get-resource AR_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from ALLOTTED_RESOURCE_MODEL WHERE customization_uuid = $brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid'\n  pfx='ar-model'>\n\n","comments":"","outputs":1,"x":1415.302146911621,"y":560.6151895523071,"z":"a36563f1.0ad948","wires":[["7a05e016.e5972","cf325cf9.468db"]]},{"id":"1175f74e.db26c9","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No allotted resource model found for model customization UUID ' + $brg-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`\" />\n","comments":"","x":1862.3854637145996,"y":548.7817430496216,"z":"a36563f1.0ad948","wires":[]},{"id":"7a05e016.e5972","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1663.6355438232422,"y":544.1389589309692,"z":"a36563f1.0ad948","wires":[["1175f74e.db26c9"]]},{"id":"cf325cf9.468db","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1657.3855438232422,"y":576.6389589309692,"z":"a36563f1.0ad948","wires":[["1175f74e.db26c9"]]},{"id":"2b04d10e.4f29de","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$brg-topology-operation-input.service-information.service-instance-id`'>\n","comments":"","outputs":1,"x":657.4285583496094,"y":312.19051361083984,"z":"a36563f1.0ad948","wires":[["d7d48977.6d4e9"]]},{"id":"d7d48977.6d4e9","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":873.8571472167969,"y":313.19051361083984,"z":"a36563f1.0ad948","wires":[["36ec22d8.8e53ae"]]},{"id":"36ec22d8.8e53ae","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.service-instance-id is a required input\" />\n","comments":"","x":1032.2856750488281,"y":312.19051361083984,"z":"a36563f1.0ad948","wires":[]},{"id":"c357fd26.93d77","type":"other","name":"create","xml":"<outcome value='create'>","comments":"","outputs":1,"x":830.7777137756348,"y":525.2407293319702,"z":"a36563f1.0ad948","wires":[["f1c69f47.9fcb8"]]},{"id":"f1c69f47.9fcb8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1023.0276031494141,"y":521.324052810669,"z":"a36563f1.0ad948","wires":[["1551962.10999ea","b7c65dae.5d181"]]},{"id":"a22f16cf.8b48b8","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":844.111083984375,"y":801.9073152542114,"z":"a36563f1.0ad948","wires":[["14f5b4d9.a09003"]]},{"id":"14f5b4d9.a09003","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1020.6111068725586,"y":799.9073696136475,"z":"a36563f1.0ad948","wires":[["1551962.10999ea","b7c65dae.5d181"]]},{"id":"1551962.10999ea","type":"switchNode","name":"switch allotted-resource-id","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n","comments":"","outputs":1,"x":1511.2938537597656,"y":90.3729977607727,"z":"a36563f1.0ad948","wires":[["7f78afde.e28488"]]},{"id":"7f78afde.e28488","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1714.3296146392822,"y":95.19443893432617,"z":"a36563f1.0ad948","wires":[["cdbb13f3.95273"]]},{"id":"cdbb13f3.95273","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-id is a required input\" />\n","comments":"","x":1899.5080833435059,"y":90.44443893432617,"z":"a36563f1.0ad948","wires":[]},{"id":"be865110.8c5cc8","type":"switchNode","name":"switch allotted-resource-type","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n","comments":"","outputs":1,"x":1515.2224349975586,"y":159.3214235305786,"z":"a36563f1.0ad948","wires":[["f26f80f5.97af78"]]},{"id":"f26f80f5.97af78","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1710.7578468322754,"y":159.14284706115723,"z":"a36563f1.0ad948","wires":[["abe4d8bb.62f5e"]]},{"id":"abe4d8bb.62f5e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-type is a required input\" />\n","comments":"","x":1870.9363174438477,"y":158.14284706115723,"z":"a36563f1.0ad948","wires":[]},{"id":"b7c65dae.5d181","type":"switchNode","name":"switch parent-service-instance-id","xml":"<switch test='`$brg-topology-operation-input.allotted-resource-information.parent-service-instance-id`'>\n","comments":"","outputs":1,"x":1530.5796127319336,"y":235.03571891784668,"z":"a36563f1.0ad948","wires":[["189a38c5.265dbf"]]},{"id":"189a38c5.265dbf","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1750.0437355041504,"y":234.67856884002686,"z":"a36563f1.0ad948","wires":[["3a46fa48.f2f996"]]},{"id":"3a46fa48.f2f996","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.parent-service-instance-id is a required input\" />\n","comments":"","x":1901.4722023010254,"y":233.67856884002686,"z":"a36563f1.0ad948","wires":[]},{"id":"88921e9.f4a5a6","type":"switchNode","name":"switch vni","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.vni`'>\n","comments":"","outputs":1,"x":1396,"y":444.3333206176758,"z":"a36563f1.0ad948","wires":[["b400611b.066288"]]},{"id":"b400611b.066288","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1635.9998779296875,"y":453.1428909301758,"z":"a36563f1.0ad948","wires":[["f6806455.7a1aa"]]},{"id":"f6806455.7a1aa","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1856.1905517578125,"y":451.14282989501953,"z":"a36563f1.0ad948","wires":[]},{"id":"9cdfba09.f3278","type":"switchNode","name":"switch brg-wan-ip-address ","xml":"<switch test='`$brg-topology-operation-input.brg-request-input.brg-wan-mac-address `'>\n","comments":"","outputs":1,"x":1444,"y":497.3333206176758,"z":"a36563f1.0ad948","wires":[["ad175cf7.05b3"]]},{"id":"ad175cf7.05b3","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1651.9998779296875,"y":497.14286041259766,"z":"a36563f1.0ad948","wires":[["5f364de9.8a5f74"]]},{"id":"5f364de9.8a5f74","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"brg-topology-operation-input.brg-request-input.vlan-tag is a required input\" />\n","comments":"","x":1867.1905517578125,"y":493.14282989501953,"z":"a36563f1.0ad948","wires":[]}]