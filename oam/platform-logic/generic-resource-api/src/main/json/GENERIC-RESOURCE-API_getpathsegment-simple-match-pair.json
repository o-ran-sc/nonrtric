[{"id":"65bda5c2.5bc90c","type":"for","name":"for each runtime service-instance","xml":"<for index='serv-insts-index' start='0' end='`$serv-insts_length`' >\n","comments":"","outputs":1,"x":278.57142639160156,"y":284.82143783569336,"z":"7d72073d.c2be58","wires":[["2741d174.e3e39e"]]},{"id":"e27a3b8e.9d4848","type":"for","name":"for each vnf but the last one","xml":"<for index='left-vnf-index' start='0' end='`$serv-insts[$serv-insts-index].vnf-list_length - 1`' >\n","comments":"","outputs":1,"x":445.0000305175781,"y":617.5000095367432,"z":"7d72073d.c2be58","wires":[["f7190ea5.7406"]]},{"id":"af0525fe.01c668","type":"dgstart","name":"DGSTART","outputs":1,"x":101.25,"y":86.25,"z":"7d72073d.c2be58","wires":[["b785ba5d.087d48"]]},{"id":"b785ba5d.087d48","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":216.53569793701172,"y":126.48810863494873,"z":"7d72073d.c2be58","wires":[["42d9dbae.fd2824"]]},{"id":"42d9dbae.fd2824","type":"method","name":"method getpathsegment-simple-match-pair","xml":"<method rpc='getpathsegment-simple-match-pair' mode='sync'>\n","comments":"","outputs":1,"x":205.6786346435547,"y":167.25000190734863,"z":"7d72073d.c2be58","wires":[["65bda5c2.5bc90c"]]},{"id":"134072eb.4d70cd","type":"comment","name":"getpathsegment-simple-match-pair","info":"","comments":"","x":495.59486389160156,"y":33.83634376525879,"z":"7d72073d.c2be58","wires":[]},{"id":"f7190ea5.7406","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":659.4642868041992,"y":617.3214569091797,"z":"7d72073d.c2be58","wires":[["bedc3e3.3f436c","c72f4182.3ea57","16e18f51.a5cdc1","f28953e4.78107"]]},{"id":"bedc3e3.3f436c","type":"switchNode","name":"switch match-type","xml":"<switch test='`$match-type`'>\n","comments":"","outputs":1,"x":877.5000114440918,"y":553.7500095367432,"z":"7d72073d.c2be58","wires":[["56645880.605d18"]]},{"id":"56645880.605d18","type":"outcome","name":"network-name","xml":"<outcome value='network-name'>\n","comments":"","outputs":1,"x":1070.0000114440918,"y":555.0000095367432,"z":"7d72073d.c2be58","wires":[["20871697.ba0c8a"]]},{"id":"c72f4182.3ea57","type":"set","name":"set found-match = false","xml":"<set>\n<parameter name='found-match' value='false' />\n","comments":"","x":895.0000152587891,"y":452.50000858306885,"z":"7d72073d.c2be58","wires":[]},{"id":"20871697.ba0c8a","type":"for","name":"for each lhs vnf network","xml":"<for index='left-vnf-network-index' start='0' end='`$serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":1290.000015258789,"y":555.0000095367432,"z":"7d72073d.c2be58","wires":[["c688db15.cf4bf8"]]},{"id":"c688db15.cf4bf8","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":1468.0357780456543,"y":555.5357418060303,"z":"7d72073d.c2be58","wires":[["c51eb642.8d9d78","a1b0332d.018ac"]]},{"id":"c51eb642.8d9d78","type":"for","name":"for each rhs vnf network","xml":"<for index='right-vnf-network-index' start='0' end='`$serv-insts[$serv-insts-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":1652.8570938110352,"y":525.7142925262451,"z":"7d72073d.c2be58","wires":[["60372cc9.260b04"]]},{"id":"60372cc9.260b04","type":"switchNode","name":"network-names/roles match?","xml":"<switch test='`( $serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n    == $serv-insts[$serv-insts-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name )\n   and \n    ( $serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role\n    == $serv-insts[$serv-insts-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-role )`'>\n","comments":"","outputs":1,"x":1903.9284286499023,"y":524.4643106460571,"z":"7d72073d.c2be58","wires":[["baf9e646.2f27b8"]]},{"id":"baf9e646.2f27b8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2105.1784324645996,"y":521.9642992019653,"z":"7d72073d.c2be58","wires":[["6baf6eae.deb5f"]]},{"id":"2b6b02a5.0e6cae","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":2647.321174621582,"y":522.5000257492065,"z":"7d72073d.c2be58","wires":[["311780c.d093a8","483d3cbb.308c24","65d54fc2.e487b","cfd816dc.41df48"]]},{"id":"6baf6eae.deb5f","type":"switchNode","name":"network-names == oam?","xml":"<switch test=\"`$serv-insts[$serv-insts-index].vnf-list[$vnf-index].vnf-network-list[$vnf-network-index].network-name == 'oam'`\">\n","comments":"","outputs":1,"x":2293.928436279297,"y":521.9643106460571,"z":"7d72073d.c2be58","wires":[["3f7129fa.21d586"]]},{"id":"3f7129fa.21d586","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2488.214069366455,"y":523.392879486084,"z":"7d72073d.c2be58","wires":[["2b6b02a5.0e6cae"]]},{"id":"a1b0332d.018ac","type":"switchNode","name":"switch found-match","xml":"<switch test=\"`$found-match`\">\n","comments":"","outputs":1,"x":1637.1430740356445,"y":592.8571701049805,"z":"7d72073d.c2be58","wires":[["dd6922bb.4a566"]]},{"id":"dd6922bb.4a566","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1800.3573036193848,"y":593.0357055664062,"z":"7d72073d.c2be58","wires":[["273d1c5e.207544"]]},{"id":"273d1c5e.207544","type":"break","name":"break","xml":"<break>\n","comments":"","x":1932.8573055267334,"y":590.5357065200806,"z":"7d72073d.c2be58","wires":[]},{"id":"c7ba692a.446638","type":"set","name":"set matched-all-vnfs to true","xml":"<set>\n<parameter name='matched-all-vnfs' value='true' />\n","comments":"","x":441.0714874267578,"y":493.0357255935669,"z":"7d72073d.c2be58","wires":[]},{"id":"4b547fc5.d7ec3","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":177.50000762939453,"y":538.7500057220459,"z":"7d72073d.c2be58","wires":[["e27a3b8e.9d4848","c7ba692a.446638","68a46600.c1e868","92d75459.42edc8"]]},{"id":"16e18f51.a5cdc1","type":"switchNode","name":"switch found-match","xml":"<switch test=\"`$found-match`\">\n","comments":"","outputs":1,"x":878.7500114440918,"y":691.2500114440918,"z":"7d72073d.c2be58","wires":[["5180297f.41e0e8"]]},{"id":"5180297f.41e0e8","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1036.2500305175781,"y":690.000020980835,"z":"7d72073d.c2be58","wires":[["5c5e5241.00469c"]]},{"id":"5c5e5241.00469c","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":1177.500015258789,"y":690.0000114440918,"z":"7d72073d.c2be58","wires":[["35609637.6d8bea","9e9c668f.01c1e8"]]},{"id":"35609637.6d8bea","type":"break","name":"break","xml":"<break>\n","comments":"","x":1340,"y":717.5000019073486,"z":"7d72073d.c2be58","wires":[]},{"id":"9e9c668f.01c1e8","type":"set","name":"set matched-all-vnfs to false","xml":"<set>\n<parameter name='matched-all-vnfs' value='false' />\n","comments":"","x":1397.5,"y":667.5000019073486,"z":"7d72073d.c2be58","wires":[]},{"id":"68a46600.c1e868","type":"switchNode","name":"switch matched-all-vnfs","xml":"<switch test=\"`$matched-all-vnfs`\">\n","comments":"","outputs":1,"x":428.75000762939453,"y":810.0000152587891,"z":"7d72073d.c2be58","wires":[["7516cad8.6f6904"]]},{"id":"7516cad8.6f6904","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":623.7500076293945,"y":810.0000143051147,"z":"7d72073d.c2be58","wires":[["b699b05b.3896f"]]},{"id":"b699b05b.3896f","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":783.7500076293945,"y":808.7500133514404,"z":"7d72073d.c2be58","wires":[["23f612b8.71dc7e","692960e.2996fa"]]},{"id":"92d75459.42edc8","type":"set","name":"set path-segments_length to 0","xml":"<set>\n<parameter name='serv-insts[$serv-insts-index].path-segments_length' value='0' />\n","comments":"","x":448.75000762939453,"y":541.2500095367432,"z":"7d72073d.c2be58","wires":[]},{"id":"483d3cbb.308c24","type":"set","name":"set path-segment data","xml":"<set>\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].left-service-instance-id'\n  value='`$serv-insts[$serv-insts-index].service-instance-id`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].left-vnf-instance-id'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-id`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].left-vf-module-id'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].right-service-instance-id'\n  value='`$serv-insts[$serv-insts-index].service-instance-id`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].right-vnf-instance-id'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$right-vnf-index].vnf-id`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].right-vf-module-id'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].network-name'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />\n<parameter name='serv-insts[$serv-insts-index].path-segments[$ps-index].network-role'\n  value='`$serv-insts[$serv-insts-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />\n\n<parameter name='serv-insts[$serv-insts-index].path-segments_length'\n  value='`$serv-insts[$serv-insts-index].path-segments_length + 1`' />","comments":"","x":2860.892692565918,"y":501.7857475280762,"z":"7d72073d.c2be58","wires":[]},{"id":"692960e.2996fa","type":"set","name":"clear partial path-segments","xml":"<set>\n<parameter name='serv-insts[$serv-insts-index].path-segments.' value='' />\n","comments":"","x":1001.2500152587891,"y":837.5000133514404,"z":"7d72073d.c2be58","wires":[]},{"id":"23f612b8.71dc7e","type":"set","name":"set error (for logging only)","xml":"<set>\n<parameter name='matching-error' value=\"`'Not able to find matches for all vnfs of service instance ' + $serv-insts[$serv-insts-index].service-instance-id`\" />\n","comments":"","x":997.5,"y":778.7500019073486,"z":"7d72073d.c2be58","wires":[]},{"id":"311780c.d093a8","type":"set","name":"set ps-index","xml":"<set>\n<parameter name='ps-index' value='`$serv-insts[$serv-insts-index].path-segments_length`' />\n","comments":"","x":2828.571434020996,"y":455.7142906188965,"z":"7d72073d.c2be58","wires":[]},{"id":"f28953e4.78107","type":"set","name":"set right-vnf-index","xml":"<set>\n<parameter name='right-vnf-index' value='`$left-vnf-index + 1`' />\n","comments":"","x":876.2500114440918,"y":503.75000953674316,"z":"7d72073d.c2be58","wires":[]},{"id":"65d54fc2.e487b","type":"set","name":"set found-match = true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":2861.785598754883,"y":550.3571929931641,"z":"7d72073d.c2be58","wires":[]},{"id":"cfd816dc.41df48","type":"break","name":"break","xml":"<break>\n","comments":"","x":2811.785541534424,"y":597.4999856948853,"z":"7d72073d.c2be58","wires":[]},{"id":"2741d174.e3e39e","type":"switchNode","name":"switch vnf-list_length","xml":"<switch test='`$serv-insts[$serv-insts-index].vnf-list_length`'>\n","comments":"","outputs":1,"x":532.8571968078613,"y":284.2857360839844,"z":"7d72073d.c2be58","wires":[["5def9137.1bee2","49f84e56.0d51b","72219dd0.2d9e34"]]},{"id":"5def9137.1bee2","type":"other","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":711.4286117553711,"y":241.4285888671875,"z":"7d72073d.c2be58","wires":[["24321c55.9ac6c4"]]},{"id":"49f84e56.0d51b","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":710.5953598022461,"y":284.3450927734375,"z":"7d72073d.c2be58","wires":[["24321c55.9ac6c4"]]},{"id":"72219dd0.2d9e34","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":711.4285774230957,"y":327.1428337097168,"z":"7d72073d.c2be58","wires":[["4b547fc5.d7ec3"]]},{"id":"24321c55.9ac6c4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":842.8571472167969,"y":261.4285888671875,"z":"7d72073d.c2be58","wires":[["3d3e1aeb.ba6446"]]},{"id":"3d3e1aeb.ba6446","type":"set","name":"set error (for logging only)","xml":"<set>\n<parameter name='error-message' value=\"`'Matching VNFs were not found in service instance '\n  + $serv-insts[$serv-insts-index].service-instance-id`\" />\n","comments":"","x":1029.999984741211,"y":261.4285888671875,"z":"7d72073d.c2be58","wires":[]}]