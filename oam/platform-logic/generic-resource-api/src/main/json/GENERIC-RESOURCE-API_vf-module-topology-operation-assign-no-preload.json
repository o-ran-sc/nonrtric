[{"id":"ccf106c5.707b48","type":"dgstart","name":"DGSTART","outputs":1,"x":110,"y":92.02430057525635,"z":"13e6e2ea.39c6bd","wires":[["4b890a54.767294"]]},{"id":"4b890a54.767294","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":223.85713577270508,"y":131.8338384628296,"z":"13e6e2ea.39c6bd","wires":[["3c2baa81.1215b6"]]},{"id":"3c2baa81.1215b6","type":"method","name":"method vf-module-topology-operation-assign-no-preload","xml":"<method rpc='vf-module-topology-operation-assign-no-preload' mode='sync'>\n","comments":"","outputs":1,"x":255.42862701416016,"y":172.02430057525635,"z":"13e6e2ea.39c6bd","wires":[["9d5e708.3c6859"]]},{"id":"f904cbec.78e8f8","type":"comment","name":"vf-module-topology-operation-assign-no-preload","info":"","comments":"","x":515.3210983276367,"y":35,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"63f3696.6218498","type":"get-resource","name":"get-resource VF_MODULE_TO_VFC_MAPPING","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_TO_VFC_MAPPING WHERE vf_module_customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-to-vfc-mapping[]'>\n\n","comments":"","outputs":1,"x":694.6667366027832,"y":329.6909623146057,"z":"13e6e2ea.39c6bd","wires":[["211af9cd.6c7426","878c48a4.cb6108"]]},{"id":"211af9cd.6c7426","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":960.4523239135742,"y":310.07178592681885,"z":"13e6e2ea.39c6bd","wires":[["13c51e83.af0a61"]]},{"id":"878c48a4.cb6108","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":969.023754119873,"y":354.35749912261963,"z":"13e6e2ea.39c6bd","wires":[["1f09fa88.e70a15"]]},{"id":"13c51e83.af0a61","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODULE_TO_VFC_MAPPING table\" />\n","comments":"","x":1135.4522552490234,"y":309.2146863937378,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b4576528.8788e8","type":"for","name":"for each vm-type","xml":"<for index='vm-type-index' start='0' end='`$db.vf-module-to-vfc-mapping_length`' >\n","comments":"","outputs":1,"x":575.5951805114746,"y":873.1674156188965,"z":"13e6e2ea.39c6bd","wires":[["fe4cfa93.00c808"]]},{"id":"da35a04f.296c6","type":"get-resource","name":"get-resource VFC_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_MODEL WHERE customization_uuid = $db.vf-module-to-vfc-mapping[$vm-type-index].vfc-customization-uuid'\n  pfx='db.vfc-model'>\n\n","comments":"","outputs":1,"x":1020.6428604125977,"y":471.9292640686035,"z":"13e6e2ea.39c6bd","wires":[["d1591ba2.d88918","fed633f0.bd231"]]},{"id":"db7c0a65.9461d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No entries found in VFC_MODEL table for customization UUID ' + $db.vf-module-to-vfc-mapping[$db-vm-index].vfc_customization_uuid`\" />\n","comments":"","x":1391.0712280273438,"y":496.3575782775879,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"d1591ba2.d88918","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1216.4284973144531,"y":452.3099365234375,"z":"13e6e2ea.39c6bd","wires":[["b8e462f5.a1b1e"]]},{"id":"fed633f0.bd231","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1224.999927520752,"y":496.5956497192383,"z":"13e6e2ea.39c6bd","wires":[["db7c0a65.9461d8"]]},{"id":"b8e462f5.a1b1e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VFC_MODEL table\" />\n","comments":"","x":1391.4284286499023,"y":451.45283699035645,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"fe4cfa93.00c808","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":767.4999847412109,"y":871.7388010025024,"z":"13e6e2ea.39c6bd","wires":[["da35a04f.296c6","4ed899f9.797c48","63f600f1.839a7","fabeac3e.e95e4","cb019d88.194c5","94ce3ab9.eb4458","f5972382.8377e","c40d94b7.4c8af8","4214c675.f10ac8","66d4bdfe.f66fb4"]]},{"id":"50c85fed.5c6f5","type":"set","name":"set vm_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm_length'\n  value='`$db.vf-module-to-vfc-mapping_length`' />\n","comments":"","x":586.5713119506836,"y":389.8816328048706,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4ed899f9.797c48","type":"set","name":"set vm data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-type'\n   value='`$db.vf-module-to-vfc-mapping[$vm-type-index].vm-type`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code'\n   value='`$db.vfc-model.nfc-naming-code`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-type-tag'\n   value='`$db.vfc-model.vm-type-tag`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count'\n   value='`$db.vf-module-to-vfc-mapping[$vm-type-index].vm-count`' />\n\n<!-- Context variables used when creating vnfc object in AAI -->\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid'\n   value='`$db.vfc-model.invariant-uuid`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function'\n   value='`$db.vfc-model.nfc-function`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid'\n   value='`$db.vfc-model.uuid`' />\n","comments":"","x":975.6428146362305,"y":635.0245161056519,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"63f600f1.839a7","type":"for","name":"for each vm","xml":"<for index='vm-index' start='0' end='`$db.vf-module-to-vfc-mapping[$vm-type-index].vm-count`' >\n","comments":"","outputs":1,"x":975.8807220458984,"y":844.2774267196655,"z":"13e6e2ea.39c6bd","wires":[["eb592c2.c19d8d"]]},{"id":"fabeac3e.e95e4","type":"set","name":"set vm-name-length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name_length'\n  value='`$db.vf-module-to-vfc-mapping[$vm-type-index].vm-count`' />\n","comments":"","x":1002.0713577270508,"y":680.7062349319458,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b41879b4.cf80e8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1760.8808873494472,"y":793.7538928985596,"z":"13e6e2ea.39c6bd","wires":[["31801b6d.e4e794"]]},{"id":"8d4f03c2.ba403","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1764.2142486572266,"y":838.5633668899536,"z":"13e6e2ea.39c6bd","wires":[["f89a65be.4e1708"]]},{"id":"f89a65be.4e1708","type":"set","name":"set vm-name to generated name","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]'\n  value='`$naming-policy-generate-name-output.vm-name`' />\n","comments":"","x":1985.8808212280273,"y":838.0394048690796,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"eb592c2.c19d8d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1140.28568649292,"y":843.9203271865845,"z":"13e6e2ea.39c6bd","wires":[["76706fb6.60a4e","339e662e.fbd89a","a38671f.88cbf9","21a55e27.060852"]]},{"id":"cb019d88.194c5","type":"get-resource","name":"get-resource VFC_TO_NETWORK_ROLE_MAPPING","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_TO_NETWORK_ROLE_MAPPING WHERE vfc_customization_uuid = $db.vf-module-to-vfc-mapping[$vm-type-index].vfc-customization-uuid'\n  pfx='db.vfc-to-network-role-mapping[]'>\n\n","comments":"","outputs":1,"x":1109.9999618530273,"y":1025.6345911026,"z":"13e6e2ea.39c6bd","wires":[["9ad4ffbc.310cb","9240ed89.b79"]]},{"id":"9ad4ffbc.310cb","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1397.2141647338867,"y":1006.015438079834,"z":"13e6e2ea.39c6bd","wires":[["5f9b8976.1118a8"]]},{"id":"9240ed89.b79","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1405.7855949401855,"y":1050.3011512756348,"z":"13e6e2ea.39c6bd","wires":[["d7650e2f.710f5"]]},{"id":"7f8ac8c0.5a55c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VFC_TO_NETWORK_ROLE_MAPPING table\" />\n","comments":"","x":1720.5474281311035,"y":1005.1583118438721,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"94ce3ab9.eb4458","type":"for","name":"for each network-role","xml":"<for index='network-role-index' start='0' end='`$db.vfc-to-network-role-mapping_length`' >\n","comments":"","outputs":1,"x":1003.0952377319336,"y":1333.8254594802856,"z":"13e6e2ea.39c6bd","wires":[["dffdeb92.ec5de8"]]},{"id":"dffdeb92.ec5de8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1209.5237045288086,"y":1333.491937637329,"z":"13e6e2ea.39c6bd","wires":[["43d2700a.b7fa5","fa9c37cf.c9d598","399eb20b.2ea8fe","1d05761c.d860aa","75ef736b.dd2aec","5e6bc2d9.c929fc","5e90e6ce.652298"]]},{"id":"43d2700a.b7fa5","type":"for","name":"for each network","xml":"<for silentFailure='true' index='idx' start='0' end='`$service-data.networks.network_length`' >\n","comments":"","outputs":1,"x":1418.5712661743164,"y":1165.6346940994263,"z":"13e6e2ea.39c6bd","wires":[["7dca3e9a.b10f9"]]},{"id":"fa9c37cf.c9d598","type":"set","name":"set network-index to -1","xml":"<set>\n<parameter name='network-index' value='-1' />\n","comments":"","x":1438.5713348388672,"y":1122.7776908874512,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"7dca3e9a.b10f9","type":"switchNode","name":"switch network-role matches","xml":"<switch test='`$service-data.networks.network[$idx].network-data.network-topology.network-topology-identifier-structure.network-role == $db.vfc-to-network-role-mapping[$network-role-index].network-role`'>\n","comments":"","outputs":1,"x":1647.1425399780273,"y":1164.2058839797974,"z":"13e6e2ea.39c6bd","wires":[["79ea2010.e35cf"]]},{"id":"79ea2010.e35cf","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1845.7142066955566,"y":1164.206088066101,"z":"13e6e2ea.39c6bd","wires":[["a69072b0.40d9"]]},{"id":"a69072b0.40d9","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1987.1427745819092,"y":1162.7775163650513,"z":"13e6e2ea.39c6bd","wires":[["febff1ac.c1531","41885e24.cde4c"]]},{"id":"febff1ac.c1531","type":"set","name":"set network-index to idx","xml":"<set>\n<parameter name='network-index' value='`$idx`' />\n","comments":"","x":2165.714286804199,"y":1139.9205121994019,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"41885e24.cde4c","type":"break","name":"break","xml":"<break>\n","comments":"","x":2114.2855262756348,"y":1185.6346921920776,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"399eb20b.2ea8fe","type":"switchNode","name":"switch network-index","xml":"<switch test='`$network-index`'>\n","comments":"","outputs":1,"x":1430.4761047363281,"y":1214.4443311691284,"z":"13e6e2ea.39c6bd","wires":[["dc929053.5343b"]]},{"id":"dc929053.5343b","type":"outcomeTrue","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":1624.7618293762207,"y":1214.4442281723022,"z":"13e6e2ea.39c6bd","wires":[["14d70fd7.6db44"]]},{"id":"edc0a5ec.24cc78","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No network found in MD-SAL with network-role ' + $db.vfc-to-network-role-mapping[$network-role-index].network-role`\" />\n","comments":"","x":1930.2379455566406,"y":1213.0158033370972,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1d05761c.d860aa","type":"set","name":"set network-role and tag","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role-tag'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].network-role-tag`' />\n","comments":"","x":1440.2379875183105,"y":1310.6345176696777,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"75ef736b.dd2aec","type":"switchNode","name":"switch ipv4-ip-version","xml":"<switch test='`$db.vfc-to-network-role-mapping[$network-role-index].ipv4-ip-version`'>\n","comments":"","outputs":1,"x":1432.8570404052734,"y":1393.9678449630737,"z":"13e6e2ea.39c6bd","wires":[["73c4d3ec.f19f4c","9ea599ed.a77708"]]},{"id":"dfb26d0c.2431b","type":"set","name":"set network-information-index to -1","xml":"<set>\n<parameter name='network-information-index' value='-1' />\n\n","comments":"","x":1842.3806648254395,"y":1358.9679498672485,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"73c4d3ec.f19f4c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1609.5235595703125,"y":1358.9679851531982,"z":"13e6e2ea.39c6bd","wires":[["dfb26d0c.2431b"]]},{"id":"9ea599ed.a77708","type":"other","name":"4","xml":"<outcome value='4'>\n","comments":"","outputs":1,"x":1608.2855110168457,"y":1424.9201278686523,"z":"13e6e2ea.39c6bd","wires":[["472331bd.db84d"]]},{"id":"2769ba0c.7b94b6","type":"set","name":"set network-information-index to 0","xml":"<set>\n<parameter name='network-information-index' value='0' />\n","comments":"","x":2012.8567733764648,"y":1399.4439888000488,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"472331bd.db84d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1775.475986480713,"y":1424.2535934448242,"z":"13e6e2ea.39c6bd","wires":[["2769ba0c.7b94b6","f7a74a70.5e07f8"]]},{"id":"f7a74a70.5e07f8","type":"set","name":"set ip-version ipv4, use-dhcp, and ip-count","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].ip-version'\n   value='ipv4' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].use-dhcp'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].ipv4-use-dhcp`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].ip-count'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].ipv4-count`' />\n","comments":"","x":2037.8093566894531,"y":1446.1109447479248,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"5e6bc2d9.c929fc","type":"switchNode","name":"switch ipv6-ip-version","xml":"<switch test='`$db.vfc-to-network-role-mapping[$network-role-index].ipv6-ip-version`'>\n","comments":"","outputs":1,"x":1433.333236694336,"y":1520.8726272583008,"z":"13e6e2ea.39c6bd","wires":[["1cb442a4.a39a4d","5ffe015b.9fb85"]]},{"id":"1cb442a4.a39a4d","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1612.1427307128906,"y":1491.110439300537,"z":"13e6e2ea.39c6bd","wires":[["236df371.e62ecc"]]},{"id":"5ffe015b.9fb85","type":"other","name":"6","xml":"<outcome value='6'>\n","comments":"","outputs":1,"x":1613.5712852478027,"y":1555.39599609375,"z":"13e6e2ea.39c6bd","wires":[["6d3cd943.349b38"]]},{"id":"82480780.92bd68","type":"set","name":"increment network-information-index","xml":"<set>\n<parameter name='network-information-index' value='`$network-information-index + 1`' />\n","comments":"","x":2019.2853775024414,"y":1529.9200258255005,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6d3cd943.349b38","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1768.8094444274902,"y":1554.4437351226807,"z":"13e6e2ea.39c6bd","wires":[["82480780.92bd68","173cdbc6.145594"]]},{"id":"236df371.e62ecc","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1754.8093605041504,"y":1490.4440574645996,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"5e90e6ce.652298","type":"set","name":"save network-id","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id'\n  value='`$service-data.networks.network[$idx].network-data.network-topology.network-topology-identifier-structure.network-id`' />\n","comments":"This isn't a node in MD-SAL, but we need to save this for later when we are doing EIPAM processing","x":1412.380874633789,"y":1262.3011646270752,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"173cdbc6.145594","type":"set","name":"set ip-version ipv6, use-dhcp, and ip-count","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].ip-version'\n   value='ipv6' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].use-dhcp'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].ipv6-use-dhcp`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-information-items.network-information-item[$network-information-index].ip-count'\n   value='`$db.vfc-to-network-role-mapping[$network-role-index].ipv6-count`' />\n","comments":"","x":2039.1903533935547,"y":1574.5953512191772,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"f5972382.8377e","type":"switchNode","name":"switch ecomp-generated-naming == 'Y'","xml":"<switch test=\"$db.vfc-model.ecomp-generated-naming == 'Y'\">\n","comments":"","outputs":1,"x":1058.999942779541,"y":541.690746307373,"z":"13e6e2ea.39c6bd","wires":[["90686169.46114"]]},{"id":"90686169.46114","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1290.6665534973145,"y":540.6903772354126,"z":"13e6e2ea.39c6bd","wires":[["723f449d.59b57c"]]},{"id":"723f449d.59b57c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'ECOMP generated naming is not Y for VFC customization UUID ' + $db.vf-module-to-vfc-mapping[$db-vm-index].vfc_customization_uuid`\" />\n","comments":"","x":1437.333293914795,"y":540.023832321167,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1f09fa88.e70a15","type":"set","name":"set vf-module-to-vfc-mapping length to 0","xml":"<set>\n<parameter name='db.vf-module-to-vfc-mapping_length' value='0' />\n","comments":"","x":1222.2380447387695,"y":353.9761619567871,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"d7650e2f.710f5","type":"set","name":"set vfc-to-network-role-mapping length to 0","xml":"<set>\n<parameter name='db.vfc-to-network-role-mapping_length' value='0' />\n","comments":"","x":1669.190414428711,"y":1050.3095417022705,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9d5e708.3c6859","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":229.49999237060547,"y":2671.3578300476074,"z":"13e6e2ea.39c6bd","wires":[["63f3696.6218498","50c85fed.5c6f5","b4576528.8788e8","87328741.8bb538","598265d5.076a1c","c6d86686.1ef208","1518dbb.eb54c24","794438e6.14a948","d35b17af.0f15b8","9c2146c7.85c5b8","6de6e324.feccdc","eaa55ef8.4455b","23b6184c.984c48","a255596.979d8a8"]]},{"id":"c40d94b7.4c8af8","type":"switchNode","name":"switch naming-policy","xml":"<switch test=\"$db.vfc-model.naming-policy\">\n","comments":"","outputs":1,"x":1005.4761962890625,"y":588.4528875350952,"z":"13e6e2ea.39c6bd","wires":[["cd6dd56.4ba2128"]]},{"id":"cd6dd56.4ba2128","type":"outcomeFalse","name":"NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1291.4285354614258,"y":587.4525203704834,"z":"13e6e2ea.39c6bd","wires":[["5be9e020.01d8"]]},{"id":"5be9e020.01d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'naming_policy is null for VFC customization UUID ' + $db.vf-module-to-vfc-mapping[$db-vm-index].vfc_customization_uuid`\" />\n","comments":"","x":1438.0952758789062,"y":586.7859754562378,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"339e662e.fbd89a","type":"call","name":"call GENERIC-RESOURCE-API:naming-policy-generate-name","xml":"<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n","comments":"","outputs":1,"x":1459.7619438171387,"y":815.5957231521606,"z":"13e6e2ea.39c6bd","wires":[["b41879b4.cf80e8","8d4f03c2.ba403"]]},{"id":"76706fb6.60a4e","type":"set","name":"set variables for generating VM name","xml":"<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$db.vfc-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='VM' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$db.vfc-model.customization-uuid`' />\n<parameter name='naming-policy-generate-name-input.vnf-name' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name`' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n","comments":"","x":1381.1902198791504,"y":771.3100023269653,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4d106fd0.8afe8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unable to generate VM name: ' + $error-message`\" />\n","comments":"","x":2099.761787414551,"y":792.7383985519409,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"21a55e27.060852","type":"call","name":"call GENERIC-RESOURCE-API:naming-policy-generate-name","xml":"<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n","comments":"","outputs":1,"x":1458.3333473205566,"y":918.4528799057007,"z":"13e6e2ea.39c6bd","wires":[["8c806b8.0817e98","7f560e9b.dfd6a"]]},{"id":"a38671f.88cbf9","type":"set","name":"set variables for generating VNFC name","xml":"<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$db.vfc-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNFC' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$db.vf-module-to-vfc-mapping[$vm-type-index].vf-module-customization-uuid`' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.vnf-name' value='`$vf-module-topology-operation-input.vnf-information.vnf-id`' />\n<parameter name='naming-policy-generate-name-input.vm-name' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]`' />\n","comments":"","x":1388.3332710266113,"y":867.0242071151733,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4a88df43.04fef","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unable to generate VNFC name: ' + $error-message`\" />\n","comments":"","x":2100.6191177368164,"y":891.8336629867554,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"711a6ca3.f0fe44","type":"set","name":"set vnfc-name to generated name","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vm-index].vnfc-name'\n  value='`$naming-policy-generate-name-output.vnfc-name`' />\n","comments":"","x":1988.2854804992676,"y":937.6908407211304,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1c81545b.1b50cc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1926.6666297912598,"y":891.7862119674683,"z":"13e6e2ea.39c6bd","wires":[["4a88df43.04fef","521a6c5f.21d114"]]},{"id":"8c806b8.0817e98","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1761.6668128967285,"y":891.786292552948,"z":"13e6e2ea.39c6bd","wires":[["1c81545b.1b50cc"]]},{"id":"7f560e9b.dfd6a","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1765.0000305175781,"y":938.452877998352,"z":"13e6e2ea.39c6bd","wires":[["711a6ca3.f0fe44"]]},{"id":"4214c675.f10ac8","type":"set","name":"set vnfc-names_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length'\n  value='`$db.vf-module-to-vfc-mapping[$vm-type-index].vm-count`' />\n","comments":"","x":1008.3333358764648,"y":728.4528951644897,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"a49b0347.b961f","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3391.3811416625977,"y":773.2147998809814,"z":"13e6e2ea.39c6bd","wires":[["58315482.1be8cc","b99998cf.6bb228"]]},{"id":"b99998cf.6bb228","type":"call","name":"call GENERIC-RESOURCE-API:naming-policy-generate-name","xml":"<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n","comments":"","outputs":1,"x":3715.666847229004,"y":799.7863311767578,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"58315482.1be8cc","type":"set","name":"set variables for deleting name","xml":"<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VNFC' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n","comments":"","x":3617.0954666137695,"y":752.6434020996094,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"521a6c5f.21d114","type":"for","name":"for each vm-type","xml":"<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n","comments":"","outputs":1,"x":2560.143524169922,"y":683.4052515029907,"z":"13e6e2ea.39c6bd","wires":[["afeba0ce.e026"]]},{"id":"2a35635e.28750c","type":"for","name":"for each vnfc","xml":"<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n","comments":"","outputs":1,"x":2862.714855194092,"y":739.5480680465698,"z":"13e6e2ea.39c6bd","wires":[["e505c5d.554b238"]]},{"id":"e505c5d.554b238","type":"switchNode","name":"switch vnfc-name","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`'>\n","comments":"","outputs":1,"x":3069.714786529541,"y":739.8813858032227,"z":"13e6e2ea.39c6bd","wires":[["5fa252e7.81574c","f681c938.b26858"]]},{"id":"5fa252e7.81574c","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":3238.0480461120605,"y":706.5480918884277,"z":"13e6e2ea.39c6bd","wires":[["8e550d8.23bf5f"]]},{"id":"f681c938.b26858","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3239.7147178649902,"y":772.7386045455933,"z":"13e6e2ea.39c6bd","wires":[["a49b0347.b961f"]]},{"id":"8e550d8.23bf5f","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3368.0478897094727,"y":704.881443977356,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"1eeb0dd0.2caa32","type":"comment","name":"Rollback any generated VM and VNFC names","info":"","comments":"","x":2776.1905937194824,"y":577.5004119873047,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"afeba0ce.e026","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2713.0955772399902,"y":682.7862062454224,"z":"13e6e2ea.39c6bd","wires":[["2a35635e.28750c","8ec715d5.ed2bf8"]]},{"id":"1f772d12.9894d3","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3389.9525108337402,"y":657.5004873275757,"z":"13e6e2ea.39c6bd","wires":[["57b851c2.70962","94a2a62b.184d48"]]},{"id":"94a2a62b.184d48","type":"call","name":"call GENERIC-RESOURCE-API:naming-policy-generate-name","xml":"<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n","comments":"","outputs":1,"x":3714.2382164001465,"y":684.072018623352,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"57b851c2.70962","type":"set","name":"set variables for deleting name","xml":"<set>\n<parameter name='naming-policy-generate-name-input.naming-type' value='VM' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='naming-policy-generate-name-input.action' value='DELETE' />\n","comments":"","x":3615.666835784912,"y":636.9290895462036,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"8ec715d5.ed2bf8","type":"for","name":"for each vm name","xml":"<for silentFailure='true' index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name_length`' >\n","comments":"","outputs":1,"x":2875.571891784668,"y":623.8337755203247,"z":"13e6e2ea.39c6bd","wires":[["625f6664.ac0f48"]]},{"id":"625f6664.ac0f48","type":"switchNode","name":"switch vm-name","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]`'>\n","comments":"","outputs":1,"x":3068.2861557006836,"y":623.1670732498169,"z":"13e6e2ea.39c6bd","wires":[["8f655289.9c337","8927e94a.49cc88"]]},{"id":"8f655289.9c337","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":3236.619415283203,"y":590.833779335022,"z":"13e6e2ea.39c6bd","wires":[["cba034a4.e16dd8"]]},{"id":"8927e94a.49cc88","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3238.286087036133,"y":657.0242919921875,"z":"13e6e2ea.39c6bd","wires":[["1f772d12.9894d3"]]},{"id":"cba034a4.e16dd8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3366.6192588806152,"y":589.1671314239502,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"31801b6d.e4e794","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1926.9047470092773,"y":792.7385950088501,"z":"13e6e2ea.39c6bd","wires":[["4d106fd0.8afe8","521a6c5f.21d114"]]},{"id":"87328741.8bb538","type":"set","name":"set variables for auto-ip call","xml":"<set>\n<parameter name='auto-ip-assignment-input.aic-cloud-region'\n  value='`$tmp.vf-module-topology.aic-cloud-region`' />\n<parameter name='auto-ip-assignment-input.vf-module.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n<parameter name='auto-ip-assignment-input.vf-module-id'\n  value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='auto-ip-assignment-input.service-instance-id'\n  value='`$service-data.service-information.service-instance-id`' />\n<parameter name='auto-ip-assignment-input.service-type'\n  value='`$service-data.service-information.service-type`' />\n","comments":"","x":615.0000534057617,"y":1645.3576192855835,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"23b6184c.984c48","type":"call","name":"call GENERIC-RESOURCE-API:auto-ip-assignment","xml":"<call module='GENERIC-RESOURCE-API' rpc='auto-ip-assignment' mode='sync' >\n","comments":"","outputs":1,"x":688.333366394043,"y":1883.6908798217773,"z":"13e6e2ea.39c6bd","wires":[["20c7894.db67076"]]},{"id":"5f9b8976.1118a8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1549.9999618530273,"y":1005.3576135635376,"z":"13e6e2ea.39c6bd","wires":[["7f8ac8c0.5a55c8","521a6c5f.21d114"]]},{"id":"14d70fd7.6db44","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1768.3332138061523,"y":1213.6909265518188,"z":"13e6e2ea.39c6bd","wires":[["edc0a5ec.24cc78","521a6c5f.21d114"]]},{"id":"20c7894.db67076","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":959.9999809265137,"y":1883.6910009384155,"z":"13e6e2ea.39c6bd","wires":[["7192aaf0.52a984"]]},{"id":"7192aaf0.52a984","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1118.3332557678223,"y":1882.0242795944214,"z":"13e6e2ea.39c6bd","wires":[["521a6c5f.21d114","45026188.78415"]]},{"id":"45026188.78415","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Failure in call to auto-ip-assignment: ' + $error-message`\" />\n","comments":"","x":1296.6666679382324,"y":1881.024374961853,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"771b1ebb.9c0cb","type":"set","name":"set test EIPAM response","xml":"<set>\n<parameter name='eipam-ip-block.plans_length' value='2' />\n<parameter name='eipam-ip-block.plans[0].plan-name' value='plan-1' />\n<parameter name='eipam-ip-block.plans[0].requests_length' value='6' />\n<parameter name='eipam-ip-block.plans[0].requests[0].client-key'\n  value='vm-type-1|zmtn6nf-code-16code-1001|network-role-1|subnet-role-1|FIXED|4|1' />\n<parameter name='eipam-ip-block.plans[0].requests[0].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[0].ip-prefix' value='1.1.1.1' />\n<parameter name='eipam-ip-block.plans[0].requests[0].ip-version' value='4' />\n<parameter name='eipam-ip-block.plans[0].requests[1].client-key'\n  value='vm-type-1|zmtn6nf-code-16code-1001|network-role-1|subnet-role-1|FIXED|6|1' />\n<parameter name='eipam-ip-block.plans[0].requests[1].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[1].ip-prefix' value='cafe::1001' />\n<parameter name='eipam-ip-block.plans[0].requests[1].ip-version' value='6' />\n<parameter name='eipam-ip-block.plans[0].requests[2].client-key'\n  value='vm-type-2|zmtn6nf-code-16code-2001|network-role-2|subnet-role-2|FIXED|4|1' />\n<parameter name='eipam-ip-block.plans[0].requests[2].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[2].ip-prefix' value='2.2.2.2' />\n<parameter name='eipam-ip-block.plans[0].requests[2].ip-version' value='4' />\n<parameter name='eipam-ip-block.plans[0].requests[3].client-key'\n  value='vm-type-2|zmtn6nf-code-16code-2001|network-role-2|subnet-role-2|FIXED|6|1' />\n<parameter name='eipam-ip-block.plans[0].requests[3].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[3].ip-prefix' value='cafe::1002' />\n<parameter name='eipam-ip-block.plans[0].requests[3].ip-version' value='6' />\n<parameter name='eipam-ip-block.plans[0].requests[4].client-key'\n  value='vm-type-2|zmtn6nf-code-16code-2001|network-role-2|subnet-role-2|FIXED|6|1' />\n<parameter name='eipam-ip-block.plans[0].requests[4].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[4].ip-prefix' value='cafe::1003' />\n<parameter name='eipam-ip-block.plans[0].requests[4].ip-version' value='6' />\n<parameter name='eipam-ip-block.plans[0].requests[5].client-key'\n  value='vm-type-2|zmtn6nf-code-16code-2001|network-role-2|subnet-role-2|FIXED|4|1' />\n<parameter name='eipam-ip-block.plans[0].requests[5].ip-type' value='FIXED' />\n<parameter name='eipam-ip-block.plans[0].requests[5].ip-prefix' value='3.3.3.3' />\n<parameter name='eipam-ip-block.plans[0].requests[5].ip-version' value='4' />\n\n<parameter name='eipam-ip-block.plans[1].requests_length' value='4' />\n<parameter name='eipam-ip-block.plans[1].requests[0].client-key'\n  value='vm-type-1|network-role-1|subnet-role-1|VIP|4|1|1' />\n<parameter name='eipam-ip-block.plans[1].requests[0].ip-type' value='VIP' />\n<parameter name='eipam-ip-block.plans[1].requests[0].ip-prefix' value='11.11.11.11' />\n<parameter name='eipam-ip-block.plans[1].requests[0].ip-version' value='4' />\n<parameter name='eipam-ip-block.plans[1].requests[1].client-key'\n  value='vm-type-1|network-role-1|subnet-role-1|VIP|4|1|1' />\n<parameter name='eipam-ip-block.plans[1].requests[1].ip-type' value='VIP' />\n<parameter name='eipam-ip-block.plans[1].requests[1].ip-prefix' value='22.22.22.22' />\n<parameter name='eipam-ip-block.plans[1].requests[1].ip-version' value='4' />\n<parameter name='eipam-ip-block.plans[1].requests[2].client-key'\n  value='vm-type-1|network-role-1|subnet-role-1|VIP|6|1|1' />\n<parameter name='eipam-ip-block.plans[1].requests[2].ip-type' value='VIP' />\n<parameter name='eipam-ip-block.plans[1].requests[2].ip-prefix' value='cafe::1111' />\n<parameter name='eipam-ip-block.plans[1].requests[2].ip-version' value='6' />\n<parameter name='eipam-ip-block.plans[1].requests[3].client-key'\n  value='vm-type-1|network-role-1|subnet-role-1|VIP|6|1|1' />\n<parameter name='eipam-ip-block.plans[1].requests[3].ip-type' value='VIP' />\n<parameter name='eipam-ip-block.plans[1].requests[3].ip-prefix' value='cafe::2222' />\n<parameter name='eipam-ip-block.plans[1].requests[3].ip-version' value='6' />\n","comments":"","x":600.0000648498535,"y":2034.357575416565,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"598265d5.076a1c","type":"for","name":"for each plan","xml":"<for silentFailure='true' index='plan-index' start='0' end='`$eipam-ip-block.plans_length`' >\n","comments":"","outputs":1,"x":558.3333778381348,"y":2317.024312019348,"z":"13e6e2ea.39c6bd","wires":[["1b197272.bbfabe"]]},{"id":"1b197272.bbfabe","type":"for","name":"for each request","xml":"<for silentFailure='true' index='req-index' start='0' end='`$eipam-ip-block.plans[$plan-index].requests_length`' >\n","comments":"","outputs":1,"x":741.6666641235352,"y":2317.0243520736694,"z":"13e6e2ea.39c6bd","wires":[["144833a2.5430cc"]]},{"id":"144833a2.5430cc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":924.9999923706055,"y":2315.35769367218,"z":"13e6e2ea.39c6bd","wires":[["4aab1eb.fa430e","c7dde25e.0e54f","c07f7dfd.4def3","c042257a.473868","52b37045.0d7a5","57a47a87.12f354","da3b4ec1.df94b","9fcfcf11.64142"]]},{"id":"4aab1eb.fa430e","type":"execute","name":"split client-key","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='ck-split' />\n   <parameter name='original_string' value='`$eipam-ip-block.plans[$plan-index].requests[$req-index].client-key`' />\n   <parameter name='regex' value='\\|' />\n","comments":"","outputs":1,"x":1110.0952491760254,"y":2091.5480642318726,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"c7dde25e.0e54f","type":"set","name":"set variables from eipam data","xml":"<set>\n<parameter name='tmp.vm-type' value='`$ck-split[0]`' />\n<parameter name='tmp.vnfc-name' value='`$ck-split[1]`' />\n<parameter name='tmp.network-role' value='`$ck-split[2]`' />\n<parameter name='tmp.subnet-role' value='`$ck-split[3]`' />\n<parameter name='tmp.address-family' value='`$ck-split[5]`' />\n<parameter name='tmp.ip-type' value='`$eipam-ip-block.plans[$plan-index].requests[$req-index].ip-type`' />\n<parameter name='tmp.client-key' value='`$eipam-ip-block.plans[$plan-index].requests[$req-index].client-key`' />\n<parameter name='tmp.ip-prefix' value='`$eipam-ip-block.plans[$plan-index].requests[$req-index].ip-prefix`' />\n","comments":"","x":1156.7619552612305,"y":2134.8816442489624,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c07f7dfd.4def3","type":"set","name":"set found-vm-type to false","xml":"<set>\n<parameter name='found-vm-type' value='false' />\n","comments":"","x":1145.0000495910645,"y":2300.357734680176,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c042257a.473868","type":"for","name":"for each vm-type","xml":"<for index='vm-type-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n","comments":"","outputs":1,"x":1116.6667442321777,"y":2350.3576164245605,"z":"13e6e2ea.39c6bd","wires":[["a975e9b3.b05228"]]},{"id":"a975e9b3.b05228","type":"switchNode","name":"vm-types match?","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-type\n  == $tmp.vm-type`'>\n","comments":"","outputs":1,"x":1316.6666946411133,"y":2350.357738494873,"z":"13e6e2ea.39c6bd","wires":[["649bdd78.280204"]]},{"id":"31cb7093.bd3c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1628.33349609375,"y":2347.0243644714355,"z":"13e6e2ea.39c6bd","wires":[["a35843d6.249da","d47afd32.863ab"]]},{"id":"a35843d6.249da","type":"set","name":"set found-vm-type to true","xml":"<set>\n<parameter name='found-vm-type' value='true' />\n","comments":"","x":1839.999984741211,"y":2317.024278640747,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"d47afd32.863ab","type":"break","name":"break","xml":"<break>\n","comments":"","x":1783.3334007263184,"y":2365.3577365875244,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"52b37045.0d7a5","type":"switchNode","name":"switch found-vm-type","xml":"<switch test='`$found-vm-type`'>\n","comments":"","outputs":1,"x":1126.666519165039,"y":2427.0242042541504,"z":"13e6e2ea.39c6bd","wires":[["881a97dd.d9f598"]]},{"id":"881a97dd.d9f598","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1306.6667366027832,"y":2425.3577003479004,"z":"13e6e2ea.39c6bd","wires":[["9bc3aed6.a8fd8"]]},{"id":"9bc3aed6.a8fd8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1468.3333892822266,"y":2423.690870285034,"z":"13e6e2ea.39c6bd","wires":[["ab930b30.224238","da81ad8c.c8b9e"]]},{"id":"ab930b30.224238","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'EIPAM returned vm-type ' + $tmp.vm-type + ' but could not find that under vf-module-assignments'`\" />\n","comments":"","x":1646.6668014526367,"y":2422.690965652466,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"da81ad8c.c8b9e","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2401.666669209798,"y":560.3576339085896,"z":"13e6e2ea.39c6bd","wires":[["521a6c5f.21d114","25bde5f2.975d8a"]]},{"id":"25bde5f2.975d8a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2528.333194732666,"y":472.0242986679077,"z":"13e6e2ea.39c6bd","wires":[["55b59017.ac142"]]},{"id":"17ceb097.02119f","type":"comment","name":"rollback IP address assignments","info":"","comments":"","x":2600.000002543131,"y":410.3576339085896,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"60ed3dc.3ff09c4","type":"switchNode","name":"switch vnfc-network-data_length","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data_length`'>\n","comments":"","outputs":1,"x":1723.3334121704102,"y":2888.6906232833862,"z":"13e6e2ea.39c6bd","wires":[["25266f18.0de0d","e78464e4.8d58b8","cc615615.e12138"]]},{"id":"25266f18.0de0d","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1953.333267211914,"y":2743.6907920837402,"z":"13e6e2ea.39c6bd","wires":[["98c659aa.db2028"]]},{"id":"e78464e4.8d58b8","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1953.0951461791992,"y":2786.309772491455,"z":"13e6e2ea.39c6bd","wires":[["98c659aa.db2028"]]},{"id":"cc615615.e12138","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1955.000072479248,"y":3075.357873916626,"z":"13e6e2ea.39c6bd","wires":[["67c447ad.869408"]]},{"id":"98c659aa.db2028","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2114.9998779296875,"y":2762.024200439453,"z":"13e6e2ea.39c6bd","wires":[["148bbc8c.430b33","8f8e7022.9df53","6ba05fe1.0dae4","78b1f4c5.bbb46c","b4b4329a.94d86"]]},{"id":"148bbc8c.430b33","type":"set","name":"set vnfc-network-data_length to 1, and set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-network-role'\n  value='`$tmp.network-role`' />\n  ","comments":"","x":2433.3332595825195,"y":2668.6912717819214,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"8f8e7022.9df53","type":"set","name":"set vnfc-subnet_length to 1, and set subnet-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-subnet-role'\n  value='`$tmp.subnet-role`' />","comments":"","x":2408.3331298828125,"y":2715.3577785491943,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6ba05fe1.0dae4","type":"set","name":"set vnfc-ip-assignments_length to 1, and address-family","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-address-family'\n  value='`$tmp.address-family`' />\n  ","comments":"","x":2431.666679382324,"y":2760.357536315918,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"78b1f4c5.bbb46c","type":"set","name":"set vnfc-subnet-ip_length to 1","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip_length' value='1' />\n","comments":"","x":2349.9997634887695,"y":2807.0243701934814,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b4b4329a.94d86","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-ip-address'\n  value='`$tmp.ip-prefix`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-client-key'\n  value='`$tmp.client-key`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[0].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].ip-type'\n  value='FIXED' />\n","comments":"","x":2304.999885559082,"y":2850.3574619293213,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"da3b4ec1.df94b","type":"switchNode","name":"switch ip-type","xml":"<switch test='`$tmp.ip-type`'>\n","comments":"","outputs":1,"x":1097.3333740234375,"y":3437.0240783691406,"z":"13e6e2ea.39c6bd","wires":[["2033ce0d.bc8622","b9c2c784.3125d8"]]},{"id":"2033ce0d.bc8622","type":"other","name":"FIXED","xml":"<outcome value='FIXED'>\n","comments":"","outputs":1,"x":1250.666732788086,"y":2685.3576374053955,"z":"13e6e2ea.39c6bd","wires":[["9d4cf962.1d0768"]]},{"id":"67c447ad.869408","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2118.3334884643555,"y":3075.35772895813,"z":"13e6e2ea.39c6bd","wires":[["2839b041.8f54d","2283280.d62a5d8","a05a62b4.2336d"]]},{"id":"2839b041.8f54d","type":"set","name":"set found-network-role to false","xml":"<set>\n<parameter name='found-network-role' value='false' />\n","comments":"","x":2353.333541870117,"y":2897.858076095581,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"2283280.d62a5d8","type":"for","name":"for each network-role","xml":"<for index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":2325.00040435791,"y":2942.524663925171,"z":"13e6e2ea.39c6bd","wires":[["32b23a3.5a389c6"]]},{"id":"32b23a3.5a389c6","type":"switchNode","name":"network-role matches","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $tmp.network-role`'>\n","comments":"","outputs":1,"x":2548.333915710449,"y":2942.1914920806885,"z":"13e6e2ea.39c6bd","wires":[["a88574bd.1678d8"]]},{"id":"a88574bd.1678d8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2721.6670112609863,"y":2941.191167831421,"z":"13e6e2ea.39c6bd","wires":[["88d1efc2.912a6"]]},{"id":"88d1efc2.912a6","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2873.33349609375,"y":2940.191068649292,"z":"13e6e2ea.39c6bd","wires":[["b50ce667.7886c8","32f1a205.5d725e"]]},{"id":"b50ce667.7886c8","type":"set","name":"set found-network-role to true","xml":"<set>\n<parameter name='found-network-role' value='true' />\n","comments":"","x":3091.6669921875,"y":2911.191068649292,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"32f1a205.5d725e","type":"break","name":"break","xml":"<break>\n","comments":"","x":3021.667022705078,"y":2961.191168785095,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"a05a62b4.2336d","type":"switchNode","name":"switch found-network-role","xml":"<switch test='`$found-network-role`'>\n","comments":"","outputs":1,"x":2326.667167663574,"y":3327.857654571533,"z":"13e6e2ea.39c6bd","wires":[["b91f1532.009a78","fdafd38.5ab293"]]},{"id":"fdafd38.5ab293","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2547.5003662109375,"y":3522.8578577041626,"z":"13e6e2ea.39c6bd","wires":[["77606e95.9710c"]]},{"id":"b91f1532.009a78","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2549.9998779296875,"y":3152.0241887569427,"z":"13e6e2ea.39c6bd","wires":[["68f6d18c.f9f8f"]]},{"id":"68f6d18c.f9f8f","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2708.3334426879883,"y":3152.024410009384,"z":"13e6e2ea.39c6bd","wires":[["5fd87962.076fc8","9e5a04a9.fc30c8","64cad055.48cd2","db9376b.eaf6588","3310fef0.424282","804f6159.edd6c","556256da.341038"]]},{"id":"77606e95.9710c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2702.500274658203,"y":3523.1910066604614,"z":"13e6e2ea.39c6bd","wires":[["8f2afed7.bdf8","1136a4d9.72946b","55c78324.3ca87c"]]},{"id":"5fd87962.076fc8","type":"set","name":"increment vnfc-network-data_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data_length'\n  value='`$network-role-index + 1`' />\n  ","comments":"","x":2970.0007705688477,"y":3105.3580656051636,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9e5a04a9.fc30c8","type":"set","name":"set vnfc-subnet_length to 1, and set subnet-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-subnet-role'\n  value='`$tmp.subnet-role`' />","comments":"","x":3003.3335189819336,"y":3155.3577728271484,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"64cad055.48cd2","type":"set","name":"set vnfc-ip-assignments_length to 1, and address-family","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-address-family'\n  value='`$tmp.address-family`' />","comments":"","x":3028.3336029052734,"y":3200.3578090667725,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"db9376b.eaf6588","type":"set","name":"set vnfc-subnet-ip_length to 1","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip_length' value='1' />\n","comments":"","x":2945.000114440918,"y":3247.0243186950684,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"3310fef0.424282","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-ip-address'\n  value='`$tmp.ip-prefix`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-client-key'\n  value='`$tmp.client-key`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[0].vnfc-ip-assignments[0].vnfc-subnet-ip[0].ip-type'\n  value='FIXED' />\n","comments":"","x":2900.0002365112305,"y":3290.357410430908,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"8f2afed7.bdf8","type":"set","name":"set found-subnet-role to false","xml":"<set>\n<parameter name='found-subnet-role' value='false' />\n","comments":"","x":2940.8336181640625,"y":3344.5247297286987,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1136a4d9.72946b","type":"for","name":"for each subnet-role","xml":"<for index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n","comments":"","outputs":1,"x":2912.5004806518555,"y":3389.1913175582886,"z":"13e6e2ea.39c6bd","wires":[["7fd50a06.b93e44"]]},{"id":"7fd50a06.b93e44","type":"switchNode","name":"subnet-role matches","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-subnet-role\n  == $tmp.subnet-role`'>\n","comments":"","outputs":1,"x":3135.8339920043945,"y":3388.858145713806,"z":"13e6e2ea.39c6bd","wires":[["5805cc31.6906d4"]]},{"id":"5805cc31.6906d4","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3309.1670875549316,"y":3387.8578214645386,"z":"13e6e2ea.39c6bd","wires":[["8587f11e.d3a04"]]},{"id":"8587f11e.d3a04","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3460.8335723876953,"y":3386.8577222824097,"z":"13e6e2ea.39c6bd","wires":[["965b10d5.e7b31","7d6b549a.45bb3c"]]},{"id":"965b10d5.e7b31","type":"set","name":"set found-subnet-role to true","xml":"<set>\n<parameter name='found-subnet-role' value='true' />\n","comments":"","x":3679.1670684814453,"y":3357.8577222824097,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"7d6b549a.45bb3c","type":"break","name":"break","xml":"<break>\n","comments":"","x":3609.1670989990234,"y":3407.857822418213,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"55c78324.3ca87c","type":"switchNode","name":"switch found-subnet-role","xml":"<switch test='`$found-subnet-role`'>\n","comments":"","outputs":1,"x":2919.1672744750977,"y":3712.857183456421,"z":"13e6e2ea.39c6bd","wires":[["9069277e.fcb1e8","a4c9692a.7873c8"]]},{"id":"a4c9692a.7873c8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3124.1668090820312,"y":3869.5243701934814,"z":"13e6e2ea.39c6bd","wires":[["8164b76f.4f1de8"]]},{"id":"9069277e.fcb1e8","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":3124.1664810180664,"y":3576.191110610962,"z":"13e6e2ea.39c6bd","wires":[["56d7e5b5.6be7fc"]]},{"id":"56d7e5b5.6be7fc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3282.500045776367,"y":3576.1913318634033,"z":"13e6e2ea.39c6bd","wires":[["ea54da7d.3f3198","3e2e98ab.c48318","bd191b30.5a4268","76e82015.194fb","7f3e5552.0e3d2c","bf5a6271.6d679"]]},{"id":"8164b76f.4f1de8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3279.166717529297,"y":3869.8575191497803,"z":"13e6e2ea.39c6bd","wires":[["28713321.8a25bc","53e0a7bb.fca328","4df98faf.82703"]]},{"id":"ea54da7d.3f3198","type":"set","name":"set vnfc-ip-assignments_length to 1","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length' value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[0].vnfc-address-family'\n  value='`$tmp.address-family`' />\n","comments":"","x":3534.1670532226562,"y":3592.857608795166,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"3e2e98ab.c48318","type":"set","name":"set vnfc-subnet-ip_length to 1","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[0].vnfc-subnet-ip_length' value='1' />\n","comments":"","x":3514.166893005371,"y":3637.857668876648,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"bd191b30.5a4268","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-ip-address'\n  value='`$tmp.ip-prefix`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[0].vnfc-subnet-ip[0].vnfc-client-key'\n  value='`$tmp.client-key`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[0].vnfc-subnet-ip[0].ip-type'\n  value='FIXED' />\n","comments":"","x":3469.1670150756836,"y":3681.190760612488,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"76e82015.194fb","type":"set","name":"increment vnfc-subnet_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length'\n  value='`$subnet-role-index + 1`' />\n  ","comments":"","x":3519.1668853759766,"y":3546.191328048706,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"28713321.8a25bc","type":"set","name":"set found-address-family to false","xml":"<set>\n<parameter name='found-address-family' value='false' />\n","comments":"","x":3524.1668090820312,"y":3726.1910066604614,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"53e0a7bb.fca328","type":"for","name":"for each address-family","xml":"<for index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n","comments":"","outputs":1,"x":3495.8337173461914,"y":3770.85751247406,"z":"13e6e2ea.39c6bd","wires":[["c0b62546.59aab8"]]},{"id":"c0b62546.59aab8","type":"switchNode","name":"address-family matches","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-subnet-role\n  == $tmp.address-family`'>\n","comments":"","outputs":1,"x":3716.1672973632812,"y":3770.524537086487,"z":"13e6e2ea.39c6bd","wires":[["ae8e0e82.f5de8"]]},{"id":"ae8e0e82.f5de8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3886.5003929138184,"y":3769.5242128372192,"z":"13e6e2ea.39c6bd","wires":[["7a31318.f63c9d"]]},{"id":"7a31318.f63c9d","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":4034.166877746582,"y":3768.5241136550903,"z":"13e6e2ea.39c6bd","wires":[["826ded94.a5795","e41e9f32.534a9"]]},{"id":"826ded94.a5795","type":"set","name":"set found-address-family to true","xml":"<set>\n<parameter name='found-address-family' value='true' />\n","comments":"","x":4252.500373840332,"y":3739.5241136550903,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"e41e9f32.534a9","type":"break","name":"break","xml":"<break>\n","comments":"","x":4182.50040435791,"y":3789.5242137908936,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4df98faf.82703","type":"switchNode","name":"switch found-address-family","xml":"<switch test='`$found-address-family`'>\n","comments":"","outputs":1,"x":3512.5001373291016,"y":4019.52410697937,"z":"13e6e2ea.39c6bd","wires":[["dc3802bf.10e2c","8943e1bb.8ec55"]]},{"id":"8943e1bb.8ec55","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3720.833221435547,"y":4116.191186904907,"z":"13e6e2ea.39c6bd","wires":[["572ce392.74af5c"]]},{"id":"dc3802bf.10e2c","type":"outcomeTrue","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":3712.49951171875,"y":3932.8572158813477,"z":"13e6e2ea.39c6bd","wires":[["ff709b2d.6c7448"]]},{"id":"ff709b2d.6c7448","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3870.833076477051,"y":3932.857437133789,"z":"13e6e2ea.39c6bd","wires":[["b1dce9be.3dc5b8","a107927b.81f53","b9c71fe3.0cd2a","193827f5.6035f8","fe3ad0f.f08ce3"]]},{"id":"572ce392.74af5c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3875.8331298828125,"y":4116.524335861206,"z":"13e6e2ea.39c6bd","wires":[["b07bdfd9.ad1ad","4960815f.e5bc9","d7e6b87e.300348"]]},{"id":"b1dce9be.3dc5b8","type":"set","name":"set vnfc-subnet-ip_length to 1","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length' value='1' />\n","comments":"","x":4100.833297729492,"y":3976.190981864929,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"a107927b.81f53","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address'\n  value='`$tmp.ip-prefix`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-client-key'\n  value='`$tmp.client-key`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].ip-type'\n  value='FIXED' />\n","comments":"","x":4055.833251953125,"y":4019.5239973068237,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b9c71fe3.0cd2a","type":"set","name":"increment vnfc-ip-assignments_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length'\n  value='`$address-family-index + 1`' />\n  ","comments":"","x":4129.16658782959,"y":3931.1911764144897,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"57a47a87.12f354","type":"switchNode","name":"switch address-family","xml":"<switch test='`$tmp.address-family`'>\n","comments":"","outputs":1,"x":1131.666805267334,"y":2240.357734680176,"z":"13e6e2ea.39c6bd","wires":[["e1d33b8e.c7e338","30637a91.193656"]]},{"id":"e1d33b8e.c7e338","type":"other","name":"4","xml":"<outcome value='4'>\n","comments":"","outputs":1,"x":1308.3332786560059,"y":2218.690944671631,"z":"13e6e2ea.39c6bd","wires":[["85adb8e7.0976f8"]]},{"id":"30637a91.193656","type":"other","name":"6","xml":"<outcome value='6'>\n","comments":"","outputs":1,"x":1306.6665725708008,"y":2262.0242805480957,"z":"13e6e2ea.39c6bd","wires":[["10be448e.752b6b"]]},{"id":"85adb8e7.0976f8","type":"set","name":"set address-family to ipv4","xml":"<set>\n<parameter name='tmp.address-family' value='ipv4' />\n","comments":"","x":1494.9999923706055,"y":2218.690984725952,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"10be448e.752b6b","type":"set","name":"set address-family to ipv6","xml":"<set>\n<parameter name='tmp.address-family' value='ipv6' />\n","comments":"","x":1493.3333892822266,"y":2262.0242443084717,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b07bdfd9.ad1ad","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$ip-address-index].vnfc-ip-address'\n  value='`$tmp.ip-prefix`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$ip-address-index].vnfc-client-key'\n  value='`$tmp.client-key`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$ip-address-index].ip-type'\n  value='FIXED' />\n","comments":"","x":4053.3330993652344,"y":4114.524302482605,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4960815f.e5bc9","type":"set","name":"set ip-address-index","xml":"<set>\n<parameter name='ip-address-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' />\n","comments":"","x":4071.66690826416,"y":4067.8578577041626,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"d7e6b87e.300348","type":"set","name":"increment vnfc-subnet-ip_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length'\n  value='`$ip-address-length + 1`' />\n","comments":"","x":4104.999755859375,"y":4159.524364471436,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"649bdd78.280204","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1475.000156402588,"y":2348.6910705566406,"z":"13e6e2ea.39c6bd","wires":[["31cb7093.bd3c8"]]},{"id":"c6d86686.1ef208","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-no-preload.log' />\n","comments":"","outputs":1,"x":556.6667022705078,"y":2217.0242443084717,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"66d4bdfe.f66fb4","type":"set","name":"set vm-network_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length'\n  value='`$db.vfc-to-network-role-mapping_length`' />\n","comments":"","x":995.0000610351562,"y":1592.024118423462,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1518dbb.eb54c24","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-no-preload2.log' />\n","comments":"","outputs":1,"x":572.5000152587891,"y":4855.35776424408,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"fe3ad0f.f08ce3","type":"set","name":"set address-family","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family'\n  value='`$tmp.address-family`' />\n  ","comments":"","x":4068.3333282470703,"y":3884.524182319641,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"193827f5.6035f8","type":"set","name":"set address-family-index","xml":"<set>\n<parameter name='address-family-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' />\n  ","comments":"","x":4085.0002403259277,"y":3842.8572702407837,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"bf5a6271.6d679","type":"set","name":"set subnet-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-subnet-role'\n  value='`$tmp.subnet-role`' />\n  ","comments":"","x":3470.0002212524414,"y":3499.524253845215,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"7f3e5552.0e3d2c","type":"set","name":"set subnet-role-index","xml":"<set>\n<parameter name='subnet-role-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' />\n","comments":"","x":3488.3333129882812,"y":3454.524251937866,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"556256da.341038","type":"set","name":"set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role'\n  value='`$tmp.network-role`' />\n  ","comments":"","x":2910.0002822875977,"y":3057.857900619507,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"804f6159.edd6c","type":"set","name":"set network-role-index","xml":"<set>\n<parameter name='network-role-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-networks.vnfc-network-data_length`' />\n","comments":"","x":2930.0001182556152,"y":3012.8575732707977,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"ac38490b.8fcd18","type":"set","name":"set found-vnfc-name to false","xml":"<set>\n<parameter name='found-vnfc-name' value='false' />\n","comments":"","x":1703.3332901000977,"y":2488.024443626404,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"22653bfc.8b7a14","type":"for","name":"for each vnfc-name","xml":"<for silentFailure='true' index='vnfc-name-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n","comments":"","outputs":1,"x":1673.3332290649414,"y":2538.0245265960693,"z":"13e6e2ea.39c6bd","wires":[["bf0a8e5.c63f87"]]},{"id":"bf0a8e5.c63f87","type":"switchNode","name":"vnfc-names match?","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-name\n  == $tmp.vnfc-name`'>\n","comments":"","outputs":1,"x":1864.9998893737793,"y":2538.024444580078,"z":"13e6e2ea.39c6bd","wires":[["4c6ca6ac.ec20d8"]]},{"id":"96b5ee9a.33f3f","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2176.666690826416,"y":2534.6910705566406,"z":"13e6e2ea.39c6bd","wires":[["e1d42125.3f537","663bddf4.3a7934"]]},{"id":"e1d42125.3f537","type":"set","name":"set found-vnfc-name to true","xml":"<set>\n<parameter name='found-vnfc-name' value='true' />\n","comments":"","x":2396.6664428710938,"y":2504.690866470337,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"663bddf4.3a7934","type":"break","name":"break","xml":"<break>\n","comments":"","x":2331.6665954589844,"y":2553.0244426727295,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c6b4719a.dc6ca","type":"switchNode","name":"switch found-vnfc-name","xml":"<switch test='`$found-vnfc-name`'>\n","comments":"","outputs":1,"x":1683.333023071289,"y":2614.690870285034,"z":"13e6e2ea.39c6bd","wires":[["58adec2d.2b7574"]]},{"id":"58adec2d.2b7574","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":1854.9999313354492,"y":2613.0244064331055,"z":"13e6e2ea.39c6bd","wires":[["f43cfeb6.4a8a5"]]},{"id":"f43cfeb6.4a8a5","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2016.6665840148926,"y":2611.3575763702393,"z":"13e6e2ea.39c6bd","wires":[["53deae46.834f2","da81ad8c.c8b9e"]]},{"id":"53deae46.834f2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'EIPAM returned VNFC name ' + $tmp.vnfc-name + ' but could not find that under vf-module-assignments for vm-type ' + $tmp.vm-type`\" />\n","comments":"","x":2194.9999961853027,"y":2610.357671737671,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"4c6ca6ac.ec20d8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2023.333351135254,"y":2536.3577766418457,"z":"13e6e2ea.39c6bd","wires":[["96b5ee9a.33f3f"]]},{"id":"b9c2c784.3125d8","type":"other","name":"VIP","xml":"<outcome value='VIP'>\n","comments":"","outputs":1,"x":1261.6667823791504,"y":4448.691262245178,"z":"13e6e2ea.39c6bd","wires":[["400a98ce.3a1b38"]]},{"id":"9d4cf962.1d0768","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1409.3333892822266,"y":2685.024366378784,"z":"13e6e2ea.39c6bd","wires":[["ac38490b.8fcd18","22653bfc.8b7a14","c6b4719a.dc6ca","60ed3dc.3ff09c4"]]},{"id":"39fdc359.ec208c","type":"set","name":"set variables from eipam data","xml":"<set>\n<parameter name='tmp.network-role' value='`$ck-split[1]`' />\n<parameter name='tmp.subnet-role' value='`$ck-split[2]`' />\n<parameter name='tmp.address-family' value='`$ck-split[4]`' />\n","comments":"","x":1655.333366394043,"y":4175.6911153793335,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"400a98ce.3a1b38","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1410.333641052246,"y":4448.3579568862915,"z":"13e6e2ea.39c6bd","wires":[["39fdc359.ec208c","9804f58a.62cd58","bceb44f3.14e468","111d3baa.2ac094"]]},{"id":"efcdf82d.885e98","type":"for","name":"for each vm-network","xml":"<for silentFailure='true' index='vm-network-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n","comments":"","outputs":1,"x":2160.0000534057617,"y":4363.691123008728,"z":"13e6e2ea.39c6bd","wires":[["b83efc26.aeed1"]]},{"id":"b83efc26.aeed1","type":"switchNode","name":"network-roles match?","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-role\n  == $tmp.network-role`'>\n","comments":"","outputs":1,"x":2373.6667404174805,"y":4363.6910400390625,"z":"13e6e2ea.39c6bd","wires":[["e23b064.f9749f8"]]},{"id":"fd8c18a4.5267c8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2711.33345413208,"y":4362.357585906982,"z":"13e6e2ea.39c6bd","wires":[["5d5f6fdc.c91e9","c0706fbf.53875"]]},{"id":"5d5f6fdc.c91e9","type":"break","name":"break","xml":"<break>\n","comments":"","x":2864.6665840148926,"y":4382.357789993286,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6e9c4629.bc3238","type":"switchNode","name":"switch tmp.vm-network-index","xml":"<switch test='`$tmp.vm-network-index`'>\n","comments":"","outputs":1,"x":2184.999931335449,"y":4482.023971557617,"z":"13e6e2ea.39c6bd","wires":[["6b87c2f7.512f5c"]]},{"id":"6b87c2f7.512f5c","type":"outcomeFalse","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":2380.0000610351562,"y":4480.357791900635,"z":"13e6e2ea.39c6bd","wires":[["2873f959.66f586"]]},{"id":"2873f959.66f586","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2531.666732788086,"y":4480.357629776001,"z":"13e6e2ea.39c6bd","wires":[["ca9da770.612e88","ac8c2d3f.4fc1","b05e43b1.66858"]]},{"id":"e23b064.f9749f8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2558.000114440918,"y":4363.0242919921875,"z":"13e6e2ea.39c6bd","wires":[["fd8c18a4.5267c8"]]},{"id":"111d3baa.2ac094","type":"switchNode","name":"switch tmp.address-family","xml":"<switch test='`$tmp.address-family`'>\n","comments":"","outputs":1,"x":1643.3331680297852,"y":4676.786513328552,"z":"13e6e2ea.39c6bd","wires":[["a3736ab5.de3198","5567cb71.c8e684"]]},{"id":"a3736ab5.de3198","type":"other","name":"4","xml":"<outcome value='4'>\n","comments":"","outputs":1,"x":1850.0000038146973,"y":4607.452527999878,"z":"13e6e2ea.39c6bd","wires":[["eb993152.19a82"]]},{"id":"5567cb71.c8e684","type":"other","name":"6","xml":"<outcome value='6'>\n","comments":"","outputs":1,"x":1848.8094482421875,"y":4761.929349899292,"z":"13e6e2ea.39c6bd","wires":[["eaa1b6f7.672238"]]},{"id":"7b8c2093.b07e","type":"switchNode","name":"switch tmp.length","xml":"<switch test='`$tmp.length`'>\n","comments":"","outputs":1,"x":2129.524238586426,"y":4625.357593536377,"z":"13e6e2ea.39c6bd","wires":[["cc88e2a8.5dde8","144d562.63225aa","677764bc.2fd59c"]]},{"id":"cc88e2a8.5dde8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2293.0952110290527,"y":4585.833422660828,"z":"13e6e2ea.39c6bd","wires":[["cc3858da.bc14d8"]]},{"id":"144d562.63225aa","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":2294.2858848571777,"y":4628.45237159729,"z":"13e6e2ea.39c6bd","wires":[["cc3858da.bc14d8"]]},{"id":"cc3858da.bc14d8","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v4_length'\n  value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v4[0]'\n  value='`$tmp.ip-prefix`' />\n","comments":"","x":2447.6192359924316,"y":4604.167006492615,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"677764bc.2fd59c","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2294.0476684570312,"y":4670.595855712891,"z":"13e6e2ea.39c6bd","wires":[["4e836d1e.c86b74"]]},{"id":"4e836d1e.c86b74","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2457.380989074707,"y":4668.929021835327,"z":"13e6e2ea.39c6bd","wires":[["f0d42fee.5d4e8","68676061.0e0c9"]]},{"id":"f0d42fee.5d4e8","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$tmp.length]'\n  value='`$tmp.ip-prefix`' />\n","comments":"","x":2633.5713272094727,"y":4644.642726898193,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"68676061.0e0c9","type":"set","name":"increment floating-ip-v4_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v4_length'\n  value='`$tmp.length + 1`' />\n","comments":"","x":2683.5715942382812,"y":4691.309234619141,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"fd74d6c9.7458a8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2293.808952331543,"y":4741.071571350098,"z":"13e6e2ea.39c6bd","wires":[["331dc73.d5e2638"]]},{"id":"bb60c5ac.d057f8","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":2293.570831298828,"y":4783.6905517578125,"z":"13e6e2ea.39c6bd","wires":[["331dc73.d5e2638"]]},{"id":"331dc73.d5e2638","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v6_length'\n  value='1' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v6[0]'\n  value='`$tmp.ip-prefix`' />\n","comments":"","x":2455.475715637207,"y":4759.405067443848,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c6578904.ad6e68","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2289.0472717285156,"y":4832.976842880249,"z":"13e6e2ea.39c6bd","wires":[["642b2dc5.096754"]]},{"id":"642b2dc5.096754","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2452.3805923461914,"y":4831.310009002686,"z":"13e6e2ea.39c6bd","wires":[["2e0198ef.fac958","6f2a4f57.153ce"]]},{"id":"2e0198ef.fac958","type":"set","name":"set eipam data","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v6[$tmp.length]'\n  value='`$tmp.ip-prefix`' />\n","comments":"","x":2635.7138442993164,"y":4801.310009002686,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6f2a4f57.153ce","type":"set","name":"increment floating-ip-v6_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v6_length'\n  value='`$tmp.length + 1`' />\n","comments":"","x":2685.714111328125,"y":4847.976516723633,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"55b59017.ac142","type":"update","name":"update EIPAM_IP_ASSIGNMENTS to PENDING_DELETE...","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"UPDATE EIPAM_IP_ASSIGNMENTS set status = $tmp.status WHERE info = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-topology-identifier.vf-module-id\" >","comments":"","outputs":1,"x":2828.3332138061523,"y":448.6909704208374,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"f8e94419.c5d8f8","type":"execute","name":"execute EIPAM unassign IP addresses","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.eipam.EIPAMPlugin\" method=\"unassignIPAddress\">\n<parameter name=\"deleteEIPAM_status\" value=\"`$tmp.status`\" />\n","comments":"","outputs":1,"x":2758.3329544067383,"y":498.69096660614014,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"de97ac82.07e09","type":"for","name":"for each vm-name","xml":"<for index='vm-name-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name_length`' >\n","comments":"","outputs":1,"x":910.0000381469727,"y":1767.0240440368652,"z":"13e6e2ea.39c6bd","wires":[["c06c9b88.9e3118"]]},{"id":"794438e6.14a948","type":"for","name":"for each vm-type","xml":"<for index='vm-type-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n","comments":"","outputs":1,"x":578.3332824707031,"y":1745.3576622009277,"z":"13e6e2ea.39c6bd","wires":[["6b08f283.1c6e8c"]]},{"id":"d35b17af.0f15b8","type":"set","name":"set vnf-vms_length","xml":"<set>\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms_length'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' />\n","comments":"","x":586.6666793823242,"y":1695.3576612472534,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c06c9b88.9e3118","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1061.6667137145996,"y":1766.3575792312622,"z":"13e6e2ea.39c6bd","wires":[["4ca82d1d.2fb004","27b6fdad.a54e32"]]},{"id":"6ef5aea5.96cc2","type":"set","name":"set vm-type, and vm-names_length","xml":"<set>\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms[$vm-type-index].vm-type'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-type`' />\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms[$vm-type-index].vm-names_length'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name_length`' />\n","comments":"","x":958.3333511352539,"y":1718.690788269043,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6b08f283.1c6e8c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":743.3333358764648,"y":1745.3575525283813,"z":"13e6e2ea.39c6bd","wires":[["6ef5aea5.96cc2","de97ac82.07e09"]]},{"id":"4ca82d1d.2fb004","type":"set","name":"set vm-name, and vnfc-names_length","xml":"<set>\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms[$vm-type-index].vm-names[$vm-name-index].vm-name'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-name-index]`' />\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms[$vm-type-index].vm-names[$vm-name-index].vnfc-names_length'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' />\n","comments":"","x":1281.6665573120117,"y":1738.6908617019653,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"27b6fdad.a54e32","type":"for","name":"for each vnfc-name","xml":"<for index='vnfc-name-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n","comments":"","outputs":1,"x":1225.0000076293945,"y":1788.6908750534058,"z":"13e6e2ea.39c6bd","wires":[["ae2ae030.8e8f3"]]},{"id":"ae2ae030.8e8f3","type":"set","name":"set vnfc-name","xml":"<set>\n<parameter name='tmp.vnf-topology.vnf-assignments.vnf-vms[$vm-type-index].vm-names[$vm-name-index].vnfc-names[$vnfc-name-index].vnfc-name'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-name-index].vnfc-name`' />\n","comments":"","x":1413.333236694336,"y":1788.690821647644,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9c2146c7.85c5b8","type":"set","name":"set vnf-assignments to auto IP call","xml":"<set>\n<parameter name='auto-ip-assignment-input.vnf-topology.vnf-assignments.' \n  value='tmp.vnf-topology.vnf-assignments.' />\n\n","comments":"","x":633.3333129882812,"y":1812.0242910385132,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"64fe9b0a.eb8794","type":"set","name":"set tmp.length","xml":"<set>\n<parameter name='tmp.length'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v4_length`' />\n","comments":"","x":2119.762107849121,"y":4580.120216369629,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"eb993152.19a82","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1972.619125366211,"y":4607.26229095459,"z":"13e6e2ea.39c6bd","wires":[["64fe9b0a.eb8794","7b8c2093.b07e"]]},{"id":"eaa1b6f7.672238","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1971.190689086914,"y":4761.548007965088,"z":"13e6e2ea.39c6bd","wires":[["d0e14a9f.e8edc8","2a994463.5c93ac"]]},{"id":"d0e14a9f.e8edc8","type":"switchNode","name":"switch tmp.length","xml":"<switch test='`$tmp.length`'>\n","comments":"","outputs":1,"x":2128.3336181640625,"y":4782.976711273193,"z":"13e6e2ea.39c6bd","wires":[["fd74d6c9.7458a8","bb60c5ac.d057f8","c6578904.ad6e68"]]},{"id":"2a994463.5c93ac","type":"set","name":"set tmp.length","xml":"<set>\n<parameter name='tmp.length'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].floating-ips.floating-ip-v6_length`' />\n","comments":"","x":2118.571487426758,"y":4737.739334106445,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6de6e324.feccdc","type":"for","name":"for each vm-type","xml":"<for silentFailure='true' index='vm-type-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >","comments":"","outputs":1,"x":589.166748046875,"y":5157.857647895813,"z":"13e6e2ea.39c6bd","wires":[["71573bad.e3d974"]]},{"id":"71573bad.e3d974","type":"for","name":"for each vnfc","xml":"<for silentFailure='true' index='vnfc-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n","comments":"","outputs":1,"x":773.3333892822266,"y":5157.357983589172,"z":"13e6e2ea.39c6bd","wires":[["215c87ca.31fe88"]]},{"id":"215c87ca.31fe88","type":"for","name":"for each vnfc-network","xml":"<for silentFailure='true' index='vnfc-network-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n","comments":"","outputs":1,"x":973.3333358764648,"y":5157.024161338806,"z":"13e6e2ea.39c6bd","wires":[["78dcb1fc.add97"]]},{"id":"78dcb1fc.add97","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1155.0001754760742,"y":5157.02432346344,"z":"13e6e2ea.39c6bd","wires":[["68fd7fdb.0b0bb","79d86468.93bb8c","72caf681.3c09d8","bc4f083.a48cbf8"]]},{"id":"9804f58a.62cd58","type":"switchNode","name":"switch vm-network_length","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`'>\n","comments":"","outputs":1,"x":1646.6667404174805,"y":4335.357867240906,"z":"13e6e2ea.39c6bd","wires":[["bc0b7a0.558e488","f6fb98fe.9969f8","dc787dea.bcd76"]]},{"id":"bc0b7a0.558e488","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1856.666633605957,"y":4255.357707023621,"z":"13e6e2ea.39c6bd","wires":[["1011305d.6dd12"]]},{"id":"f6fb98fe.9969f8","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1857.857307434082,"y":4297.976655960083,"z":"13e6e2ea.39c6bd","wires":[["1011305d.6dd12"]]},{"id":"dc787dea.bcd76","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1860.9524765014648,"y":4420.119835853577,"z":"13e6e2ea.39c6bd","wires":[["8ca708be.1c4978"]]},{"id":"de56fb73.e42608","type":"set","name":"set tmp.vm-network-index to 0, and length to 1","xml":"<set>\n<parameter name='tmp.vm-network-index' value='0' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length'\n  value='1' />\n","comments":"","x":2235.000213623047,"y":4248.69128036499,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"bceb44f3.14e468","type":"set","name":"set tmp.vm-network-index to -1","xml":"<set>\n<parameter name='tmp.vm-network-index' value='-1' />\n","comments":"","x":1663.3332443237305,"y":4222.024287223816,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"c0706fbf.53875","type":"set","name":"set tmp.vm-network-index","xml":"<set>\n<parameter name='tmp.vm-network-index' value='`$vm-network-index`' />\n","comments":"","x":2925,"y":4333.690306186676,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"ca9da770.612e88","type":"set","name":"set tmp.vm-network-index","xml":"<set>\n<parameter name='tmp.vm-network-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' />\n","comments":"","x":2741.6669006347656,"y":4430.357140541077,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"ac8c2d3f.4fc1","type":"set","name":"increment vm-network_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length'\n  value='`$tmp.vm-network-index + 1`' />\n","comments":"","x":2748.3332443237305,"y":4520.3569803237915,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1011305d.6dd12","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1983.3332595825195,"y":4273.690958976746,"z":"13e6e2ea.39c6bd","wires":[["de56fb73.e42608","9bc9ad7d.a5c1f"]]},{"id":"9bc9ad7d.a5c1f","type":"set","name":"set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[0].network-role'\n  value='`$tmp.network-role`' />\n","comments":"","x":2139.9998931884766,"y":4295.357623100281,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b05e43b1.66858","type":"set","name":"set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-role'\n  value='`$tmp.network-role`' />\n","comments":"","x":2710.0000534057617,"y":4475.356971740723,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"b98e5edb.f4c14","type":"for","name":"for each vm-network","xml":"<for silentFailure='true' index='vm-network-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n","comments":"","outputs":1,"x":1873.3331832885742,"y":5177.024975776672,"z":"13e6e2ea.39c6bd","wires":[["9b1d3ad3.ab09a8"]]},{"id":"9b1d3ad3.ab09a8","type":"switchNode","name":"network-roles match?","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-role\n  == $tmp.network-role`'>\n","comments":"","outputs":1,"x":2086.999870300293,"y":5177.024892807007,"z":"13e6e2ea.39c6bd","wires":[["a61f603a.eebbb"]]},{"id":"dc35b7fb.a19518","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2424.6665840148926,"y":5175.691438674927,"z":"13e6e2ea.39c6bd","wires":[["6e019622.91b018","e2f2f37e.ee7f6"]]},{"id":"6e019622.91b018","type":"break","name":"break","xml":"<break>\n","comments":"","x":2577.999713897705,"y":5195.6916427612305,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"66124fd9.f933d","type":"switchNode","name":"switch tmp.vm-network-index","xml":"<switch test='`$tmp.vm-network-index`'>\n","comments":"","outputs":1,"x":1898.3330612182617,"y":5295.3578243255615,"z":"13e6e2ea.39c6bd","wires":[["8071dd12.2c83f"]]},{"id":"8071dd12.2c83f","type":"outcomeFalse","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":2093.3331909179688,"y":5293.691644668579,"z":"13e6e2ea.39c6bd","wires":[["c6cdd29b.1d637"]]},{"id":"c6cdd29b.1d637","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2244.9998626708984,"y":5293.691482543945,"z":"13e6e2ea.39c6bd","wires":[["859609f2.0e6308","e972ef70.b885a","21fada1c.7e5796"]]},{"id":"a61f603a.eebbb","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2271.3332443237305,"y":5176.358144760132,"z":"13e6e2ea.39c6bd","wires":[["dc35b7fb.a19518"]]},{"id":"79d86468.93bb8c","type":"switchNode","name":"switch vm-network_length","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`'>\n","comments":"","outputs":1,"x":1356.666648864746,"y":5142.024486541748,"z":"13e6e2ea.39c6bd","wires":[["e82cb830.2bc788","ef29aaff.5feeb8","3f87594d.ccd2f6"]]},{"id":"e82cb830.2bc788","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1566.6665420532227,"y":5062.024326324463,"z":"13e6e2ea.39c6bd","wires":[["9366b1ab.7963b"]]},{"id":"ef29aaff.5feeb8","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1567.8572158813477,"y":5104.643275260925,"z":"13e6e2ea.39c6bd","wires":[["9366b1ab.7963b"]]},{"id":"3f87594d.ccd2f6","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1567.6190223693848,"y":5231.78661441803,"z":"13e6e2ea.39c6bd","wires":[["1617ddae.7763d2"]]},{"id":"68fd7fdb.0b0bb","type":"set","name":"set tmp.vm-network-index to -1","xml":"<set>\n<parameter name='tmp.vm-network-index' value='-1' />\n","comments":"","x":1373.333152770996,"y":5028.690906524658,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"e2f2f37e.ee7f6","type":"set","name":"set tmp.vm-network-index","xml":"<set>\n<parameter name='tmp.vm-network-index' value='`$vm-network-index`' />\n","comments":"","x":2638.3331298828125,"y":5147.02415895462,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"859609f2.0e6308","type":"set","name":"set tmp.vm-network-index","xml":"<set>\n<parameter name='tmp.vm-network-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' />\n","comments":"","x":2455.000030517578,"y":5243.690993309021,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"e972ef70.b885a","type":"set","name":"increment vm-network_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length'\n  value='`$tmp.vm-network-index + 1`' />\n","comments":"","x":2461.666374206543,"y":5333.690833091736,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9366b1ab.7963b","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1693.3331680297852,"y":5080.357578277588,"z":"13e6e2ea.39c6bd","wires":[["eb386a81.76f998","1bd02c91.5c0db3"]]},{"id":"eb386a81.76f998","type":"set","name":"set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[0].network-role'\n  value='`$tmp.network-role`' />\n","comments":"","x":1849.9998016357422,"y":5102.024242401123,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"21fada1c.7e5796","type":"set","name":"set network-role","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-role'\n  value='`$tmp.network-role`' />\n","comments":"","x":2423.333183288574,"y":5288.690824508667,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"72caf681.3c09d8","type":"set","name":"set tmp.network-role","xml":"<set>\n<parameter name='tmp.network-role'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role`' />\n","comments":"","x":1340.000015258789,"y":4983.69130897522,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"bc4f083.a48cbf8","type":"for","name":"for each vnfc-subnet","xml":"<for index='vnfc-subnet-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n","comments":"","outputs":1,"x":1328.3333854675293,"y":5697.024832725525,"z":"13e6e2ea.39c6bd","wires":[["8019fdeb.1f1df"]]},{"id":"8019fdeb.1f1df","type":"for","name":"for each address family","xml":"<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments_length`' >\n","comments":"","outputs":1,"x":1558.3333549499512,"y":5697.024993896484,"z":"13e6e2ea.39c6bd","wires":[["a569e998.7f6f78"]]},{"id":"a569e998.7f6f78","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1743.333408355713,"y":5696.358328819275,"z":"13e6e2ea.39c6bd","wires":[["376636eb.8e155a","9932af7e.a158e","3b996dd.91cae92","47350101.675c7","499e38c5.160618","6a64c8f0.30acd8","412df0ca.09277"]]},{"id":"790f3149.355c3","type":"set","name":"set tmp.nii-index to 0, network-information-item_length to 1","xml":"<set>\n<parameter name='tmp.nii-index' value='0' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item_length'\n  value='1' />\n","comments":"","x":2626.666893005371,"y":5455.358157157898,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"1bd02c91.5c0db3","type":"set","name":"set tmp.vm-network-index to 0, and length to 1","xml":"<set>\n<parameter name='tmp.vm-network-index' value='0' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length'\n  value='1' />\n","comments":"","x":1943.3332595825195,"y":5052.024455070496,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"376636eb.8e155a","type":"switchNode","name":"switch network-information-item_length","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item_length`'>\n","comments":"","outputs":1,"x":1975.0000076293945,"y":5538.024338722229,"z":"13e6e2ea.39c6bd","wires":[["66244662.cb7d98","724deb93.27dc34","1b4bbaf1.e26055"]]},{"id":"66244662.cb7d98","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2213.3334770202637,"y":5462.024338722229,"z":"13e6e2ea.39c6bd","wires":[["52993f5c.65579"]]},{"id":"724deb93.27dc34","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":2214.5241508483887,"y":5504.643287658691,"z":"13e6e2ea.39c6bd","wires":[["52993f5c.65579"]]},{"id":"52993f5c.65579","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2343.3336448669434,"y":5482.024661064148,"z":"13e6e2ea.39c6bd","wires":[["790f3149.355c3","f14c3e9b.38486"]]},{"id":"9932af7e.a158e","type":"set","name":"set tmp.nii-index to -1","xml":"<set>\n<parameter name='tmp.nii-index' value='-1' />\n","comments":"","x":1919.9999694824219,"y":5428.69132232666,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"f14c3e9b.38486","type":"set","name":"set address family","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[0].ip-version'\n  value='`$tmp.ip-version`' />\n","comments":"","x":2500.000144958496,"y":5502.024826049805,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"3b996dd.91cae92","type":"set","name":"set tmp.ip-version","xml":"<set>\n<parameter name='tmp.ip-version'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n","comments":"","x":1909.9999618530273,"y":5383.691162109375,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6f631b33.081b14","type":"for","name":"for each nii","xml":"<for silentFailure='true' index='nii-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item_length`' >\n","comments":"","outputs":1,"x":2478.3333129882812,"y":5571.024502754211,"z":"13e6e2ea.39c6bd","wires":[["573b51db.5edbb"]]},{"id":"573b51db.5edbb","type":"switchNode","name":"address families match?","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-information-items.network-information-item[$nii-index].ip-version\n  == $tmp.ip-version`'>\n","comments":"","outputs":1,"x":2670.3336601257324,"y":5570.357917308807,"z":"13e6e2ea.39c6bd","wires":[["fc3cbc.44d57348"]]},{"id":"8ac8da2b.46a538","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3008.000373840332,"y":5569.024463176727,"z":"13e6e2ea.39c6bd","wires":[["8ddded69.8ae0f","b0d0a732.bb11c8"]]},{"id":"8ddded69.8ae0f","type":"break","name":"break","xml":"<break>\n","comments":"","x":3158.0002517700195,"y":5589.024502754211,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"bc0a4266.75c6b","type":"switchNode","name":"switch tmp.nii-index","xml":"<switch test='`$tmp.nii-index`'>\n","comments":"","outputs":1,"x":2508.3333168029785,"y":5687.023856163025,"z":"13e6e2ea.39c6bd","wires":[["cde9dac2.65fc78"]]},{"id":"cde9dac2.65fc78","type":"outcomeFalse","name":"-1","xml":"<outcome value='-1'>\n","comments":"","outputs":1,"x":2681.6666564941406,"y":5687.024018287659,"z":"13e6e2ea.39c6bd","wires":[["6aaf3258.93c67c"]]},{"id":"6aaf3258.93c67c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2833.3333282470703,"y":5687.023856163025,"z":"13e6e2ea.39c6bd","wires":[["f1a3cb10.325278","d4d17ca1.130ce","9d7eea8d.c3dc78"]]},{"id":"fc3cbc.44d57348","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2854.66703414917,"y":5569.691169261932,"z":"13e6e2ea.39c6bd","wires":[["8ac8da2b.46a538"]]},{"id":"1b4bbaf1.e26055","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2210.9524879455566,"y":5626.785765647888,"z":"13e6e2ea.39c6bd","wires":[["734cf000.cc2c3"]]},{"id":"b0d0a732.bb11c8","type":"set","name":"set tmp.nii-index","xml":"<set>\n<parameter name='tmp.nii-index' value='`$nii-index`' />\n","comments":"","x":3188.333667755127,"y":5540.357183456421,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"f1a3cb10.325278","type":"set","name":"set tmp.nii-index","xml":"<set>\n<parameter name='tmp.nii-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item_length`' />\n","comments":"","x":3008.333339691162,"y":5635.357025146484,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"d4d17ca1.130ce","type":"set","name":"increment nii_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item_length'\n  value='`$tmp.nii-index + 1`' />\n","comments":"","x":3016.6665077209473,"y":5727.02320766449,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9d7eea8d.c3dc78","type":"set","name":"set address family","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].ip-version'\n  value='`$tmp.ip-version`' />\n","comments":"","x":3011.666648864746,"y":5682.023198127747,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"47350101.675c7","type":"switchNode","name":"switch network-ips_length","xml":"<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].network-ips.network-ip_length`'>\n","comments":"","outputs":1,"x":1928.3335342407227,"y":5825.357683181763,"z":"13e6e2ea.39c6bd","wires":[["bf387a97.de46e8","c3e49c6c.f081a","e9d07c32.0bb59"]]},{"id":"bf387a97.de46e8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2116.6666374206543,"y":5777.0247049331665,"z":"13e6e2ea.39c6bd","wires":[["c2a40f82.95dc"]]},{"id":"c3e49c6c.f081a","type":"other","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":2117.8573112487793,"y":5819.643653869629,"z":"13e6e2ea.39c6bd","wires":[["c2a40f82.95dc"]]},{"id":"c2a40f82.95dc","type":"set","name":"set tmp.ip-index to 0","xml":"<set>\n<parameter name='tmp.ip-index' value='0' />\n","comments":"","x":2288.3334770202637,"y":5792.024350166321,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"e9d07c32.0bb59","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2119.999885559082,"y":5865.357462882996,"z":"13e6e2ea.39c6bd","wires":[["91c82192.9223"]]},{"id":"91c82192.9223","type":"set","name":"set tmp.ip-index to current length","xml":"<set>\n<parameter name='tmp.ip-index'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].network-ips.network-ip_length`' />\n","comments":"","x":2329.9999771118164,"y":5865.357686042786,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"499e38c5.160618","type":"for","name":"for each ip","xml":"<for silentFailure='true' index='ip-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n","comments":"","outputs":1,"x":1879.99995803833,"y":5953.6915102005005,"z":"13e6e2ea.39c6bd","wires":[["79ecd784.3e3868"]]},{"id":"3c094b0b.214c04","type":"set","name":"set ip","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].network-ips.network-ip[$target-index]'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$ip-index].vnfc-ip-address`' />\n","comments":"","x":2156.6665534973145,"y":5967.024192810059,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"6a64c8f0.30acd8","type":"set","name":"set network-ips_length","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].network-ips.network-ip_length'\n  value='`$tmp.ip-index + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' />\n","comments":"","x":1916.6669082641602,"y":6017.0241956710815,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"79ecd784.3e3868","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2018.3332595825195,"y":5953.690958976746,"z":"13e6e2ea.39c6bd","wires":[["3c094b0b.214c04","20f247de.de11d8"]]},{"id":"20f247de.de11d8","type":"set","name":"set target-index","xml":"<set>\n<parameter name='target-index' value='`$ip-index + $tmp.ip-index`' />\n","comments":"","x":2184.999969482422,"y":5922.024517059326,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"eaa55ef8.4455b","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-no-preload3.log' />\n","comments":"","outputs":1,"x":571.6666946411133,"y":5222.024455070496,"z":"13e6e2ea.39c6bd","wires":[[]]},{"id":"1617ddae.7763d2","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1695.0000076293945,"y":5232.024455070496,"z":"13e6e2ea.39c6bd","wires":[["b98e5edb.f4c14","66124fd9.f933d"]]},{"id":"8ca708be.1c4978","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1985.0000076293945,"y":4420.357462882996,"z":"13e6e2ea.39c6bd","wires":[["efcdf82d.885e98","6e9c4629.bc3238"]]},{"id":"734cf000.cc2c3","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2343.333381652832,"y":5627.024455070496,"z":"13e6e2ea.39c6bd","wires":[["6f631b33.081b14","bc0a4266.75c6b"]]},{"id":"412df0ca.09277","type":"set","name":"set ip-count","xml":"<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$tmp.vm-network-index].network-information-items.network-information-item[$tmp.nii-index].ip-count'\n  value='`$tmp.ip-index + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$vnfc-subnet-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' />\n","comments":"","x":1881.6666259765625,"y":6072.024361610413,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"a255596.979d8a8","type":"set","name":"set from-preload flag to false","xml":"<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload' value='false' />\n","comments":"","x":630,"y":274.28570556640625,"z":"13e6e2ea.39c6bd","wires":[]},{"id":"9fcfcf11.64142","type":"switchNode","name":"switch tmp.subnet-role","xml":"<switch test='`$tmp.subnet-role`'>\n","comments":"","outputs":1,"x":1134.1429443359375,"y":2179.285888671875,"z":"13e6e2ea.39c6bd","wires":[["aae8c30b.ffd2b"]]},{"id":"aae8c30b.ffd2b","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1308.4286880493164,"y":2177.857334136963,"z":"13e6e2ea.39c6bd","wires":[["d5c26f72.2d843"]]},{"id":"d5c26f72.2d843","type":"set","name":"set tmp.subnet-role to NONE","xml":"<set>\n<parameter name='tmp.subnet-role' value='NONE' />\n","comments":"","x":1505.5715103149414,"y":2176.4287452697754,"z":"13e6e2ea.39c6bd","wires":[]}]