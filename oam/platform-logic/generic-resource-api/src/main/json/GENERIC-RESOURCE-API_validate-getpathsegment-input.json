[{"id":"519c6651.dc25f8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":210.3333282470703,"y":394.16664123535156,"z":"445c7615.217c08","wires":[["c9ea088a.766468","5de5a9ac.bc13f8","b89e5c70.3b609","fdf5f8de.a06588","3ea96f4a.65397","b3c981ce.3a659"]]},{"id":"c9ea088a.766468","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$getpathsegment-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":477.3809683663503,"y":325.1041564941406,"z":"445c7615.217c08","wires":[["820616a1.97ae78"]]},{"id":"820616a1.97ae78","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":703.0952627999441,"y":325.1041603088379,"z":"445c7615.217c08","wires":[["b8b83bc4.ef8928"]]},{"id":"b8b83bc4.ef8928","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":854.523828778948,"y":325.10415840148926,"z":"445c7615.217c08","wires":[]},{"id":"5de5a9ac.bc13f8","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$getpathsegment-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":465.95233154296875,"y":283.67558806283137,"z":"445c7615.217c08","wires":[["1bfe631a.cec59d"]]},{"id":"1bfe631a.cec59d","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":701.6666984558105,"y":282.2469825744629,"z":"445c7615.217c08","wires":[["1aece3c9.ee739c"]]},{"id":"1aece3c9.ee739c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":851.6666564941406,"y":282.2469953809466,"z":"445c7615.217c08","wires":[]},{"id":"b89e5c70.3b609","type":"switchNode","name":"switch request-action","xml":"<switch test='`$getpathsegment-topology-operation-input.request-information.request-action`'>\n","comments":"","outputs":1,"x":475.95238494873047,"y":367.9613031659808,"z":"445c7615.217c08","wires":[["c6aa59cc.6d4578"]]},{"id":"c6aa59cc.6d4578","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":703.0952584402903,"y":367.96131406511586,"z":"445c7615.217c08","wires":[["6bacc83c.e6ba38"]]},{"id":"6bacc83c.e6ba38","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"request-information.request-action is a required input\" />\n","comments":"","x":854.5238244192942,"y":367.9613121577672,"z":"445c7615.217c08","wires":[]},{"id":"85848dbd.9d43e","type":"switchNode","name":"switch request-action","xml":"<switch test='`$getpathsegment-topology-operation-input.request-information.request-action`'>\n","comments":"","outputs":1,"x":984.7024590628489,"y":535.5804891586304,"z":"445c7615.217c08","wires":[["858f7f5b.d8aad","86daecdb.806a9"]]},{"id":"858f7f5b.d8aad","type":"outcome","name":"CreateForwardingPathInstance","xml":"<outcome value='CreateForwardingPathInstance'>","comments":"","outputs":1,"x":1237.0832268851145,"y":508.91382122039795,"z":"445c7615.217c08","wires":[["38fea5ea.c1031a"]]},{"id":"971bf8a9.2ff568","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.subscription-service-type is a required input\" />\n","comments":"","x":1455.178579057966,"y":555.5804796218872,"z":"445c7615.217c08","wires":[]},{"id":"f654ccb9.fbc3b","type":"comment","name":"Validation of required fields","info":"","comments":"","x":625.9523413521902,"y":239.38987064361572,"z":"445c7615.217c08","wires":[]},{"id":"fdf5f8de.a06588","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$getpathsegment-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":461.42850494384766,"y":618.0804595947266,"z":"445c7615.217c08","wires":[["f8d12423.dbcd88"]]},{"id":"f8d12423.dbcd88","type":"outcome","name":"create","xml":"<outcome value='create'>\n","comments":"","outputs":1,"x":623.9285049438477,"y":618.0804595947266,"z":"445c7615.217c08","wires":[["6e7c0722.c4bf78"]]},{"id":"6e7c0722.c4bf78","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":778.9285049438477,"y":618.0804595947266,"z":"445c7615.217c08","wires":[["85848dbd.9d43e","ef78ef58.2dfb3","34219d7c.5476f2"]]},{"id":"d5cb92bd.2e9af","type":"dgstart","name":"DGSTART","outputs":1,"x":134.08333805629172,"y":89.08032321929932,"z":"445c7615.217c08","wires":[["7fd575ce.08d05c"]]},{"id":"7fd575ce.08d05c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":250.79761505126953,"y":129.318434715271,"z":"445c7615.217c08","wires":[["ce915bb5.4336b8"]]},{"id":"ce915bb5.4336b8","type":"method","name":"method validate-getpathsegment-input","xml":"<method rpc='validate-getpathsegment-input' mode='sync'>\n","comments":"","outputs":1,"x":225.76196507045188,"y":170.33031940460205,"z":"445c7615.217c08","wires":[["519c6651.dc25f8"]]},{"id":"e7ec8b0f.f24b18","type":"comment","name":"validate-getpathsegment-input","info":"","comments":"","x":528.4281943184988,"y":36.666666984558105,"z":"445c7615.217c08","wires":[]},{"id":"38fea5ea.c1031a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1439.7617890494212,"y":508.8095827102661,"z":"445c7615.217c08","wires":[[]]},{"id":"86daecdb.806a9","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1159.7617776053294,"y":557.1429281234741,"z":"445c7615.217c08","wires":[["971bf8a9.2ff568"]]},{"id":"ef78ef58.2dfb3","type":"get-resource","name":"get-resource SERVICE_MODEL (model-uuid)","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from SERVICE_MODEL WHERE service_uuid = $getpathsegment-topology-operation-input.service-information.onap-model-information.model-uuid'\n  pfx='db.service-model'>\n\n","comments":"","outputs":1,"x":1058.0952529907227,"y":622.3810043334961,"z":"445c7615.217c08","wires":[["71e84e0c.9c656","db9cd478.d8df68"]]},{"id":"56d1963e.b615d8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No service model found for service UUID ' + $getpathsegment-topology-operation-input.service-information.onap-model-information.model-uuid`\" />\n","comments":"","x":1536.6663856506348,"y":641.523754119873,"z":"445c7615.217c08","wires":[]},{"id":"71e84e0c.9c656","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1363.1664199829102,"y":598.0475692749023,"z":"445c7615.217c08","wires":[["c55a1162.ea6a"]]},{"id":"db9cd478.d8df68","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1371.737850189209,"y":641.3332824707031,"z":"445c7615.217c08","wires":[["56d1963e.b615d8"]]},{"id":"c55a1162.ea6a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"System error reading SERVICE_MODEL table\" />\n","comments":"","x":1536.0235862731934,"y":596.6190128326416,"z":"445c7615.217c08","wires":[]},{"id":"3ea96f4a.65397","type":"switchNode","name":"switch model-uuid","xml":"<switch test='`$getpathsegment-topology-operation-input.service-information.onap-model-information.model-uuid`'>\n","comments":"","outputs":1,"x":466.33331298828125,"y":411.33331298828125,"z":"445c7615.217c08","wires":[["f2ad3f15.9d9a6"]]},{"id":"f2ad3f15.9d9a6","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":704.4761864798411,"y":411.3333238874163,"z":"445c7615.217c08","wires":[["2e279b38.a73e94"]]},{"id":"2e279b38.a73e94","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.onap-model-information.model-uuid is a required input\" />\n","comments":"","x":855.904752458845,"y":411.3333219800677,"z":"445c7615.217c08","wires":[]},{"id":"b3c981ce.3a659","type":"switchNode","name":"switch model-invariant-uuid","xml":"<switch test='`$getpathsegment-topology-operation-input.service-information.onap-model-information.model-invariant-uuid`'>\n","comments":"","outputs":1,"x":495.71429443359375,"y":455.71429443359375,"z":"445c7615.217c08","wires":[["86855ac.4bf16a8"]]},{"id":"86855ac.4bf16a8","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":703.8571679251536,"y":455.7143053327288,"z":"445c7615.217c08","wires":[["ffff729b.8feb2"]]},{"id":"ffff729b.8feb2","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.onap-model-information.model-invariant-uuid is a required input\" />\n","comments":"","x":855.2857339041575,"y":455.7143034253802,"z":"445c7615.217c08","wires":[]},{"id":"34219d7c.5476f2","type":"get-resource","name":"get-resource SERVICE_MODEL (model-invariant-uuid)","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from SERVICE_MODEL WHERE invariant_uuid = $getpathsegment-topology-operation-input.service-information.onap-model-information.model-invariant-uuid'\n  pfx='db.service-model'>\n\n","comments":"","outputs":1,"x":1085.7142715454102,"y":708.5714416503906,"z":"445c7615.217c08","wires":[["938b0319.7f588","cee57e87.94948"]]},{"id":"837d9261.326c1","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No service model found for invariant UUID ' + $getpathsegment-topology-operation-input.service-information.onap-model-information.model-invariant-uuid`\" />\n","comments":"","x":1537.14253616333,"y":730.5713291168213,"z":"445c7615.217c08","wires":[]},{"id":"938b0319.7f588","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1363.6425704956055,"y":687.0951442718506,"z":"445c7615.217c08","wires":[["c1f6b92e.8b3b28"]]},{"id":"cee57e87.94948","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1372.2140007019043,"y":730.3808574676514,"z":"445c7615.217c08","wires":[["837d9261.326c1"]]},{"id":"c1f6b92e.8b3b28","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"System error reading SERVICE_MODEL table\" />\n","comments":"","x":1536.4997367858887,"y":685.6665878295898,"z":"445c7615.217c08","wires":[]}]