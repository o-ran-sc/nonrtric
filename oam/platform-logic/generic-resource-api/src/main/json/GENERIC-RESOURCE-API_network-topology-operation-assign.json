[{"id":"35351cd8.e49b6c","type":"dgstart","name":"DGSTART","outputs":1,"x":163.75,"y":130,"z":"a4ab5e6a.05da68","wires":[["c488ab18.813ac"]]},{"id":"c488ab18.813ac","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":307.0356903076172,"y":193.09525775909424,"z":"a4ab5e6a.05da68","wires":[["fd3bd3dd.2fc7e"]]},{"id":"fd3bd3dd.2fc7e","type":"method","name":"network-topology-operation-assign","xml":"<method rpc='network-topology-operation-assign' mode='sync'>\n","comments":"","outputs":1,"x":282.71437072753906,"y":270.892840385437,"z":"a4ab5e6a.05da68","wires":[["a504ce7b.f4be1"]]},{"id":"a504ce7b.f4be1","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":242.03572845458984,"y":455.1578025817871,"z":"a4ab5e6a.05da68","wires":[["7a78b4c3.1d1704","6f978d59.65e2a4","e6aea972.81fa58","c105f712.43feb","2065d316.e3c6b4","435263ad.548d94"]]},{"id":"7a78b4c3.1d1704","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":531.0953216552734,"y":838.428908675909,"z":"a4ab5e6a.05da68","wires":[]},{"id":"9407b227.b5aac","type":"switchNode","name":"switch network-request-information.network-name","xml":"<switch test='`$network-topology-operation-input.network-request-input.network-name`'>\n","comments":"","outputs":1,"x":1393.3293914794922,"y":758.2224534451962,"z":"a4ab5e6a.05da68","wires":[["26796752.d0dcf","b2889a92.f25fa"]]},{"id":"8d83af5b.faf8e","type":"comment","name":"if network-name not populated, generate and call automated flow","info":"","comments":"","x":1979.7104797363281,"y":681.281824439764,"z":"a4ab5e6a.05da68","wires":[]},{"id":"26796752.d0dcf","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1824.7344284057617,"y":724.4007714688778,"z":"a4ab5e6a.05da68","wires":[["2bd3b459.1b62a4"]]},{"id":"2bd3b459.1b62a4","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2018.067626953125,"y":721.7341164052486,"z":"a4ab5e6a.05da68","wires":[["ad0c5cfa.c98228"]]},{"id":"ad0c5cfa.c98228","type":"switchNode","name":"switch network-model.onap-generated-naming","xml":"<switch test='`$network-model.ecomp-generated-naming`'>\n","comments":"","outputs":1,"x":2318.01993560791,"y":720.734105437994,"z":"a4ab5e6a.05da68","wires":[["ae485efb.76a4e8","ac9117f1.1932"]]},{"id":"ae485efb.76a4e8","type":"other","name":"outcome Y","xml":"<outcome value='Y'>\n","comments":"","outputs":1,"x":2637.0200386047363,"y":708.7340984344482,"z":"a4ab5e6a.05da68","wires":[["dca1d141.97d82"]]},{"id":"dca1d141.97d82","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">\n","atomic":"true","comments":"","outputs":1,"x":2805.7700805664062,"y":709.2340869903564,"z":"a4ab5e6a.05da68","wires":[["d12936a3.5fdc98","819f29fe.58f36","56735c9d.4e8e44","2a9c33ec.5e77dc"]]},{"id":"ac9117f1.1932","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2628.242328643799,"y":741.7340984344482,"z":"a4ab5e6a.05da68","wires":[["7163c04e.950f4"]]},{"id":"7163c04e.950f4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Network name is required if onap naming is false\" />\n\n","comments":"","x":2809.742515563965,"y":745.7342141568661,"z":"a4ab5e6a.05da68","wires":[]},{"id":"cb324a53.198fb8","type":"switchNode","name":"switch network-model.onap-generated-naming","xml":"<switch test='`$network-model.naming-policy`'>\n","comments":"","outputs":1,"x":2797.792922973633,"y":1273.127024024725,"z":"a4ab5e6a.05da68","wires":[["75edc6c0.f99408","d438a51e.a26e5","534c46ca.643cc8","113fc1c8.4946c6","90e61ae1.f9a06","9b9f98f0.979af"]]},{"id":"d438a51e.a26e5","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3115.7932891845703,"y":1493.1270688474178,"z":"a4ab5e6a.05da68","wires":[["30260c5a.e9ea44"]]},{"id":"75edc6c0.f99408","type":"other","name":"outcome org.openecomp.policy.naming.SriovProvider.SriovProviderNetwork","xml":"<outcome value='org.openecomp.policy.naming.SriovProvider.SriovProviderNetwork'>\n","comments":"","outputs":1,"x":3314.904739379883,"y":1419.1271246373653,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"30260c5a.e9ea44","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'Unknown naming policy = ' \n    + $network-model.naming-policy`\" />\n\n","comments":"","x":3276.2375507354736,"y":1492.793745368719,"z":"a4ab5e6a.05da68","wires":[]},{"id":"9be184e1.57cef8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3830.8228454589844,"y":1180.210465848446,"z":"a4ab5e6a.05da68","wires":[["39a69556.129652","f43c5a5f.3f54a8","85714f6b.fb864","5ebec644.0ccd68","a8167cc8.a0a54","b9ae426.3e3c74"]]},{"id":"39a69556.129652","type":"set","name":"set nameformat","xml":"<set>\n<parameter name='tmp.network-name-prefix' value='$TenantName_int_$role_net' />\n","comments":"","x":4343.297813415527,"y":1074.5436511933804,"z":"a4ab5e6a.05da68","wires":[]},{"id":"2c4f1662.4b4d3a","type":"set","name":"set nameformat","xml":"<set>\n<parameter name='tmp.network-name-prefix' value='$TenantName_$role_net' />\n","comments":"","x":4341.107772827148,"y":1116.40079459548,"z":"a4ab5e6a.05da68","wires":[]},{"id":"9056cce6.58fbd","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":3726.393653869629,"y":1404.8771620690823,"z":"a4ab5e6a.05da68","wires":[["2c4f1662.4b4d3a","f43c5a5f.3f54a8","85714f6b.fb864","5ebec644.0ccd68","a8167cc8.a0a54","b9ae426.3e3c74"]]},{"id":"534c46ca.643cc8","type":"other","name":"outcome org.openecomp.policy.naming.ViprProtectedOam.ViprOamProtectedNetwork","xml":"<outcome value='org.openecomp.policy.naming.ViprProtectedOam.ViprOamProtectedNetwork'>\n","comments":"","outputs":1,"x":3353.6828384399414,"y":1164.460464477539,"z":"a4ab5e6a.05da68","wires":[["9be184e1.57cef8"]]},{"id":"f43c5a5f.3f54a8","type":"execute","name":"execute SliStringUtils - replace tenantname","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.network-name-prefix`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-name-prefix\"/>\n    <parameter name=\"target\" value=\"$TenantName\"/>\n    <parameter name=\"replacement\" value=\"`$aai.tenant.tenant-name`\"/>\n\n","comments":"","outputs":1,"x":4417.552307128906,"y":1240.067470163107,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"85714f6b.fb864","type":"execute","name":"execute SliStringUtils - replace role","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.network-name-prefix`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.network-name-prefix\"/>\n    <parameter name=\"target\" value=\"$role\"/>\n    <parameter name=\"replacement\" value=\"`$network-model.network-role`\"/>\n\n","comments":"","outputs":1,"x":4390.552307128906,"y":1275.067470163107,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"5ebec644.0ccd68","type":"get-resource","name":"get-resource NETWORK_INSTANCE_NAME_INDEX","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from NETWORK_INSTANCE_NAME_INDEX WHERE network_instance_name_prefix\n    = $tmp.network-name-prefix'\n  pfx='db.network-name-prefix'>\n\n","comments":"","outputs":1,"x":4440.219055175781,"y":1311.067470163107,"z":"a4ab5e6a.05da68","wires":[["5140a76f.251638"]]},{"id":"a8167cc8.a0a54","type":"switchNode","name":"switch index-number","xml":"<switch test='`$db.network-name-prefix.index-number`'>\n","comments":"","outputs":1,"x":4345.933395385742,"y":1415.353054612875,"z":"a4ab5e6a.05da68","wires":[["1ecccb29.20b9dd","6a4c6ddb.dc419c"]]},{"id":"6a4c6ddb.dc419c","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":4528.790435791016,"y":1456.7815681397915,"z":"a4ab5e6a.05da68","wires":[["6510627a.0b6c54"]]},{"id":"1ecccb29.20b9dd","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":4530.2189865112305,"y":1372.4958969056606,"z":"a4ab5e6a.05da68","wires":[["c1c17349.e7014"]]},{"id":"c5d52aa5.50e6e","type":"save","name":"save (insert) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"insert into NETWORK_INSTANCE_NAME_INDEX values ( $tmp.network-name-prefix , 1)\"\n  force='false' pfx='pfx'>\n","comments":"","outputs":1,"x":4902.005027770996,"y":1479.281955331564,"z":"a4ab5e6a.05da68","wires":[["814eff24.4c754"]]},{"id":"7afcc751.2cd6a","type":"set","name":"increment index number","xml":"<set>\n<parameter name='tmp.index-number' value='`$db.network-name-prefix.index-number+1`' />\n","comments":"","x":4901.647624969482,"y":1349.6389118134975,"z":"a4ab5e6a.05da68","wires":[]},{"id":"6510627a.0b6c54","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":4687.361980438232,"y":1455.3532119691372,"z":"a4ab5e6a.05da68","wires":[["9e67cd6.09d453","c5d52aa5.50e6e"]]},{"id":"5140a76f.251638","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":4714.504695892334,"y":1309.6388812959194,"z":"a4ab5e6a.05da68","wires":[["a58dedfa.823ee"]]},{"id":"a58dedfa.823ee","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading the NETWORK_INSTANCE_NAME_INDEX table\" />\n","comments":"","x":4868.790512084961,"y":1309.6389003694057,"z":"a4ab5e6a.05da68","wires":[]},{"id":"9e67cd6.09d453","type":"set","name":"set new index number to 1","xml":"<set>\n<parameter name='tmp.index-number' value='1' />\n","comments":"","x":4910.219207763672,"y":1433.9245296418667,"z":"a4ab5e6a.05da68","wires":[]},{"id":"61fdf122.30c6d","type":"save","name":"save (update) name index","xml":"<save plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key=\"update NETWORK_INSTANCE_NAME_INDEX\n       set index_number = $tmp.index-number\n       where network_instance_name_prefix = $db.network-name-prefix.network-instance-name-prefix \"\n  force='false' pfx='pfx'>\n","comments":"","outputs":1,"x":4908.79056930542,"y":1391.067464441061,"z":"a4ab5e6a.05da68","wires":[["ee2bd7a9.0d103"]]},{"id":"c1c17349.e7014","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":4687.361877441406,"y":1371.0673442780972,"z":"a4ab5e6a.05da68","wires":[["7afcc751.2cd6a","61fdf122.30c6d"]]},{"id":"ee2bd7a9.0d103","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":5131.647624969482,"y":1391.067464441061,"z":"a4ab5e6a.05da68","wires":[["c54eb549.7b55c"]]},{"id":"c54eb549.7b55c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failed to update SERVICE_INSTANCE_NAME_INDEX table\" />\n","comments":"","x":5285.933441162109,"y":1391.0674835145473,"z":"a4ab5e6a.05da68","wires":[]},{"id":"814eff24.4c754","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":5130.218925476074,"y":1476.7816768586636,"z":"a4ab5e6a.05da68","wires":[["1d6e678c.ed74c8"]]},{"id":"1d6e678c.ed74c8","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Failed to insert record into SERVICE_INSTANCE_NAME_INDEX table\" />\n","comments":"","x":5284.504741668701,"y":1476.78169593215,"z":"a4ab5e6a.05da68","wires":[]},{"id":"b9ae426.3e3c74","type":"set","name":"set tmp.network-instance-name","xml":"<set>\n<parameter name='tmp.network-instance-name' value=\"`$tmp.network-name-prefix + '_' + $tmp.index-number`\" />\n","comments":"","x":4383.504192352295,"y":1494.4959779679775,"z":"a4ab5e6a.05da68","wires":[]},{"id":"b2889a92.f25fa","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1805.3638343811035,"y":777.7248501777649,"z":"a4ab5e6a.05da68","wires":[["a9470efa.ce6fb8"]]},{"id":"6f978d59.65e2a4","type":"get-resource","name":"get-resource tenant","xml":"<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"tenant\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $network-topology-operation-input.network-request-input.aic-cloud-region AND\n\t\t     tenant.tenant-id = $network-topology-operation-input.network-request-input.tenant\"\n        pfx='aai.tenant' local-only='false' >\n\n","comments":"","outputs":1,"x":578.9153747558594,"y":451.46299585700035,"z":"a4ab5e6a.05da68","wires":[["510eff14.764978","e2757e9.6ede2","723bb3a4.0a6514"]]},{"id":"510eff14.764978","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":814.5267105102539,"y":455.5740579068661,"z":"a4ab5e6a.05da68","wires":[["32cf849b.47605c"]]},{"id":"e2757e9.6ede2","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":809.8597373962402,"y":488.90737184882164,"z":"a4ab5e6a.05da68","wires":[["32cf849b.47605c"]]},{"id":"32cf849b.47605c","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Tenant not found in AAI\" />\n\n","comments":"","x":1010.7023849487305,"y":463.62962278723717,"z":"a4ab5e6a.05da68","wires":[]},{"id":"b95af8cf.640458","type":"set","name":"set tmp.network-instance-name","xml":"<set>\n<parameter name='tmp.network-instance-name' value=\"`$network-topology-operation-input.network-request-input.network-name`\" />\n<parameter name='tmp.l3-network.network-name' value=\"`$network-topology-operation-input.network-request-input.network-name`\" />\n","comments":"","x":2273.835075378418,"y":770.7248662412167,"z":"a4ab5e6a.05da68","wires":[]},{"id":"a9470efa.ce6fb8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":2003.882396697998,"y":777.7248196601868,"z":"a4ab5e6a.05da68","wires":[["b95af8cf.640458","d5f7e16b.7cecb"]]},{"id":"994ffad3.0ba89","type":"call","name":"call generate-l3network-network-id","xml":"<call module='GENERIC-RESOURCE-API' rpc='generate-l3network-network-id' mode='sync' >\n","comments":"","outputs":1,"x":1233.0295639038086,"y":542.5410922467709,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"723bb3a4.0a6514","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":810.0357437133789,"y":424.0000222623348,"z":"a4ab5e6a.05da68","wires":[["2d78cce8.fc4c2c"]]},{"id":"2d78cce8.fc4c2c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1002.5357437133789,"y":424.75003084540367,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"113fc1c8.4946c6","type":"other","name":"outcome oam_vipr_protected_network","xml":"<outcome value='oam_vipr_protected_network'>\n","comments":"","outputs":1,"x":3208.126640319824,"y":1201.324143409729,"z":"a4ab5e6a.05da68","wires":[["9be184e1.57cef8"]]},{"id":"90e61ae1.f9a06","type":"other","name":"outcome network_without_route_tags_naming_default","xml":"<outcome value='network_without_route_tags_naming_default'>\n","comments":"","outputs":1,"x":3254.793312072754,"y":1237.9908113479614,"z":"a4ab5e6a.05da68","wires":[["9be184e1.57cef8"]]},{"id":"9b9f98f0.979af","type":"other","name":"outcome sriov_provider_network","xml":"<outcome value='sriov_provider_network'>\n","comments":"","outputs":1,"x":3187.460159301758,"y":1452.657508701086,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"99f811c1.c71dc","type":"other","name":"outcome oam_atm_u_landing_network","xml":"<outcome value='oam_atm_u_landing_network'>\n","comments":"","outputs":1,"x":3201.459831237793,"y":1279.657470703125,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"87fe61ea.a414a","type":"other","name":"outcome oam_atm_p_landing_network","xml":"<outcome value='oam_atm_p_landing_network'>\n","comments":"","outputs":1,"x":3199.7930068969727,"y":1314.6574726104736,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"8e28dbe.70ebe28","type":"other","name":"outcome oam_aim_landing_network","xml":"<outcome value='oam_aim_landing_network'>\n","comments":"","outputs":1,"x":3193.1268463134766,"y":1346.3241415023804,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"774e8da3.9580cc","type":"other","name":"outcome network_with_route_tags_naming_default","xml":"<outcome value='network_with_route_tags_naming_default'>\n","comments":"","outputs":1,"x":3238.1269302368164,"y":1379.6574659347534,"z":"a4ab5e6a.05da68","wires":[["9056cce6.58fbd"]]},{"id":"8e167533.9d1438","type":"comment","name":"Changelog","info":"1707: Change vpn binding from field to table selection\n1710: Add ipv6 vipr flows\n1806: Separate out to automated vs preload vs vlan tagging","comments":"","x":376.6071472167969,"y":130.00000667572021,"z":"a4ab5e6a.05da68","wires":[]},{"id":"e6aea972.81fa58","type":"execute","name":"execute Properties - pull properties file","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n","comments":"","outputs":1,"x":642.3214950561523,"y":362.7181886136532,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"71ac9cb8.c11e3c","type":"comment","name":"Pre-1806 naming logic","info":"","comments":"","x":2718.8212890625,"y":1240.8254249989986,"z":"a4ab5e6a.05da68","wires":[]},{"id":"d12936a3.5fdc98","type":"call","name":"call naming-policy-generate-name","xml":"<call module='GENERIC-RESOURCE-API' rpc='naming-policy-generate-name' mode='sync' >\n","comments":"","outputs":1,"x":3083.9288177490234,"y":747.0039323270321,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"819f29fe.58f36","type":"set","name":"set parameters for generate-unique-name","xml":"<set>\n<parameter name='naming-policy-generate-name-input.policy-instance-name' value='`$network-model.naming-policy`' />\n<parameter name='naming-policy-generate-name-input.context-id' value='`$tmp.l3-network.network-id`' />\n<parameter name='naming-policy-generate-name-input.naming-type' value='NETWORK' />\n<parameter name='naming-policy-generate-name-input.action' value='ASSIGN' />\n<parameter name='naming-policy-generate-name-input.query-parameter' value='`$network-model.customization-uuid`' />\n\n\n","comments":"","x":3106.6791076660156,"y":709.004013389349,"z":"a4ab5e6a.05da68","wires":[]},{"id":"56735c9d.4e8e44","type":"set","name":"set network name","xml":"<set>\n<parameter name='tmp.network-instance-name' value='`$naming-policy-generate-name-output.network-name`' />\n<parameter name='tmp.l3-network.network-name' value='`$naming-policy-generate-name-output.network-name`' />\n\n\n\n","comments":"","x":3033.178871154785,"y":782.0039304196835,"z":"a4ab5e6a.05da68","wires":[]},{"id":"d5f7e16b.7cecb","type":"call","name":"call network-topology-operation-assign-from-preload","xml":"<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-from-preload' mode='sync' >\n","comments":"","outputs":1,"x":2337.9648056030273,"y":805.4324515759945,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"2a9c33ec.5e77dc","type":"call","name":"call network-topology-operation-assign-automated","xml":"<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-automated' mode='sync' >\n","comments":"","outputs":1,"x":3137.091377258301,"y":819.5833495557308,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"c105f712.43feb","type":"set","name":"set tmp.l3-network.network-id","xml":"<set>\n<parameter name='tmp.l3-network.network-id' value='`$tmp.return.generate-l3network-network-id.uuid`' />\n<parameter name='network-topology-operation-input.network-information.network-id' value='`$tmp.return.generate-l3network-network-id.uuid`' />","comments":"","x":581.4961700439453,"y":627.2500842511654,"z":"a4ab5e6a.05da68","wires":[]},{"id":"2065d316.e3c6b4","type":"switchNode","name":"switch network-request-information.network-id","xml":"<switch test='`$network-topology-operation-input.network-information.network-id`'>\n","comments":"","outputs":1,"x":631.0000610351562,"y":581.0039370954037,"z":"a4ab5e6a.05da68","wires":[["d4168914.09272","40ee795c.063838"]]},{"id":"d4168914.09272","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":960,"y":544.0039218366146,"z":"a4ab5e6a.05da68","wires":[["994ffad3.0ba89"]]},{"id":"40ee795c.063838","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":940.6294059753418,"y":583.3280005455017,"z":"a4ab5e6a.05da68","wires":[["e717894c.aca1a"]]},{"id":"e717894c.aca1a","type":"set","name":"set network-id","xml":"<set>\n<parameter name='tmp.return.generate-l3network-network-id.uuid' value='`$network-topology-operation-input.network-information.network-id`' />\n\n\n\n","comments":"","x":1163,"y":582.7540283203125,"z":"a4ab5e6a.05da68","wires":[]},{"id":"52111bb9.bd57fc","type":"comment","name":"if network-instance-group-id populated, follow vlan tagging flow","info":"","comments":"","x":685.8945465087891,"y":727.2913134992123,"z":"a4ab5e6a.05da68","wires":[]},{"id":"435263ad.548d94","type":"switchNode","name":"switch network-request-information.network-instance-group-id","xml":"<switch test='`$network-topology-operation-input.network-information.network-instance-group-id`'>\n","comments":"","outputs":1,"x":684.6127166748047,"y":762.1563418805599,"z":"a4ab5e6a.05da68","wires":[["e25525d.3b75958","b57f4a07.8cd1e8"]]},{"id":"e25525d.3b75958","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":1067.3232421875,"y":760.148541778326,"z":"a4ab5e6a.05da68","wires":[["9407b227.b5aac"]]},{"id":"b57f4a07.8cd1e8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1047.9526481628418,"y":799.4726204872131,"z":"a4ab5e6a.05da68","wires":[["d8ce728c.6ea7b8"]]},{"id":"d8ce728c.6ea7b8","type":"call","name":"call network-topology-operation-assign-vlantagging-instancegroup","xml":"<call module='GENERIC-RESOURCE-API' rpc='network-topology-operation-assign-vlantagging-instancegroup' mode='sync' >\n","comments":"","outputs":1,"x":1448.8237915039062,"y":801.2916396558285,"z":"a4ab5e6a.05da68","wires":[[]]},{"id":"210258e5.7e72f","type":"comment","name":"if network-name not populated, generate and call automated flow","info":"","comments":"","x":1995.8810729980469,"y":872.3133433759212,"z":"a4ab5e6a.05da68","wires":[]}]