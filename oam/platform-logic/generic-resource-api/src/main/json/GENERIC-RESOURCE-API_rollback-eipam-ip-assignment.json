[{"id":"ea815a18.2dbc38","type":"dgstart","name":"DGSTART","outputs":1,"x":175.71429443359375,"y":71.42857360839844,"z":"efce3e2c.92e5a","wires":[["75f09495.0b88ec"]]},{"id":"4f7a2aae.d22154","type":"method","name":"method rollback-eipam-ip-assignment","xml":"<method rpc='rollback-eipam-ip-assignment' mode='sync'>\n","comments":"","outputs":1,"x":343.2142791748047,"y":232.3650894165039,"z":"efce3e2c.92e5a","wires":[["df537867.a583e8"]]},{"id":"54dcc02b.74032","type":"update","name":"update EIPAM_IP_ASSIGNMENTS to PENDING_DELETE...","xml":"<update plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\n\tkey=\"UPDATE EIPAM_IP_ASSIGNMENTS set status = $tmp.status \n\t\tWHERE info = $vnf-topology-operation-input.vnf-request-information.vnf-id\" >","comments":"","outputs":1,"x":1366.7619132995605,"y":415.7142610549927,"z":"efce3e2c.92e5a","wires":[["b0907e6c.84fac"]]},{"id":"ccc5977b.048f08","type":"set","name":"set status variable","xml":"<set>\n<parameter name='tmp.status' \n\tvalue=\"`'PENDING_DELETE_' + $vnf-topology-operation-input.vnf-request-information.vnf-id`\" />\n<parameter name='service-data.service-information.service-type' \n\tvalue='NOT_APPLICABLE' />\n\t\n","comments":"","x":1236.761875152588,"y":369.04763317108154,"z":"efce3e2c.92e5a","wires":[]},{"id":"b0907e6c.84fac","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1672.7618217468262,"y":415.0475606918335,"z":"efce3e2c.92e5a","wires":[["2819fc9.528a104"]]},{"id":"2819fc9.528a104","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error updating EIPAM_IP_ASSIGNMENTS table on rollback.\" />\n","comments":"","x":1831.761848449707,"y":414.85729598999023,"z":"efce3e2c.92e5a","wires":[]},{"id":"3b4fac15.b93614","type":"execute","name":"execute EIPAM unassign IP addresses","xml":"<execute plugin=\"com.att.sdnctl.sli.plugin.eipam.EIPAMPlugin\" method=\"unassignIPAddress\">\n<parameter name=\"deleteEIPAM_status\" value=\"`$tmp.status`\" />\n","comments":"","outputs":1,"x":1301.7618827819824,"y":460.71430492401123,"z":"efce3e2c.92e5a","wires":[["ab8d1507.dd66a8"]]},{"id":"ab8d1507.dd66a8","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1538.428508758545,"y":460.71424770355225,"z":"efce3e2c.92e5a","wires":[["972f63af.2272a"]]},{"id":"972f63af.2272a","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error in EIPAM unassign IP address on rollback.\" />\n","comments":"","x":1728.4285354614258,"y":460.523983001709,"z":"efce3e2c.92e5a","wires":[]},{"id":"33111690.4e393a","type":"comment","name":"rollback-eipam-ip-assignment","info":"","comments":"","x":699.7619781494141,"y":82.14334297180176,"z":"efce3e2c.92e5a","wires":[]},{"id":"df537867.a583e8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":315.5714416503906,"y":322.33350372314453,"z":"efce3e2c.92e5a","wires":[["bbf0c063.177bf"]]},{"id":"bbf0c063.177bf","type":"update","name":"get-resource EIPAM_IP_ASSIGNMENTS","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from EIPAM_IP_ASSIGNMENTS \n  WHERE info = $vnf-topology-operation-input.vnf-request-information.vnf-id'>","comments":"","outputs":1,"x":591.7143402099609,"y":322.71427726745605,"z":"efce3e2c.92e5a","wires":[["76dfc5db.6c084c","fab0816a.ac00c"]]},{"id":"76dfc5db.6c084c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":853.2857780456543,"y":322.28571581840515,"z":"efce3e2c.92e5a","wires":[["e49469d9.9c7228"]]},{"id":"e49469d9.9c7228","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":996.4285866873606,"y":321.71429361615856,"z":"efce3e2c.92e5a","wires":[[]]},{"id":"fab0816a.ac00c","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":849.9999237060547,"y":370.0000286102295,"z":"efce3e2c.92e5a","wires":[["deacba9b.7d81d8"]]},{"id":"deacba9b.7d81d8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":1017.285701751709,"y":369.42856216430664,"z":"efce3e2c.92e5a","wires":[["ccc5977b.048f08","54dcc02b.74032","3b4fac15.b93614"]]},{"id":"75f09495.0b88ec","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":308.5714416503906,"y":148.5714225769043,"z":"efce3e2c.92e5a","wires":[["4f7a2aae.d22154"]]}]