[{"id":"60f1051e.51114c","type":"dgstart","name":"DGSTART","outputs":1,"x":108,"y":98,"z":"5cacde28.0dfa3","wires":[["226b7544.1cd84a"]]},{"id":"226b7544.1cd84a","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":223.28570556640625,"y":138.23810577392578,"z":"5cacde28.0dfa3","wires":[["9c9ac68.fd6d738"]]},{"id":"9c9ac68.fd6d738","type":"method","name":"method getpathsegment-composite-match-pair","xml":"<method rpc='getpathsegment-composite-match-pair' mode='sync'>\n","comments":"","outputs":1,"x":224.9286346435547,"y":179.0000114440918,"z":"5cacde28.0dfa3","wires":[["83e11bf8.f3a498"]]},{"id":"9a71b461.101558","type":"comment","name":"getpathsegment-composite-match-pair","info":"","comments":"","x":502.34486389160156,"y":45.58634376525879,"z":"5cacde28.0dfa3","wires":[]},{"id":"83e11bf8.f3a498","type":"block","name":"block","xml":"<block>","atomic":"true","comments":"","outputs":1,"x":99.25,"y":391.75001430511475,"z":"5cacde28.0dfa3","wires":[["e727e1ef.1186a","66e90d38.a7bf64","3ef2d82e.d22a58","eec5f9fe.49c248","19a7e137.4341bf","75d577c9.53e138"]]},{"id":"e727e1ef.1186a","type":"for","name":"for each node but the last","xml":"<for index='left-node-index' start='0' end='`$serv-cust_length - 1`' >\n","comments":"","outputs":1,"x":378.5,"y":350.5863494873047,"z":"5cacde28.0dfa3","wires":[["65ea0789.62ae18"]]},{"id":"cf819cdf.14b8a","type":"for","name":"for each service in left node","xml":"<for silentFailure='true' index='left-serv-index' start='0' end='`$serv-cust[$left-node-index].serv-insts_length`' >\n","comments":"","outputs":1,"x":762.25,"y":374.33636474609375,"z":"5cacde28.0dfa3","wires":[["b468d48.edcdb28"]]},{"id":"e1650602.b338c8","type":"for","name":"for each service in right node","xml":"<for silentFailure='true' index='right-serv-index' start='0' end='`$serv-cust[$right-node-index].serv-insts_length`' >\n","comments":"","outputs":1,"x":1147.2498931884766,"y":390.05064392089844,"z":"5cacde28.0dfa3","wires":[["f4ac3454.22ddd8"]]},{"id":"87ef791e.386cd8","type":"switchNode","name":"switch match-type","xml":"<switch test='`$match-type`'>\n","comments":"","outputs":1,"x":329.75001525878906,"y":868.0863962173462,"z":"5cacde28.0dfa3","wires":[["560beca3.cb95c4"]]},{"id":"560beca3.cb95c4","type":"outcome","name":"network-name","xml":"<outcome value='network-name'>\n","comments":"","outputs":1,"x":522.2500152587891,"y":869.3363962173462,"z":"5cacde28.0dfa3","wires":[["7508df39.fbe66"]]},{"id":"7508df39.fbe66","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":691.0000267028809,"y":868.0864028930664,"z":"5cacde28.0dfa3","wires":[["ae0a31f1.db164","be0877c3.8f5bf8"]]},{"id":"65ea0789.62ae18","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":567.25,"y":349.3363437652588,"z":"5cacde28.0dfa3","wires":[["fb53fc76.a42eb","cf819cdf.14b8a"]]},{"id":"fb53fc76.a42eb","type":"set","name":"set right-node-index","xml":"<set>\n<parameter name='right-node-index' value='`$left-node-index + 1`' />\n","comments":"","x":739.3928375244141,"y":326.4792003631592,"z":"5cacde28.0dfa3","wires":[]},{"id":"ae0a31f1.db164","type":"set","name":"set found-match = false","xml":"<set>\n<parameter name='found-match' value='false' />\n","comments":"","x":948.8690185546875,"y":821.9435329437256,"z":"5cacde28.0dfa3","wires":[]},{"id":"2c195116.8a04be","type":"for","name":"for each left vnf-network","xml":"<for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":2075.6429595947266,"y":435.8006811141968,"z":"5cacde28.0dfa3","wires":[["85ef7f7.ded368"]]},{"id":"860961af.af4c4","type":"for","name":"for each right vnf-network","xml":"<for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":2841.357109069824,"y":409.3720760345459,"z":"5cacde28.0dfa3","wires":[["9877f782.81eab8"]]},{"id":"9877f782.81eab8","type":"switchNode","name":"network-names match?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>\n","comments":"","outputs":1,"x":3086.357109069824,"y":408.1220760345459,"z":"5cacde28.0dfa3","wires":[["a993df3a.e43cb"]]},{"id":"a993df3a.e43cb","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3285.1071166992188,"y":406.8720760345459,"z":"5cacde28.0dfa3","wires":[["11e00112.b1064f"]]},{"id":"85ef7f7.ded368","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2261.5356521606445,"y":434.5506525039673,"z":"5cacde28.0dfa3","wires":[["8974cd6.def433","b680f42.8583a08"]]},{"id":"8974cd6.def433","type":"switchNode","name":"network-name == 'oam'?","xml":"<switch test=\"`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n  == 'oam'`\">\n","comments":"","outputs":1,"x":2458.857093811035,"y":411.8720760345459,"z":"5cacde28.0dfa3","wires":[["a157ecc8.bcfdf"]]},{"id":"a157ecc8.bcfdf","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2642.6070976257324,"y":410.6220760345459,"z":"5cacde28.0dfa3","wires":[["860961af.af4c4"]]},{"id":"11e00112.b1064f","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3408.500015258789,"y":406.33636236190796,"z":"5cacde28.0dfa3","wires":[["89a060b2.d5ff","8174835e.b0019","ce80d485.5c26a8","c1ed5d08.86204"]]},{"id":"b468d48.edcdb28","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":956.357177734375,"y":371.6577854156494,"z":"5cacde28.0dfa3","wires":[["36c59b84.446674","e1650602.b338c8"]]},{"id":"36c59b84.446674","type":"set","name":"set path-segments_length to 0","xml":"<set>\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length' value='0' />\n","comments":"","x":1150.9998931884766,"y":347.7292318344116,"z":"5cacde28.0dfa3","wires":[]},{"id":"b680f42.8583a08","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":2445.9998626708984,"y":465.8006134033203,"z":"5cacde28.0dfa3","wires":[["33eb5f41.dd6cf"]]},{"id":"33eb5f41.dd6cf","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2613.1427154541016,"y":464.37206649780273,"z":"5cacde28.0dfa3","wires":[["f08e8298.4c51"]]},{"id":"f08e8298.4c51","type":"break","name":"break","xml":"<break>\n","comments":"","x":2743.1427841186523,"y":462.94351387023926,"z":"5cacde28.0dfa3","wires":[]},{"id":"f4ac3454.22ddd8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":163.14286041259766,"y":868.0864095687866,"z":"5cacde28.0dfa3","wires":[["87ef791e.386cd8"]]},{"id":"bf180b7c.c25418","type":"comment","name":"First pass: create path segments","info":"","comments":"","x":423.5,"y":281.83634757995605,"z":"5cacde28.0dfa3","wires":[]},{"id":"3f086c1d.66b174","type":"comment","name":"Second pass: create end-to-end paths","info":"","comments":"","x":513.3809242248535,"y":1782.9077297449112,"z":"5cacde28.0dfa3","wires":[]},{"id":"66e90d38.a7bf64","type":"for","name":"for each service instance in the first node","xml":"<for silentFailure='true' index='first-serv-index' start='0' end='`$serv-cust[0].serv-insts_length`' >\n","comments":"","outputs":1,"x":445.166690826416,"y":2026.8363507986069,"z":"5cacde28.0dfa3","wires":[["6efb0085.c861d"]]},{"id":"fefe27b3.5a2c68","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1170.9167251586914,"y":2176.586459994316,"z":"5cacde28.0dfa3","wires":[["2b3ebaca.9cf8e6","1bdd6f16.30ab91","26b15761.3793b8","17e80c1e.4449a4","38807c57.9d8824","5419a18d.9f41f","4f5954be.ca26ac","30084bb6.339224"]]},{"id":"2c60d4e2.0aa0fc","type":"set","name":"add first service to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length' value='1' />\n<parameter name='service-paths.service-path[$path-index].service[0].service-instance-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[0].service-path-sequence-id'\n  value='1' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-instance-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vnf-path-sequence-id'\n  value='`$cur-vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-name'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].right-network-role'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[0].vf-module-instance.vf-module-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].left-vf-module-id`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf_length'\n  value='1' />\n  ","comments":"","x":1877.8812408447266,"y":1802.1214971542358,"z":"5cacde28.0dfa3","wires":[]},{"id":"3ef2d82e.d22a58","type":"set","name":"set path-index to 0","xml":"<set>\n<parameter name='path-index' value='0' />\n","comments":"","x":376.4166679382324,"y":1835.5863132476807,"z":"5cacde28.0dfa3","wires":[]},{"id":"2b3ebaca.9cf8e6","type":"set","name":"increment path-index","xml":"<set>\n<parameter name='path-index' value='`$path-index + 1`' />\n","comments":"","x":1365.9166564941406,"y":3006.586118221283,"z":"5cacde28.0dfa3","wires":[]},{"id":"eec5f9fe.49c248","type":"set","name":"set service-path_length","xml":"<set>\n<parameter name='service-paths.service-path_length' value='`$path-index`' />\n","comments":"","x":378.91674041748047,"y":3110.1697940826416,"z":"5cacde28.0dfa3","wires":[]},{"id":"1bdd6f16.30ab91","type":"for","name":"for each subsequent node","xml":"<for index='node-index' start='1' end='`$serv-cust_length`' >\n","comments":"","outputs":1,"x":1386.3334121704102,"y":2792.836263179779,"z":"5cacde28.0dfa3","wires":[["e3b78719.a70e18"]]},{"id":"7a6e2ea4.84e","type":"for","name":"for each service instance","xml":"<for index='serv-index' start='0' end='`$serv-cust[$node-index].serv-insts_length`' >\n","comments":"","outputs":1,"x":1843.250316619873,"y":2685.336263179779,"z":"5cacde28.0dfa3","wires":[["65851b43.a70314"]]},{"id":"fcbb2eb9.7cc05","type":"set","name":"set found-match to false","xml":"<set>\n<parameter name='found-match' value='false' />\n","comments":"","x":1839.583610534668,"y":2633.836224079132,"z":"5cacde28.0dfa3","wires":[]},{"id":"a3466db9.3197e","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2446.7502670288086,"y":2734.0029430389404,"z":"5cacde28.0dfa3","wires":[["14a2dcd7.47e9d3"]]},{"id":"14a2dcd7.47e9d3","type":"switchNode","name":"service-instance-id match?","xml":"<switch test='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id\n  == $next-service-instance-id`'>\n","comments":"","outputs":1,"x":2644.2502670288086,"y":2731.5029430389404,"z":"5cacde28.0dfa3","wires":[["322a5e0f.988a02"]]},{"id":"4f5954be.ca26ac","type":"set","name":"set prev and next variables","xml":"<set>\n<parameter name='next-service-instance-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-service-instance-id`' />\n<parameter name='prev-network-name' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />\n<parameter name='prev-network-role' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />\n<parameter name='next-vnf-instance-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-vnf-instance-id`' />\n<parameter name='next-vf-module-id' value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].right-vf-module-id`' />\n","comments":"","x":1381.2739562988281,"y":2303.193883895874,"z":"5cacde28.0dfa3","wires":[]},{"id":"322a5e0f.988a02","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2838.0002727508545,"y":2731.5029430389404,"z":"5cacde28.0dfa3","wires":[["d815e001.989e6"]]},{"id":"d815e001.989e6","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2970.500244140625,"y":2730.2529296875,"z":"5cacde28.0dfa3","wires":[["e5a8f57d.59e968","1dc46255.409c3e","cd8dc738.071968"]]},{"id":"e5a8f57d.59e968","type":"set","name":"set found-match to true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":3158.2504692077637,"y":2681.5030102729797,"z":"5cacde28.0dfa3","wires":[]},{"id":"bb3c7e5a.29289","type":"set","name":"add service to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length'\n  value='`$service-paths.service-path[$path-index].service_length + 1`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'\n  value='`$node-index + 1`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'\n  value='`$cur-vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].right-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'\n  value='`$prev-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'\n  value='`$prev-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].left-vf-module-id`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'\n  value='1' />\n","comments":"","x":4060.08349609375,"y":2800.7533683776855,"z":"5cacde28.0dfa3","wires":[]},{"id":"1dc46255.409c3e","type":"break","name":"break","xml":"<break>\n","comments":"","x":3100.917190551758,"y":2775.753050327301,"z":"5cacde28.0dfa3","wires":[]},{"id":"1ba49669.9cd81a","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":1831.7503204345703,"y":2844.0862641334534,"z":"5cacde28.0dfa3","wires":[["7392011e.9a1cc"]]},{"id":"7392011e.9a1cc","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2001.7502975463867,"y":2842.8362498283386,"z":"5cacde28.0dfa3","wires":[["8a419e53.f32ef"]]},{"id":"e475d330.d9506","type":"break","name":"break","xml":"<break>\n","comments":"","x":2271.750328063965,"y":2865.3362641334534,"z":"5cacde28.0dfa3","wires":[]},{"id":"8a419e53.f32ef","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2131.750301361084,"y":2842.8362488746643,"z":"5cacde28.0dfa3","wires":[["e475d330.d9506","b38cde1a.6e7f6"]]},{"id":"b38cde1a.6e7f6","type":"set","name":"clear the service-path-instance-id","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service-path-instance-id' value='' />\n","comments":"","x":2354.250331878662,"y":2820.3362641334534,"z":"5cacde28.0dfa3","wires":[]},{"id":"77e655a4.3d7c2c","type":"comment","name":"no end-to-end path found","info":"","comments":"","x":2343.416923522949,"y":2772.836211204529,"z":"5cacde28.0dfa3","wires":[]},{"id":"99fffdb3.40d12","type":"set","name":"set prev and next variables","xml":"<set>\n<parameter name='next-service-instance-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-service-instance-id`' />\n<parameter name='prev-network-name' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />\n<parameter name='prev-network-role' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />\n<parameter name='next-vnf-instance-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-vnf-instance-id`' />\n<parameter name='next-vf-module-id' value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].right-vf-module-id`' />\n","comments":"","x":1854.2503128051758,"y":2897.8362650871277,"z":"5cacde28.0dfa3","wires":[]},{"id":"cd8dc738.071968","type":"switchNode","name":"is this the last node in the path","xml":"<switch test='`$node-index == $serv-cust_length - 1`'>\n","comments":"","outputs":1,"x":3178.417064666748,"y":2728.253053665161,"z":"5cacde28.0dfa3","wires":[["4ffe3a4b.975d54","e77e94f1.1dfc58"]]},{"id":"4ffe3a4b.975d54","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":3392.1668586730957,"y":2933.6699318885803,"z":"5cacde28.0dfa3","wires":[["ba56bc8d.c862f"]]},{"id":"e77e94f1.1dfc58","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3394.833713531494,"y":2549.919856071472,"z":"5cacde28.0dfa3","wires":[["665849ce.a4ea48"]]},{"id":"e3b78719.a70e18","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1645.500186920166,"y":2790.336263179779,"z":"5cacde28.0dfa3","wires":[["fcbb2eb9.7cc05","7a6e2ea4.84e","1ba49669.9cd81a","99fffdb3.40d12","7ec23563.44488c"]]},{"id":"3d55caf2.114306","type":"set","name":"add service to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length'\n  value='`$service-paths.service-path[$path-index].service_length + 1`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'\n  value='`$node-index + 1`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-instance-id'\n  value='`$next-vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vnf-path-sequence-id'\n  value='`$cur-vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-name'\n  value='`$prev-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].left-network-role'\n  value='`$prev-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[0].vf-module-instance'\n  value='`$next-vf-module-id`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'\n  value='1' />\n  ","comments":"","x":4113.916797637939,"y":2415.003628730774,"z":"5cacde28.0dfa3","wires":[]},{"id":"be0877c3.8f5bf8","type":"switchNode","name":"switch left forwarding-path_length","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`'>\n","comments":"","outputs":1,"x":979.7857666015625,"y":937.3721714019775,"z":"5cacde28.0dfa3","wires":[["2c44cb6b.478084","1bfa491a.356307","39ba8072.cabee"]]},{"id":"42b5f17d.fd82c","type":"comment","name":"Left multiple VNF, right single VNF","info":"","comments":"","x":2007.1667098999023,"y":880.6577892303467,"z":"5cacde28.0dfa3","wires":[]},{"id":"9fa977ce.910478","type":"for","name":"for each forwarding-path","xml":"<for index='left-fp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`' >\n","comments":"","outputs":1,"x":1943.4999771118164,"y":938.8005752563477,"z":"5cacde28.0dfa3","wires":[["4d59a622.cabd68"]]},{"id":"4d59a622.cabd68","type":"for","name":"for each service-path","xml":"<for index='left-sp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path_length`' >\n","comments":"","outputs":1,"x":2174.928565979004,"y":938.8006191253662,"z":"5cacde28.0dfa3","wires":[["4ee70df4.6fa794"]]},{"id":"9b1659db.2a50c8","type":"for","name":"for each vnf","xml":"<for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":2519.2141151428223,"y":843.0863399505615,"z":"5cacde28.0dfa3","wires":[["f6787aef.9b6c98"]]},{"id":"4ee70df4.6fa794","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2349.214286804199,"y":936.6577758789062,"z":"5cacde28.0dfa3","wires":[["c3f41d9c.5f189","9b1659db.2a50c8","b938d943.389ee8"]]},{"id":"c3f41d9c.5f189","type":"set","name":"set max-seq to -1","xml":"<set>\n<parameter name='max-seq' value='-1' />\n","comments":"","x":2536.35733795166,"y":796.65797996521,"z":"5cacde28.0dfa3","wires":[]},{"id":"f6787aef.9b6c98","type":"switchNode","name":"switch vnf-path-sequence-id > max-seq?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id\n  &gt; $max-seq`'>\n","comments":"","outputs":1,"x":2776.357250213623,"y":842.372142791748,"z":"5cacde28.0dfa3","wires":[["1de7ba50.9b1ce6"]]},{"id":"1de7ba50.9b1ce6","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3012.0712814331055,"y":840.9435195922852,"z":"5cacde28.0dfa3","wires":[["31096073.47d98"]]},{"id":"31096073.47d98","type":"set","name":"set max-seq, and left-vnf-instance-id","xml":"<set>\n<parameter name='max-seq'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id`' />\n<parameter name='left-vnf-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-instance-id`' />\n","comments":"","x":3234.928352355957,"y":840.9434661865234,"z":"5cacde28.0dfa3","wires":[]},{"id":"4c784489.7ee51c","type":"comment","name":"Now find this vnf in the vnf-list","info":"","comments":"","x":2625.2145614624023,"y":936.6577920913696,"z":"5cacde28.0dfa3","wires":[]},{"id":"b938d943.389ee8","type":"for","name":"for each vnf in vnf-list","xml":"<for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":2539.2143325805664,"y":985.2291955947876,"z":"5cacde28.0dfa3","wires":[["e9f37080.62fd2"]]},{"id":"1b6bfd94.710e22","type":"switchNode","name":"vnfs match?","xml":"<switch test='`$left-vnf-instance-id\n  == $serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`'>\n","comments":"","outputs":1,"x":2855.6429901123047,"y":947.8482637405396,"z":"5cacde28.0dfa3","wires":[["7e264a36.803214"]]},{"id":"7e264a36.803214","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2996.356803894043,"y":948.0862894058228,"z":"5cacde28.0dfa3","wires":[["719519e4.ea9b48"]]},{"id":"719519e4.ea9b48","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3127.7856941223145,"y":946.6577596664429,"z":"5cacde28.0dfa3","wires":[["f00fea78.2d2b68"]]},{"id":"a668d164.0d54b","type":"comment","name":"Find the right-most vnf in forwarding path","info":"","comments":"","x":2834.928352355957,"y":798.0864534378052,"z":"5cacde28.0dfa3","wires":[]},{"id":"8174835e.b0019","type":"set","name":"set path-segment data","xml":"<set>\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />","comments":"","x":3589.9284439086914,"y":377.2292079925537,"z":"5cacde28.0dfa3","wires":[]},{"id":"89a060b2.d5ff","type":"set","name":"set ps-index","xml":"<set>\n<parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />\n","comments":"","x":3557.6071853637695,"y":331.157751083374,"z":"5cacde28.0dfa3","wires":[]},{"id":"ce80d485.5c26a8","type":"set","name":"set found-match = true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":3590.8213500976562,"y":425.8006534576416,"z":"5cacde28.0dfa3","wires":[]},{"id":"c1ed5d08.86204","type":"break","name":"break","xml":"<break>\n","comments":"","x":3540.8212928771973,"y":472.9434461593628,"z":"5cacde28.0dfa3","wires":[]},{"id":"219c59b4.09fa56","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1890.642822265625,"y":416.5149326324463,"z":"5cacde28.0dfa3","wires":[["2c195116.8a04be","d8c93e92.18c82"]]},{"id":"d8c93e92.18c82","type":"set","name":"set vnf-indeces to 0","xml":"<set>\n<parameter name='vnf-index' value='0' />\n<parameter name='left-vnf-index' value='0' />\n<parameter name='right-vnf-index' value='0' />\n","comments":"","x":2052.0714111328125,"y":379.37208366394043,"z":"5cacde28.0dfa3","wires":[]},{"id":"f00fea78.2d2b68","type":"for","name":"for each rhs vnf","xml":"<for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":3284.6904258728027,"y":947.1338777542114,"z":"5cacde28.0dfa3","wires":[["24eb06cb.9f373a"]]},{"id":"e7861a9d.b6d028","type":"comment","name":"Now find this vnf in the right node","info":"","comments":"","x":3399.214641571045,"y":901.6577548980713,"z":"5cacde28.0dfa3","wires":[]},{"id":"79c0acf8.3873a4","type":"for","name":"for each right vnf-network","xml":"<for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":3992.071662902832,"y":915.9435241222382,"z":"5cacde28.0dfa3","wires":[["12bba702.4b0819"]]},{"id":"12bba702.4b0819","type":"switchNode","name":"network-names match?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>\n","comments":"","outputs":1,"x":4231.357494354248,"y":914.6935031414032,"z":"5cacde28.0dfa3","wires":[["34c67642.ea5d0a"]]},{"id":"34c67642.ea5d0a","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4420.107460021973,"y":913.4435908794403,"z":"5cacde28.0dfa3","wires":[["a2f06f03.2bdf7"]]},{"id":"a2f06f03.2bdf7","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4552.071605682373,"y":912.9078605175018,"z":"5cacde28.0dfa3","wires":[["155ad75b.bf5839","c40f4b1.309fab8","f8944206.3f55a","7810a713.0bbc98"]]},{"id":"155ad75b.bf5839","type":"set","name":"set path-segment data","xml":"<set>\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'\n  value='`$left-vnf-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />","comments":"","x":4739.214630126953,"y":885.9435908794403,"z":"5cacde28.0dfa3","wires":[]},{"id":"c40f4b1.309fab8","type":"set","name":"set found-match = true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":4740.107536315918,"y":934.5150363445282,"z":"5cacde28.0dfa3","wires":[]},{"id":"f8944206.3f55a","type":"break","name":"break","xml":"<break>\n","comments":"","x":4690.107479095459,"y":981.6578290462494,"z":"5cacde28.0dfa3","wires":[]},{"id":"7810a713.0bbc98","type":"set","name":"set ps-index","xml":"<set>\n<parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />\n","comments":"","x":4707.786163330078,"y":840.2292964458466,"z":"5cacde28.0dfa3","wires":[]},{"id":"24eb06cb.9f373a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3436.3570137023926,"y":947.3720092773438,"z":"5cacde28.0dfa3","wires":[["ec536573.43e5d8"]]},{"id":"e9f37080.62fd2","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2707.7858657836914,"y":984.5149002075195,"z":"5cacde28.0dfa3","wires":[["1b6bfd94.710e22","f599b952.b87968"]]},{"id":"f599b952.b87968","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":2877.7856063842773,"y":1005.9434976577759,"z":"5cacde28.0dfa3","wires":[["b08f24b3.3659d8"]]},{"id":"b08f24b3.3659d8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3044.9284591674805,"y":1004.5149507522583,"z":"5cacde28.0dfa3","wires":[["5e5cd5b3.dbe35c"]]},{"id":"5e5cd5b3.dbe35c","type":"break","name":"break","xml":"<break>\n","comments":"","x":3174.9285278320312,"y":1003.0863981246948,"z":"5cacde28.0dfa3","wires":[]},{"id":"ec536573.43e5d8","type":"for","name":"for each left vnf-network","xml":"<for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":3613.5000381469727,"y":947.372035741806,"z":"5cacde28.0dfa3","wires":[["2b1dc672.54540a"]]},{"id":"2b1dc672.54540a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3793.499858856201,"y":947.3720433712006,"z":"5cacde28.0dfa3","wires":[["79c0acf8.3873a4","c0290b03.20e848"]]},{"id":"c0290b03.20e848","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":3976.357307434082,"y":978.8006398677826,"z":"5cacde28.0dfa3","wires":[["28c52ee3.509512"]]},{"id":"28c52ee3.509512","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4143.500160217285,"y":977.372092962265,"z":"5cacde28.0dfa3","wires":[["3dbf69a7.5d9136"]]},{"id":"3dbf69a7.5d9136","type":"break","name":"break","xml":"<break>\n","comments":"","x":4273.500228881836,"y":975.9435403347015,"z":"5cacde28.0dfa3","wires":[]},{"id":"a1c12add.519e08","type":"switchNode","name":"switch right forwarding-path_length","xml":"<switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`'>\n","comments":"","outputs":1,"x":1455.5,"y":727.0863437652588,"z":"5cacde28.0dfa3","wires":[["cee159a7.eb9128","85e9a510.3f5968","21fc7a11.f1c926"]]},{"id":"2c44cb6b.478084","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1218.3572273254395,"y":890.8006563186646,"z":"5cacde28.0dfa3","wires":[["a1c12add.519e08"]]},{"id":"1bfa491a.356307","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1218.0000839233398,"y":973.4792528152466,"z":"5cacde28.0dfa3","wires":[["f7822002.381d1"]]},{"id":"39ba8072.cabee","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1218.357177734375,"y":930.8006992340088,"z":"5cacde28.0dfa3","wires":[["a1c12add.519e08"]]},{"id":"21fc7a11.f1c926","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1681.5,"y":673.0863437652588,"z":"5cacde28.0dfa3","wires":[["219c59b4.09fa56"]]},{"id":"cee159a7.eb9128","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1681.1428565979004,"y":755.7649402618408,"z":"5cacde28.0dfa3","wires":[["93c498a0.876eb8"]]},{"id":"85e9a510.3f5968","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1681.4999504089355,"y":713.086386680603,"z":"5cacde28.0dfa3","wires":[["219c59b4.09fa56"]]},{"id":"c9ec2dad.cdca1","type":"comment","name":"Both sides single VNF","info":"","comments":"","x":1979.5,"y":329.0863437652588,"z":"5cacde28.0dfa3","wires":[]},{"id":"33ecf1df.6d209e","type":"comment","name":"Left single VNF, right multiple VNF","info":"","comments":"","x":2001.5,"y":598.0863437652588,"z":"5cacde28.0dfa3","wires":[]},{"id":"93c498a0.876eb8","type":"for","name":"for each forwarding-path","xml":"<for index='right-fp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`' >\n","comments":"","outputs":1,"x":1955.1666259765625,"y":643.0863437652588,"z":"5cacde28.0dfa3","wires":[["e6d81752.4b29d8"]]},{"id":"e6d81752.4b29d8","type":"for","name":"for each service-path","xml":"<for index='right-sp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path_length`' >\n","comments":"","outputs":1,"x":2186.59521484375,"y":643.0863876342773,"z":"5cacde28.0dfa3","wires":[["3724485d.a496d8"]]},{"id":"3724485d.a496d8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2360.8809356689453,"y":640.9435443878174,"z":"5cacde28.0dfa3","wires":[["c9ccb304.20ed1","1b6170c7.a5397f"]]},{"id":"c9ccb304.20ed1","type":"for","name":"for each vnf","xml":"<for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":2515.16650390625,"y":591.41965675354,"z":"5cacde28.0dfa3","wires":[["c3f46064.3be0e"]]},{"id":"c3f46064.3be0e","type":"switchNode","name":"switch vnf-path-sequence-id == 1?","xml":"<switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id\n  == 1`'>\n","comments":"","outputs":1,"x":2740.6430130004883,"y":590.7054872512817,"z":"5cacde28.0dfa3","wires":[["ef83ab7.d739d58"]]},{"id":"ef83ab7.d739d58","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2948.0237998962402,"y":590.9435033798218,"z":"5cacde28.0dfa3","wires":[["a91f299f.b4ce68"]]},{"id":"fd227b4b.f0ffb8","type":"set","name":"set right-vnf-instance-id","xml":"<set>\n<parameter name='right-vnf-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />\n","comments":"","x":3250.8805809020996,"y":555.9434623718262,"z":"5cacde28.0dfa3","wires":[]},{"id":"88f1fcc4.b6d8d","type":"comment","name":"Find the left-most vnf in forwarding path","info":"","comments":"","x":2830.8807411193848,"y":546.4197702407837,"z":"5cacde28.0dfa3","wires":[]},{"id":"f0579103.63e6f","type":"comment","name":"Now find this vnf in the vnf-list","info":"","comments":"","x":2626.833251953125,"y":666.41965675354,"z":"5cacde28.0dfa3","wires":[]},{"id":"1b6170c7.a5397f","type":"for","name":"for each vnf in vnf-list","xml":"<for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":2540.833023071289,"y":714.991060256958,"z":"5cacde28.0dfa3","wires":[["84364387.271de"]]},{"id":"26927e7c.0ad392","type":"switchNode","name":"vnfs match?","xml":"<switch test='`$right-vnf-instance-id\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>\n","comments":"","outputs":1,"x":2857.2616806030273,"y":677.61012840271,"z":"5cacde28.0dfa3","wires":[["3ef34f88.aec3"]]},{"id":"3ef34f88.aec3","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2997.9754943847656,"y":677.8481540679932,"z":"5cacde28.0dfa3","wires":[["5a951866.ef1a08"]]},{"id":"5a951866.ef1a08","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3129.404384613037,"y":676.4196243286133,"z":"5cacde28.0dfa3","wires":[["5a32ad77.025d14"]]},{"id":"5a32ad77.025d14","type":"for","name":"for each lhs vnf","xml":"<for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":3286.3091163635254,"y":676.8957424163818,"z":"5cacde28.0dfa3","wires":[["4da72b93.e078b4"]]},{"id":"821214ed.e38948","type":"comment","name":"Now find this vnf in the left node","info":"","comments":"","x":3400.8333320617676,"y":631.4196195602417,"z":"5cacde28.0dfa3","wires":[]},{"id":"4da72b93.e078b4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3437.9757041931152,"y":677.1338739395142,"z":"5cacde28.0dfa3","wires":[["9ffc8c37.f1005"]]},{"id":"84364387.271de","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2709.404556274414,"y":714.2767648696899,"z":"5cacde28.0dfa3","wires":[["26927e7c.0ad392","9c271353.4b456"]]},{"id":"9c271353.4b456","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":2879.404296875,"y":735.7053623199463,"z":"5cacde28.0dfa3","wires":[["14e9d7f6.182f08"]]},{"id":"14e9d7f6.182f08","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3046.547149658203,"y":734.2768154144287,"z":"5cacde28.0dfa3","wires":[["91d64a32.a79868"]]},{"id":"91d64a32.a79868","type":"break","name":"break","xml":"<break>\n","comments":"","x":3176.547218322754,"y":732.8482627868652,"z":"5cacde28.0dfa3","wires":[]},{"id":"9ffc8c37.f1005","type":"for","name":"for each right vnf-network","xml":"<for index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":3615.1187286376953,"y":677.1339004039764,"z":"5cacde28.0dfa3","wires":[["2fceb42f.674b4c"]]},{"id":"2fceb42f.674b4c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3795.118549346924,"y":677.133908033371,"z":"5cacde28.0dfa3","wires":[["97a00bf4.a5a548","f8216448.631cf8"]]},{"id":"97a00bf4.a5a548","type":"for","name":"for each left vnf-network","xml":"<for silentFailure='true' index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":3986.833251953125,"y":648.0863437652588,"z":"5cacde28.0dfa3","wires":[["863ddbac.7582d8"]]},{"id":"863ddbac.7582d8","type":"switchNode","name":"network-names match?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>\n","comments":"","outputs":1,"x":4226.119083404541,"y":646.8363227844238,"z":"5cacde28.0dfa3","wires":[["61c7bd07.eeb014"]]},{"id":"61c7bd07.eeb014","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4414.869049072266,"y":645.5864105224609,"z":"5cacde28.0dfa3","wires":[["2c697063.4e472"]]},{"id":"2c697063.4e472","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4546.833194732666,"y":645.0506801605225,"z":"5cacde28.0dfa3","wires":[["db397022.a8191","2a65e500.24b97c","6716a7d0.305028","5a3095b9.f209bc"]]},{"id":"db397022.a8191","type":"set","name":"set path-segment data","xml":"<set>\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'\n  value='`$right-vnf-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />\n\n<parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />","comments":"","x":4733.976219177246,"y":618.0864105224609,"z":"5cacde28.0dfa3","wires":[]},{"id":"2a65e500.24b97c","type":"set","name":"set found-match = true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":4734.869125366211,"y":666.6578559875488,"z":"5cacde28.0dfa3","wires":[]},{"id":"6716a7d0.305028","type":"break","name":"break","xml":"<break>\n","comments":"","x":4684.869068145752,"y":713.80064868927,"z":"5cacde28.0dfa3","wires":[]},{"id":"5a3095b9.f209bc","type":"set","name":"set ps-index","xml":"<set>\n<parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />\n","comments":"","x":4702.547752380371,"y":572.3721160888672,"z":"5cacde28.0dfa3","wires":[]},{"id":"f8216448.631cf8","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":3971.118896484375,"y":710.9434595108032,"z":"5cacde28.0dfa3","wires":[["298800cc.0f842"]]},{"id":"298800cc.0f842","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4138.261749267578,"y":709.5149126052856,"z":"5cacde28.0dfa3","wires":[["3ccbd9e.9d0ba26"]]},{"id":"3ccbd9e.9d0ba26","type":"break","name":"break","xml":"<break>\n","comments":"","x":4268.261817932129,"y":708.0863599777222,"z":"5cacde28.0dfa3","wires":[]},{"id":"26b15761.3793b8","type":"execute","name":"generate service-path-instance-id","xml":"<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"tmp.service-path-instance-id\" />\n","comments":"","outputs":1,"x":1406.0951919555664,"y":1706.1097946166992,"z":"5cacde28.0dfa3","wires":[[]]},{"id":"17e80c1e.4449a4","type":"set","name":"create service-path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service-path-instance-id' value='`$tmp.service-path-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service-path-instance-name'\n  value='`$db.path-segment[0].path-name + $tmp.service-path-instance-id`' />\n","comments":"","x":1361.0951919555664,"y":1751.1097955703735,"z":"5cacde28.0dfa3","wires":[]},{"id":"f7822002.381d1","type":"switchNode","name":"switch right forwarding-path_length","xml":"<switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`'>\n","comments":"","outputs":1,"x":1443.5,"y":973.0862827301025,"z":"5cacde28.0dfa3","wires":[["83725e25.dca23","ab4c94e8.e45218","52c3b6d0.4e7318"]]},{"id":"52c3b6d0.4e7318","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1669.5,"y":919.0862827301025,"z":"5cacde28.0dfa3","wires":[["9fa977ce.910478"]]},{"id":"83725e25.dca23","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1669.1428565979004,"y":1001.7648792266846,"z":"5cacde28.0dfa3","wires":[["d7221d4c.6bab6"]]},{"id":"ab4c94e8.e45218","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1669.4999504089355,"y":959.0863256454468,"z":"5cacde28.0dfa3","wires":[["9fa977ce.910478"]]},{"id":"10dda5a9.3882ba","type":"comment","name":"Both sides multiple VNF","info":"","comments":"","x":1975.16650390625,"y":1074.7530117034912,"z":"5cacde28.0dfa3","wires":[]},{"id":"d7221d4c.6bab6","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1896.8333282470703,"y":1143.0863075256348,"z":"5cacde28.0dfa3","wires":[["d06dd812.7c91f8"]]},{"id":"d06dd812.7c91f8","type":"for","name":"for each lhs forwarding-path","xml":"<for index='left-fp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path_length`' >\n","comments":"","outputs":1,"x":2088.5,"y":1144.7529697418213,"z":"5cacde28.0dfa3","wires":[["f98ae7fd.c071a8"]]},{"id":"f98ae7fd.c071a8","type":"for","name":"for each lhs service-path","xml":"<for index='left-sp-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path_length`' >\n","comments":"","outputs":1,"x":2336.5950622558594,"y":1144.7529335021973,"z":"5cacde28.0dfa3","wires":[["a64c1b6f.549e78"]]},{"id":"1bd64c30.3d4fc4","type":"for","name":"for each rhs forwarding-path","xml":"<for index='right-fp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path_length`' >\n","comments":"","outputs":1,"x":3660.166549682617,"y":1148.086290359497,"z":"5cacde28.0dfa3","wires":[["f612535c.5ec86"]]},{"id":"f612535c.5ec86","type":"for","name":"for each rhs service-path","xml":"<for index='right-sp-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path_length`' >\n","comments":"","outputs":1,"x":3908.2616119384766,"y":1148.086254119873,"z":"5cacde28.0dfa3","wires":[["88fd6d88.314cc"]]},{"id":"a44d758c.154b18","type":"for","name":"for each vnf","xml":"<for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":2685.166618347168,"y":1096.419692993164,"z":"5cacde28.0dfa3","wires":[["9ed255d8.367bf8"]]},{"id":"5040ed2a.05fa64","type":"set","name":"set max-seq to -1","xml":"<set>\n<parameter name='max-seq' value='-1' />\n","comments":"","x":2702.309841156006,"y":1049.9913330078125,"z":"5cacde28.0dfa3","wires":[]},{"id":"9ed255d8.367bf8","type":"switchNode","name":"switch vnf-path-sequence-id > max-seq?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id\n  &gt; $max-seq`'>\n","comments":"","outputs":1,"x":2942.3097534179688,"y":1095.7054958343506,"z":"5cacde28.0dfa3","wires":[["3fa87823.7f1638"]]},{"id":"3fa87823.7f1638","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3178.023784637451,"y":1094.2768726348877,"z":"5cacde28.0dfa3","wires":[["1195af19.430441"]]},{"id":"1195af19.430441","type":"set","name":"set max-seq, and left-vnf-instance-id","xml":"<set>\n<parameter name='max-seq'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-path-sequence-id`' />\n<parameter name='left-vnf-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.vnf[$left-vnf-index].vnf-instance-id`' />\n","comments":"","x":3400.8808555603027,"y":1094.276819229126,"z":"5cacde28.0dfa3","wires":[]},{"id":"1f39f18f.8e207e","type":"comment","name":"Now find this vnf in the vnf-list","info":"","comments":"","x":2799.5003356933594,"y":1141.6578521728516,"z":"5cacde28.0dfa3","wires":[]},{"id":"d4e77269.a7598","type":"for","name":"for each vnf in vnf-list","xml":"<for index='left-vnf-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":2713.5001068115234,"y":1190.2292556762695,"z":"5cacde28.0dfa3","wires":[["2d4d1e45.59cf32"]]},{"id":"a167c9e4.76ed18","type":"switchNode","name":"vnfs match?","xml":"<switch test='`$left-vnf-instance-id\n  == $serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`'>\n","comments":"","outputs":1,"x":3029.9287643432617,"y":1152.8483238220215,"z":"5cacde28.0dfa3","wires":[["3adf76b7.7592ca"]]},{"id":"3adf76b7.7592ca","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3170.642578125,"y":1153.0863494873047,"z":"5cacde28.0dfa3","wires":[["c72bded8.0ca85"]]},{"id":"c72bded8.0ca85","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3302.0714683532715,"y":1151.6578197479248,"z":"5cacde28.0dfa3","wires":[["1bd64c30.3d4fc4"]]},{"id":"d4046575.dc0b88","type":"comment","name":"Find the right-most vnf in forwarding path","info":"","comments":"","x":3000.8808555603027,"y":1051.4198064804077,"z":"5cacde28.0dfa3","wires":[]},{"id":"2d4d1e45.59cf32","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2882.0716400146484,"y":1189.5149602890015,"z":"5cacde28.0dfa3","wires":[["a167c9e4.76ed18","48053036.5b345"]]},{"id":"48053036.5b345","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":3052.0713806152344,"y":1210.9435577392578,"z":"5cacde28.0dfa3","wires":[["be8ea1c7.44cca"]]},{"id":"be8ea1c7.44cca","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":3219.2142333984375,"y":1209.5150108337402,"z":"5cacde28.0dfa3","wires":[["16915549.bd5a3b"]]},{"id":"16915549.bd5a3b","type":"break","name":"break","xml":"<break>\n","comments":"","x":3349.2143020629883,"y":1208.0864582061768,"z":"5cacde28.0dfa3","wires":[]},{"id":"a64c1b6f.549e78","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2523.5,"y":1144.7529697418213,"z":"5cacde28.0dfa3","wires":[["5040ed2a.05fa64","a44d758c.154b18","d4e77269.a7598"]]},{"id":"88fd6d88.314cc","type":"switchNode","name":"switch leftmost-vnf-index","xml":"<switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`'>\n","comments":"","outputs":1,"x":4153.50048828125,"y":1146.419641494751,"z":"5cacde28.0dfa3","wires":[["50c3fb12.79f4d4","6add4086.46256","fa0ce669.328d08"]]},{"id":"50c3fb12.79f4d4","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":4353.500057220459,"y":1101.4195566177368,"z":"5cacde28.0dfa3","wires":[["47e8e7a7.051148"]]},{"id":"fa0ce669.328d08","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":4353.142753601074,"y":1330.7649030685425,"z":"5cacde28.0dfa3","wires":[["e7902090.6d387"]]},{"id":"6add4086.46256","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":4353.5000076293945,"y":1141.419599533081,"z":"5cacde28.0dfa3","wires":[["47e8e7a7.051148"]]},{"id":"99c029da.06b698","type":"for","name":"for each vnf","xml":"<for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf_length`' >\n","comments":"","outputs":1,"x":4640.166721343994,"y":1063.0861825942993,"z":"5cacde28.0dfa3","wires":[["41c3dd64.30b714"]]},{"id":"41c3dd64.30b714","type":"switchNode","name":"switch vnf-path-sequence-id == 1?","xml":"<switch test='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-path-sequence-id\n  == 1`'>\n","comments":"","outputs":1,"x":4865.643230438232,"y":1062.372013092041,"z":"5cacde28.0dfa3","wires":[["8f533f3e.a8518"]]},{"id":"8f533f3e.a8518","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5073.024017333984,"y":1062.610029220581,"z":"5cacde28.0dfa3","wires":[["738a1d35.c17764"]]},{"id":"4936360a.1906b8","type":"set","name":"set right-vnf-instance-id","xml":"<set>\n<parameter name='right-vnf-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.vnf[$right-vnf-index].vnf-instance-id`' />\n","comments":"","x":5375.881938934326,"y":1032.6100482940674,"z":"5cacde28.0dfa3","wires":[]},{"id":"9fe00645.cf8e88","type":"comment","name":"Find the left-most vnf in forwarding path","info":"","comments":"","x":4939.214065551758,"y":1019.7529678344727,"z":"5cacde28.0dfa3","wires":[]},{"id":"735a79c9.abd408","type":"comment","name":"Now find this vnf in the vnf-list","info":"","comments":"","x":4751.833309173584,"y":1108.0861959457397,"z":"5cacde28.0dfa3","wires":[]},{"id":"2306e699.673b4a","type":"for","name":"for each vnf in vnf-list","xml":"<for index='right-vnf-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list_length`' >\n","comments":"","outputs":1,"x":4665.833080291748,"y":1156.6575994491577,"z":"5cacde28.0dfa3","wires":[["700f2062.9e292"]]},{"id":"311a6c1f.09e334","type":"switchNode","name":"vnfs match?","xml":"<switch test='`$right-vnf-instance-id\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`'>\n","comments":"","outputs":1,"x":4982.261646270752,"y":1154.276629447937,"z":"5cacde28.0dfa3","wires":[["f1a7e16c.13959"]]},{"id":"f1a7e16c.13959","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5122.97546005249,"y":1154.5146551132202,"z":"5cacde28.0dfa3","wires":[["2d8eb4e3.5b287c"]]},{"id":"2d8eb4e3.5b287c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":5254.404350280762,"y":1153.0861253738403,"z":"5cacde28.0dfa3","wires":[["5a32b0ce.179b","f1186572.d9a8c8"]]},{"id":"700f2062.9e292","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4834.404613494873,"y":1155.9433040618896,"z":"5cacde28.0dfa3","wires":[["311a6c1f.09e334"]]},{"id":"47e8e7a7.051148","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4500.166576385498,"y":1113.0862674713135,"z":"5cacde28.0dfa3","wires":[["99c029da.06b698","2306e699.673b4a","e7902090.6d387"]]},{"id":"a91f299f.b4ce68","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3075.16650390625,"y":591.41965675354,"z":"5cacde28.0dfa3","wires":[["fd227b4b.f0ffb8","9465a266.5e7c9"]]},{"id":"9465a266.5e7c9","type":"break","name":"break","xml":"<break>\n","comments":"","x":3200.1667137145996,"y":604.7530136108398,"z":"5cacde28.0dfa3","wires":[]},{"id":"738a1d35.c17764","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":5198.500583648682,"y":1061.4196147918701,"z":"5cacde28.0dfa3","wires":[["4936360a.1906b8","a80f9638.465408"]]},{"id":"a80f9638.465408","type":"break","name":"break","xml":"<break>\n","comments":"","x":5326.834087371826,"y":1079.752932548523,"z":"5cacde28.0dfa3","wires":[]},{"id":"5a32b0ce.179b","type":"set","name":"set leftmost-vnf-index","xml":"<set>\n<parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index'\n  value='`$right-vnf-index`' />\n","comments":"","x":5425.168022155762,"y":1123.0863075256348,"z":"5cacde28.0dfa3","wires":[]},{"id":"f1186572.d9a8c8","type":"break","name":"break","xml":"<break>\n","comments":"","x":5380.16650390625,"y":1171.4195957183838,"z":"5cacde28.0dfa3","wires":[]},{"id":"e7902090.6d387","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4498.499622344971,"y":1329.7529735565186,"z":"5cacde28.0dfa3","wires":[["2b5f010a.30118e","cce9425a.efcca"]]},{"id":"41acde0.cf41f24","type":"for","name":"for each right vnf-network","xml":"<for silentFailure='true' index='right-vnf-network-index' start='0' end='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":5093.5,"y":1296.4195957183838,"z":"5cacde28.0dfa3","wires":[["5637518f.594ca"]]},{"id":"5637518f.594ca","type":"switchNode","name":"network-names match?","xml":"<switch test='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name\n  == $serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].network-name`'>\n","comments":"","outputs":1,"x":5332.785831451416,"y":1295.1695747375488,"z":"5cacde28.0dfa3","wires":[["3a7e5ac.2f314a6"]]},{"id":"3a7e5ac.2f314a6","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5521.535797119141,"y":1293.919662475586,"z":"5cacde28.0dfa3","wires":[["5f1a9f69.2704c"]]},{"id":"5f1a9f69.2704c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":5653.499942779541,"y":1293.3839321136475,"z":"5cacde28.0dfa3","wires":[["fd2ce5af.8c2418","cb258198.3b184","b8b5a8aa.3c9ac8","5c565eda.45665"]]},{"id":"fd2ce5af.8c2418","type":"set","name":"set path-segment data","xml":"<set>\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].segment-id' value='`$ps-index + 1`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-service-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vnf-instance-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].left-vf-module-id'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-service-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].service-instance-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vnf-instance-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-id`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].right-vf-module-id'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].vnf-list[$right-vnf-index].vnf-network-list[$right-vnf-network-index].vf-module-id`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-name'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-name`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments[$ps-index].network-role'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list[$left-vnf-network-index].network-role`' />\n\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].lhs_vnf.'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].forwarding-paths.forwarding-path[$left-fp-index].service-paths.service-path[$left-sp-index].service[0].vnfs.`' />\n<parameter name='serv-cust[$right-node-index].serv-insts[$right-serv-index].rhs_vnf.'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].service[0].vnfs.`' />\n<parameter name='serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length'\n  value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length + 1`' />","comments":"","x":5840.642967224121,"y":1266.419662475586,"z":"5cacde28.0dfa3","wires":[]},{"id":"cb258198.3b184","type":"set","name":"set found-match = true","xml":"<set>\n<parameter name='found-match' value='true' />\n","comments":"","x":5841.535873413086,"y":1314.9911079406738,"z":"5cacde28.0dfa3","wires":[]},{"id":"b8b5a8aa.3c9ac8","type":"break","name":"break","xml":"<break>\n","comments":"","x":5791.535816192627,"y":1362.133900642395,"z":"5cacde28.0dfa3","wires":[]},{"id":"5c565eda.45665","type":"set","name":"set ps-index","xml":"<set>\n<parameter name='ps-index' value='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].path-segments_length`' />\n","comments":"","x":5809.214500427246,"y":1220.7053680419922,"z":"5cacde28.0dfa3","wires":[]},{"id":"2b5f010a.30118e","type":"for","name":"for each left vnf-network","xml":"<for index='left-vnf-network-index' start='0' end='`$serv-cust[$left-node-index].serv-insts[$left-serv-index].vnf-list[$left-vnf-index].vnf-network-list_length`' >\n","comments":"","outputs":1,"x":4714.928375244141,"y":1327.8481073379517,"z":"5cacde28.0dfa3","wires":[["3d4f83d4.47877c"]]},{"id":"3d4f83d4.47877c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4894.928195953369,"y":1327.8481149673462,"z":"5cacde28.0dfa3","wires":[["41acde0.cf41f24","1274d00e.5974a"]]},{"id":"1274d00e.5974a","type":"switchNode","name":"switch found-match","xml":"<switch test='`$found-match`'>\n","comments":"","outputs":1,"x":5077.78564453125,"y":1359.2767114639282,"z":"5cacde28.0dfa3","wires":[["97cc168d.ec6678"]]},{"id":"97cc168d.ec6678","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":5244.928497314453,"y":1357.8481645584106,"z":"5cacde28.0dfa3","wires":[["159334ea.42f55b"]]},{"id":"159334ea.42f55b","type":"break","name":"break","xml":"<break>\n","comments":"","x":5374.928565979004,"y":1356.4196119308472,"z":"5cacde28.0dfa3","wires":[]},{"id":"cce9425a.efcca","type":"set","name":"set right-vnf-index","xml":"<set>\n<parameter name='right-vnf-index'\n  value='`$serv-cust[$right-node-index].serv-insts[$right-serv-index].forwarding-paths.forwarding-path[$right-fp-index].service-paths.service-path[$right-sp-index].leftmost-vnf-index`' />\n","comments":"","x":4696.832870483398,"y":1261.4196453094482,"z":"5cacde28.0dfa3","wires":[]},{"id":"19a7e137.4341bf","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/gpsc.log' />\n","comments":"","outputs":1,"x":422.3095245361328,"y":241.89588737487793,"z":"5cacde28.0dfa3","wires":[[]]},{"id":"38807c57.9d8824","type":"set","name":"set cur-vnf-seq to 1","xml":"<set>\n<parameter name='cur-vnf-seq' value='1' />\n","comments":"","x":1360.619026184082,"y":1614.9194040298462,"z":"5cacde28.0dfa3","wires":[]},{"id":"6438b28e.eadbac","type":"set","name":"increment cur-vnf-seq","xml":"<set>\n<parameter name='cur-vnf-seq' value='`$cur-vnf-seq + 1`' />\n","comments":"","x":1871.8094635009766,"y":1851.2291269302368,"z":"5cacde28.0dfa3","wires":[]},{"id":"7ec23563.44488c","type":"set","name":"increment cur-vnf-seq","xml":"<set>\n<parameter name='cur-vnf-seq' value='`$max-vnf-seq + 1`' />\n","comments":"","x":1838.7145156860352,"y":2941.2291647195816,"z":"5cacde28.0dfa3","wires":[]},{"id":"5419a18d.9f41f","type":"switchNode","name":"switch lhs_vnf.vnf_length","xml":"<switch test='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`'>\n","comments":"","outputs":1,"x":1381.4524688720703,"y":1911.9434823989868,"z":"5cacde28.0dfa3","wires":[["4c26778b.8af5f8","80fb7f61.9da61","8a2b1b59.56e818"]]},{"id":"80fb7f61.9da61","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1568.595407485962,"y":1807.6575479507446,"z":"5cacde28.0dfa3","wires":[["e2c61db.dcf04e"]]},{"id":"8a2b1b59.56e818","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1559.6666831970215,"y":2077.4794006347656,"z":"5cacde28.0dfa3","wires":[["e1ab9e3e.6ed7a"]]},{"id":"4c26778b.8af5f8","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":1568.5953578948975,"y":1847.6575908660889,"z":"5cacde28.0dfa3","wires":[["e2c61db.dcf04e"]]},{"id":"e1ab9e3e.6ed7a","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1691.4524383544922,"y":2076.2294368743896,"z":"5cacde28.0dfa3","wires":[["9b80a5fb.c28e08","d9d965be.103cd8","8267f9f1.418958","d7943979.2ec028","6861dcd7.f00724","e2e3485b.93dbc8"]]},{"id":"9b80a5fb.c28e08","type":"set","name":"add service data to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length' value='1' />\n<parameter name='service-paths.service-path[$path-index].service[0].service-instance-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[0].service-path-sequence-id'\n  value='1' />\n","comments":"","x":1877.1667861938477,"y":1950.5149097442627,"z":"5cacde28.0dfa3","wires":[]},{"id":"d9d965be.103cd8","type":"for","name":"for each vnf","xml":"<for index='idx' start='0' end='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' >\n","comments":"","outputs":1,"x":1841.4524955749512,"y":2039.086477279663,"z":"5cacde28.0dfa3","wires":[["8b62b8a0.22dc78"]]},{"id":"8b62b8a0.22dc78","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1984.3095054626465,"y":2039.0864372253418,"z":"5cacde28.0dfa3","wires":[["71a23e89.4a5e5","b73b2b6e.469208","ca476712.61c428"]]},{"id":"71a23e89.4a5e5","type":"set","name":"add service node data to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-instance-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id'\n  value='`$vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].left-network-name'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].left-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].left-network-role'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].left-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].right-network-name'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].right-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].right-network-role'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].right-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vf-module-instance.vf-module-id'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />\n","comments":"","x":2183.1191635131836,"y":2040.276720046997,"z":"5cacde28.0dfa3","wires":[]},{"id":"e2c61db.dcf04e","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1698.5953426361084,"y":1824.8003950119019,"z":"5cacde28.0dfa3","wires":[["2c60d4e2.0aa0fc","6438b28e.eadbac"]]},{"id":"8267f9f1.418958","type":"set","name":"set max-vnf-seq and max-vnf-idx to -1","xml":"<set>\n<parameter name='max-vnf-seq' value='-1' />\n<parameter name='max-vnf-idx' value='-1' />\n","comments":"","x":1921.4524993896484,"y":1901.9435405731201,"z":"5cacde28.0dfa3","wires":[]},{"id":"b73b2b6e.469208","type":"switchNode","name":"vnf-path-sequence-id > max-vnf-seq?","xml":"<switch test='`$service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id\n  &gt; $max-vnf-seq`'>\n","comments":"","outputs":1,"x":2203.3572273254395,"y":2089.0862312316895,"z":"5cacde28.0dfa3","wires":[["f8a2cf80.ca5ee"]]},{"id":"f8a2cf80.ca5ee","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2429.071315765381,"y":2087.6575899124146,"z":"5cacde28.0dfa3","wires":[["86f34b82.a693d8"]]},{"id":"86f34b82.a693d8","type":"set","name":"set max-vnf-seq and max-vnf-idx","xml":"<set>\n<parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[0].vnfs.vnf[$idx].vnf-path-sequence-id`' />\n<parameter name='max-vnf-idx' value='`$idx`' />\n","comments":"","x":2640.4999046325684,"y":2086.229331970215,"z":"5cacde28.0dfa3","wires":[]},{"id":"d7943979.2ec028","type":"set","name":"set right network-name and role","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$max-vnf-idx].right-network-name'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf[$max-vnf-idx].right-network-role'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].path-segments[0].network-role`' />\n","comments":"","x":1901.9285736083984,"y":2204.8007259368896,"z":"5cacde28.0dfa3","wires":[]},{"id":"ca476712.61c428","type":"set","name":"set vnf-seq","xml":"<set>\n<parameter name='vnf-seq'\n  value='`$cur-vnf-seq + $serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />\n","comments":"","x":2121.928565979004,"y":1993.3721570968628,"z":"5cacde28.0dfa3","wires":[]},{"id":"6861dcd7.f00724","type":"set","name":"increment cur-vnf-seq","xml":"<set>\n<parameter name='cur-vnf-seq'\n  value='`$cur-vnf-seq + $serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' />\n","comments":"","x":1869.0713958740234,"y":2156.2291927337646,"z":"5cacde28.0dfa3","wires":[]},{"id":"3b40b8ad.c94358","type":"switchNode","name":"switch rhs_vnf.vnf_length","xml":"<switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>\n","comments":"","outputs":1,"x":3721.333507537842,"y":2510.7532749176025,"z":"5cacde28.0dfa3","wires":[["96436577.33d848","b7ece20f.a3485","8a8fa4d8.d3ad68"]]},{"id":"b7ece20f.a3485","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":3943.4762783050537,"y":2396.467420578003,"z":"5cacde28.0dfa3","wires":[["3d55caf2.114306"]]},{"id":"8a8fa4d8.d3ad68","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3934.547595977783,"y":2616.289240837097,"z":"5cacde28.0dfa3","wires":[["d100c18b.c21bb"]]},{"id":"96436577.33d848","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":3943.4762287139893,"y":2436.467463493347,"z":"5cacde28.0dfa3","wires":[["3d55caf2.114306"]]},{"id":"d100c18b.c21bb","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4066.333351135254,"y":2615.039277076721,"z":"5cacde28.0dfa3","wires":[["2f0aa309.a7033c","d468123e.c127f","8cd54107.defcf","ca7e7af5.a633b8","c9219926.7bed88"]]},{"id":"d468123e.c127f","type":"set","name":"add service to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length'\n  value='`$service-paths.service-path[$path-index].service_length + 1`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'\n  value='`$node-index + 1`' />\n","comments":"","x":4244.666717529297,"y":2514.0868034362793,"z":"5cacde28.0dfa3","wires":[]},{"id":"8cd54107.defcf","type":"for","name":"for each vnf","xml":"<for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' >\n","comments":"","outputs":1,"x":4220.619049072266,"y":2599.3249225616455,"z":"5cacde28.0dfa3","wires":[["e84d5b5a.e89418"]]},{"id":"e84d5b5a.e89418","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4363.476058959961,"y":2599.324882507324,"z":"5cacde28.0dfa3","wires":[["98191286.37051","103d9ed6.568e81","2f8ef053.b4912"]]},{"id":"98191286.37051","type":"set","name":"add service node data to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'\n  value='`$vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].left-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].right-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />\n","comments":"","x":4558.9524574279785,"y":2601.8487701416016,"z":"5cacde28.0dfa3","wires":[]},{"id":"2f0aa309.a7033c","type":"set","name":"set min-vnf-seq and min-vnf-idx to 99","xml":"<set>\n<parameter name='min-vnf-seq' value='99' />\n<parameter name='min-vnf-idx' value='99' />\n","comments":"","x":4298.952365875244,"y":2463.8486824035645,"z":"5cacde28.0dfa3","wires":[]},{"id":"103d9ed6.568e81","type":"switchNode","name":"vnf-path-sequence-id < min-vnf-seq?","xml":"<switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id\n  &lt; $min-vnf-seq`'>\n","comments":"","outputs":1,"x":4582.523780822754,"y":2649.324676513672,"z":"5cacde28.0dfa3","wires":[["a12f6579.3e8208"]]},{"id":"a12f6579.3e8208","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4808.237869262695,"y":2647.896035194397,"z":"5cacde28.0dfa3","wires":[["dff2f6d9.1c2fd8"]]},{"id":"dff2f6d9.1c2fd8","type":"set","name":"set min-vnf-seq and min-vnf-idx","xml":"<set>\n<parameter name='min-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />\n<parameter name='min-vnf-idx' value='`$idx`' />\n","comments":"","x":5019.666458129883,"y":2646.4677772521973,"z":"5cacde28.0dfa3","wires":[]},{"id":"ca7e7af5.a633b8","type":"set","name":"set left network-name and role","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-name'\n  value='`$prev-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$min-vnf-idx].left-network-role'\n  value='`$prev-network-role`' />\n","comments":"","x":4279.428272247314,"y":2700.039125442505,"z":"5cacde28.0dfa3","wires":[]},{"id":"2f8ef053.b4912","type":"set","name":"set vnf-seq","xml":"<set>\n<parameter name='vnf-seq'\n  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />\n","comments":"","x":4501.095119476318,"y":2553.610602378845,"z":"5cacde28.0dfa3","wires":[]},{"id":"ba56bc8d.c862f","type":"switchNode","name":"switch rhs_vnf.vnf_length","xml":"<switch test='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`'>\n","comments":"","outputs":1,"x":3580.416534423828,"y":2934.8363456726074,"z":"5cacde28.0dfa3","wires":[["6ef740d7.ab8bf","9a871bcd.949e38","97539162.9e32e"]]},{"id":"9a871bcd.949e38","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":3765.892644882202,"y":2810.550322532654,"z":"5cacde28.0dfa3","wires":[["1b8e535d.ea704d"]]},{"id":"97539162.9e32e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":3758.630790710449,"y":3050.3722314834595,"z":"5cacde28.0dfa3","wires":[["56ed4500.5cf57c"]]},{"id":"6ef740d7.ab8bf","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":3765.8925952911377,"y":2850.550365447998,"z":"5cacde28.0dfa3","wires":[["1b8e535d.ea704d"]]},{"id":"56ed4500.5cf57c","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3890.41654586792,"y":3049.1222677230835,"z":"5cacde28.0dfa3","wires":[["25c3f34.453890c","6d7ca50f.5c9f5c","7162b8c9.40d708","fa017dc5.4429c","35f9a6cd.14d2ba"]]},{"id":"6d7ca50f.5c9f5c","type":"set","name":"add service to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service_length'\n  value='`$service-paths.service-path[$path-index].service_length + 1`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].service-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].service-path-sequence-id'\n  value='`$node-index + 1`' />\n","comments":"","x":4068.749912261963,"y":2948.1697940826416,"z":"5cacde28.0dfa3","wires":[]},{"id":"7162b8c9.40d708","type":"for","name":"for each vnf","xml":"<for index='idx' start='0' end='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' >\n","comments":"","outputs":1,"x":4044.7022438049316,"y":3033.407913208008,"z":"5cacde28.0dfa3","wires":[["1108ae21.339162"]]},{"id":"1108ae21.339162","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":4187.559253692627,"y":3033.4078731536865,"z":"5cacde28.0dfa3","wires":[["fdd66dd1.e42d9","4eaaffe2.b17c4","a88ed994.87c1c8"]]},{"id":"25c3f34.453890c","type":"set","name":"set max-vnf-seq and max-vnf-idx to -1","xml":"<set>\n<parameter name='max-vnf-seq' value='-1' />\n<parameter name='max-vnf-idx' value='-1' />\n","comments":"","x":4123.03556060791,"y":2897.9316730499268,"z":"5cacde28.0dfa3","wires":[]},{"id":"fdd66dd1.e42d9","type":"switchNode","name":"vnf-path-sequence-id > max-vnf-seq?","xml":"<switch test='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id\n  &gt; $max-vnf-seq`'>\n","comments":"","outputs":1,"x":4406.60697555542,"y":3083.407667160034,"z":"5cacde28.0dfa3","wires":[["5ce7f344.05a40c"]]},{"id":"5ce7f344.05a40c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":4632.321063995361,"y":3081.9790258407593,"z":"5cacde28.0dfa3","wires":[["c1d8a9c8.833a88"]]},{"id":"c1d8a9c8.833a88","type":"set","name":"set max-vnf-seq and max-vnf-idx","xml":"<set>\n<parameter name='max-vnf-seq' value='`$service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id`' />\n<parameter name='max-vnf-idx' value='`$idx`' />\n","comments":"","x":4843.749652862549,"y":3080.5507678985596,"z":"5cacde28.0dfa3","wires":[]},{"id":"fa017dc5.4429c","type":"set","name":"set right network-name and role","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$max-vnf-idx].right-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments[0].network-role`' />\n","comments":"","x":4103.5114669799805,"y":3134.122116088867,"z":"5cacde28.0dfa3","wires":[]},{"id":"4eaaffe2.b17c4","type":"set","name":"set vnf-seq","xml":"<set>\n<parameter name='vnf-seq'\n  value='`$cur-vnf-seq + $serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-path-sequence-id - 1`' />\n","comments":"","x":4325.178314208984,"y":2987.6935930252075,"z":"5cacde28.0dfa3","wires":[]},{"id":"a88ed994.87c1c8","type":"set","name":"add service node data to path","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-instance-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vnf-instance-id`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vnf-path-sequence-id'\n  value='`$vnf-seq`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].left-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].left-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-name'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-name`' />\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].right-network-role'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].right-network-role`' />\n\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf[$idx].vf-module-instance.vf-module-id'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf[$idx].vf-module-instance.vf-module-id`' />\n","comments":"","x":4382.999977111816,"y":3035.753180503845,"z":"5cacde28.0dfa3","wires":[]},{"id":"30084bb6.339224","type":"set","name":"set end-to-end-path to false","xml":"<set>\n<parameter name='end-to-end-path' value='false' />\n","comments":"","x":1385.5000686645508,"y":1660.7531042099,"z":"5cacde28.0dfa3","wires":[]},{"id":"665849ce.a4ea48","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3524.6670722961426,"y":2549.08647441864,"z":"5cacde28.0dfa3","wires":[["3b40b8ad.c94358","fc25949d.423d38"]]},{"id":"fc25949d.423d38","type":"set","name":"set end-to-end-path to true","xml":"<set>\n<parameter name='end-to-end-path' value='true' />\n","comments":"","x":3723.0002479553223,"y":2572.4198083877563,"z":"5cacde28.0dfa3","wires":[]},{"id":"35f9a6cd.14d2ba","type":"set","name":"set vnf_length","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].lhs_vnf.vnf_length`' />\n","comments":"","x":4049.6666870117188,"y":3174.324944496155,"z":"5cacde28.0dfa3","wires":[]},{"id":"c9219926.7bed88","type":"set","name":"set vnf_length","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[$node-index].vnfs.vnf_length'\n  value='`$serv-cust[$node-index].serv-insts[$serv-index].rhs_vnf.vnf_length`' />\n","comments":"","x":4226.333469390869,"y":2745.753108024597,"z":"5cacde28.0dfa3","wires":[]},{"id":"e2e3485b.93dbc8","type":"set","name":"set vnf_length","xml":"<set>\n<parameter name='service-paths.service-path[$path-index].service[0].vnfs.vnf_length'\n  value='`$serv-cust[0].serv-insts[$first-serv-index].lhs_vnf.vnf_length`' />\n","comments":"","x":1845.4999694824219,"y":2250.752883911133,"z":"5cacde28.0dfa3","wires":[]},{"id":"75d577c9.53e138","type":"execute","name":"printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/gpsd.log' />\n","comments":"","outputs":1,"x":362.8571472167969,"y":1680,"z":"5cacde28.0dfa3","wires":[[]]},{"id":"6efb0085.c861d","type":"switchNode","name":"switch path-segments_length","xml":"<switch test='`$serv-cust[0].serv-insts[$first-serv-index].path-segments_length`'>\n","comments":"","outputs":1,"x":750,"y":2026.5,"z":"5cacde28.0dfa3","wires":[["bcfeaa86.4e3178","885eede8.38c45","3ff4421e.b9316e"]]},{"id":"bcfeaa86.4e3178","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":982,"y":1908,"z":"5cacde28.0dfa3","wires":[["b8f6cf1f.962d4"]]},{"id":"3ff4421e.b9316e","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":973.0712757110596,"y":2177.821852684021,"z":"5cacde28.0dfa3","wires":[["fefe27b3.5a2c68"]]},{"id":"885eede8.38c45","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":981.9999504089355,"y":1948.0000429153442,"z":"5cacde28.0dfa3","wires":[["b8f6cf1f.962d4"]]},{"id":"b8f6cf1f.962d4","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1116,"y":1928,"z":"5cacde28.0dfa3","wires":[[]]},{"id":"3ad3e612.c9cc2a","type":"comment","name":"this service has no path to anything","info":"","comments":"","x":1024,"y":1864,"z":"5cacde28.0dfa3","wires":[]},{"id":"65851b43.a70314","type":"switchNode","name":"switch path-segments_length","xml":"<switch test='`$serv-cust[$node-index].serv-insts[$serv-index].path-segments_length`'>\n","comments":"","outputs":1,"x":2098,"y":2685,"z":"5cacde28.0dfa3","wires":[["f41beb6d.61ca38","1f8f0d5.620e6f3","9156e4f0.9225d8"]]},{"id":"f41beb6d.61ca38","type":"outcome","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":2312,"y":2624,"z":"5cacde28.0dfa3","wires":[["717e9d33.af8904"]]},{"id":"1f8f0d5.620e6f3","type":"outcome","name":"0","xml":"<outcome value='0'>\n","comments":"","outputs":1,"x":2311.9999504089355,"y":2664.0000429153442,"z":"5cacde28.0dfa3","wires":[["717e9d33.af8904"]]},{"id":"c54bb090.45a03","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2849.333122253418,"y":2612.333109855652,"z":"5cacde28.0dfa3","wires":[[]]},{"id":"f0275c56.68154","type":"comment","name":"this service has no path to anything","info":"","comments":"","x":2897.333267211914,"y":2566.6666870117188,"z":"5cacde28.0dfa3","wires":[]},{"id":"9156e4f0.9225d8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":2314,"y":2734,"z":"5cacde28.0dfa3","wires":[["a3466db9.3197e"]]},{"id":"717e9d33.af8904","type":"switchNode","name":"is this the last node in the path","xml":"<switch test='`$node-index == $serv-cust_length - 1`'>\n","comments":"","outputs":1,"x":2516.66650390625,"y":2641.66650390625,"z":"5cacde28.0dfa3","wires":[["d622c231.39e0e","8d8ed6c3.5ae7b8"]]},{"id":"8d8ed6c3.5ae7b8","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2721.66650390625,"y":2666.66650390625,"z":"5cacde28.0dfa3","wires":[["a3466db9.3197e"]]},{"id":"d622c231.39e0e","type":"outcomeFalse","name":"false","xml":"<outcome value='false'>\n","comments":"","outputs":1,"x":2721.66650390625,"y":2613.333251953125,"z":"5cacde28.0dfa3","wires":[["c54bb090.45a03"]]},{"id":"1b8e535d.ea704d","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":3894.9995040893555,"y":2830.0000324249268,"z":"5cacde28.0dfa3","wires":[["bb3c7e5a.29289","c91b78fc.c1add8"]]},{"id":"c91b78fc.c1add8","type":"set","name":"set max-vnf-seq","xml":"<set>\n<parameter name='max-vnf-seq' value='`$cur-vnf-seq`' />\n","comments":"","x":4051.6668243408203,"y":2846.6668605804443,"z":"5cacde28.0dfa3","wires":[]}]