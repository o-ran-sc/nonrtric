[{"id":"606888d7.b4a878","type":"dgstart","name":"DGSTART","outputs":1,"x":147.00390625,"y":95.00390625,"z":"c985e328.7b018","wires":[["50e98f1c.8753c"]]},{"id":"50e98f1c.8753c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":358.86101722717285,"y":200.4801082611084,"z":"c985e328.7b018","wires":[["3adf4e79.c449f2"]]},{"id":"3adf4e79.c449f2","type":"method","name":"create-route-target-and-vpn-binding","xml":"<method rpc='create-route-target-and-vpn-binding' mode='sync'>\n","comments":"","outputs":1,"x":336.77784729003906,"y":279.9920196533203,"z":"c985e328.7b018","wires":[["64d60645.2cdce8"]]},{"id":"fe204c24.83b","type":"switchNode","name":"switch aic-zone","xml":"<switch test='`$rt.aic-zone`'>\n\n","comments":"","outputs":1,"x":682.5754013061523,"y":250.28968906402588,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"64d60645.2cdce8","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":362.7181854248047,"y":369.2896385192871,"z":"c985e328.7b018","wires":[["fe204c24.83b","54991ae8.541a84","2b1140c1.9ea8b","70ab6f2.b9a8b9","cc4eca53.c15de8","5f5137d2.d8c4e8","95fda830.9b17e8","72d0b7c4.42dea8","fce45cda.6c865","4df978c0.bf9788","3801f652.f2aa5a","3bc0ef9e.76bdf","99021b0f.ba4168","ea9519dc.13b0e8","c922ec7a.ea7b8","38d6d873.d9d7d8","a9c3a473.5d8b58","6e9acffa.e0d5c","894de078.58c28","c40fc4f1.3bc1a8","e5ac76bd.52fb48"]]},{"id":"ad158186.b0d96","type":"other","name":"outcome NULL","xml":"<outcome value=''>\n","comments":"","outputs":1,"x":955.7183303833008,"y":328.00395941734314,"z":"c985e328.7b018","wires":[["c1846171.54116"]]},{"id":"c1846171.54116","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"500\" />\n\t<parameter name=\"error-message\" value=\"Error missing parameters to create-local-route-target\" />\n","comments":"","x":1167.0040893554688,"y":329.00398445129395,"z":"c985e328.7b018","wires":[]},{"id":"a3124829.2c30d8","type":"comment","name":"Call microservice to allocate route target","info":"","comments":"","x":704.0039749145508,"y":1127.0040884017944,"z":"c985e328.7b018","wires":[]},{"id":"54991ae8.541a84","type":"execute","name":"execute RestApiCallNode - call allocateroutetarget microservice","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.rt.microservice.url + $prop.restapi.mS.allocateRT`' />\n     <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.rtmS.allocateRT.templatefile`\" />\n    <parameter name='restapiUser' value='`$prop.rt.mS.user`' />\n    <parameter name='restapiPassword' value='`$prop.rt.mS.pwd`' />\n    <parameter name='customHttpHeaders' value='x-UserId=SDNCP' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"msRT\" />\n\n","comments":"","outputs":1,"x":783.0039978027344,"y":1159.2542114257812,"z":"c985e328.7b018","wires":[["b0067d02.7f50f","8e0d0ead.f5775"]]},{"id":"b0067d02.7f50f","type":"success","name":"success","xml":"<outcome value='success'>\n","comments":"","outputs":1,"x":1152.003978729248,"y":1161.0041184425354,"z":"c985e328.7b018","wires":[["50a171e0.32d7a"]]},{"id":"50a171e0.32d7a","type":"block","name":"block: atomic","xml":"<block atomic=\"true\">\n","atomic":"false","comments":"","outputs":1,"x":1322.0039329528809,"y":1160.5040040016174,"z":"c985e328.7b018","wires":[["462707ff.cb3868"]]},{"id":"8e0d0ead.f5775","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1153.8558082580566,"y":1196.0703372955322,"z":"c985e328.7b018","wires":[["42358325.3f720c"]]},{"id":"462707ff.cb3868","type":"switchNode","name":"switch responseCode","xml":"<switch test='`$msRT.responseCode`'>\n","comments":"","outputs":1,"x":1552.0038986206055,"y":1161.0040969848633,"z":"c985e328.7b018","wires":[["b47bed62.5199e","eb11d901.1b74c8"]]},{"id":"b47bed62.5199e","type":"other","name":"200","xml":"<outcome value='200'>\n","comments":"","outputs":1,"x":1765.0041313171387,"y":1224.0040245056152,"z":"c985e328.7b018","wires":[[]]},{"id":"eb11d901.1b74c8","type":"other","name":"other","xml":"<outcome value='Other'>\n","comments":"","outputs":1,"x":1766.004306793213,"y":1256.004098892212,"z":"c985e328.7b018","wires":[["e3d98389.5414f"]]},{"id":"2b1140c1.9ea8b","type":"switchNode","name":"switch resource","xml":"<switch test='`$rt.resource`'>\n\n","comments":"","outputs":1,"x":682.0039672851562,"y":280.003942489624,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"70ab6f2.b9a8b9","type":"switchNode","name":"switch resource-value","xml":"<switch test='`$rt.resource-value`'>\n\n","comments":"","outputs":1,"x":703.0039901733398,"y":312.0039367675781,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"6b3f48c0.aeaf18","type":"block","name":"block","xml":"<block>","atomic":"false","outputs":1,"x":1083.8968029022217,"y":1617.6404304504395,"z":"c985e328.7b018","wires":[["61df93f5.b8804c","25329b31.482244"]]},{"id":"cc4eca53.c15de8","type":"call","name":"call generate-vpn-binding-id","xml":"<call module='GENERIC-RESOURCE-API' rpc='generate-vpn-binding-id' mode='sync' >\n","comments":"","outputs":1,"x":676.00390625,"y":862.0040884017944,"z":"c985e328.7b018","wires":[[]]},{"id":"5f5137d2.d8c4e8","type":"set","name":"set vpn-binding.vpn-binding-id","xml":"<set>\n<parameter name='vpn-binding.vpn-binding-id' value='`$tmp.return.generate-vpn-binding-id.uuid`' />\n\n\n\n\n","comments":"","x":684.0039215087891,"y":893.0040884017944,"z":"c985e328.7b018","wires":[]},{"id":"72d0b7c4.42dea8","type":"save","name":"save AnAI - vpn-binding","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\" \n\t\tkey=\"vpn-binding.vpn-id = $vpn-binding.vpn-binding-id\" >\n<parameter name=\"vpn-id\" value=\"`$vpn-binding.vpn-binding-id`\" />\n<parameter name=\"vpn-name\" value=\"`$vpn-binding.vpn-name`\" />","comments":"","outputs":1,"x":662.0039138793945,"y":1028.0039520263672,"z":"c985e328.7b018","wires":[["1c658501.de976b","9bb997c9.cdf238"]]},{"id":"95fda830.9b17e8","type":"switchNode","name":"switch network-name","xml":"<switch test='`$rt.network-name`'>\n\n","comments":"","outputs":1,"x":706.0039596557617,"y":348.0039641857147,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"1c658501.de976b","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":882.0038986206055,"y":1018.0039558410645,"z":"c985e328.7b018","wires":[["c766b965.ded478"]]},{"id":"9bb997c9.cdf238","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":887.813346862793,"y":1046.4802742004395,"z":"c985e328.7b018","wires":[["c766b965.ded478"]]},{"id":"c766b965.ded478","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name=\"error-code\" value=\"500\" />\n\t<parameter name=\"error-message\" value=\"Error creating vpn-binding in AAI\" />\n","comments":"","x":1072.004005432129,"y":1025.0040802955627,"z":"c985e328.7b018","wires":[]},{"id":"a3301814.997358","type":"delete","name":"delete vpn-binding","xml":"<delete plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vpn-binding\" \n\tkey=\"vpn-id = $rt.vpn-id\">","comments":"","outputs":1,"x":1988.0040283203125,"y":1779.0039138793945,"z":"c985e328.7b018","wires":[[]]},{"id":"43b38603.863e48","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='error-code' value='500'/>\n\t<parameter name='error-message' value=\"`'Error writing to vpn binding - ' + $tmp.error-message`\"/>","comments":"","x":1972.6083221435547,"y":1895.2001132965088,"z":"c985e328.7b018","wires":[]},{"id":"2a6a140.b0d5bec","type":"set","name":"set: tmp.error-message","xml":"<set>\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"tmp.error-message\" value=\"Error: calling allocate resource microservice\"/>","comments":"","x":1553.0040588378906,"y":1194.0041122436523,"z":"c985e328.7b018","wires":[]},{"id":"25329b31.482244","type":"block","name":"block : atomic","xml":"<block atomic='true'>","atomic":"true","comments":"","outputs":1,"x":1777.0040283203125,"y":1780.0039138793945,"z":"c985e328.7b018","wires":[["a3301814.997358","43b38603.863e48","1bf43d58.da22a3","d8854478.161e88"]]},{"id":"4de04652.8832d8","type":"set","name":"set: tmp.error-message","xml":"<set>\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"tmp.error-message\" value=\"`'Error: calling allocate resource microservice - responseCode: ' + $msRT.responseCode + ' responseMsg: ' + $msRT.responseMessage + ' allocateRouteTargetStatus: ' + $msRT.allocateRouteTargetStatus `\"/>","comments":"","x":2126.2542457580566,"y":1255.004135131836,"z":"c985e328.7b018","wires":[]},{"id":"e3d98389.5414f","type":"block","name":"block","xml":"<block>","atomic":"false","outputs":1,"x":1926.2540893554688,"y":1256.004072189331,"z":"c985e328.7b018","wires":[["4de04652.8832d8","25329b31.482244"]]},{"id":"42358325.3f720c","type":"block","name":"block","xml":"<block>","atomic":"false","outputs":1,"x":1300.2539138793945,"y":1193.0040073394775,"z":"c985e328.7b018","wires":[["2a6a140.b0d5bec","25329b31.482244"]]},{"id":"4df978c0.bf9788","type":"set","name":"set: get-data-from-policy-input.policy-instance-name for vpn binding","xml":"<set>\n\t<parameter name=\"get-data-from-policy-input.policy-instance-name\" value=\"`$get-complex-resource-service-model-output.vpn-binding-policy`\" />\n\t","comments":"","x":795.0039749145508,"y":712.0039162635803,"z":"c985e328.7b018","wires":[]},{"id":"3801f652.f2aa5a","type":"call","name":"call get-data-from-policy","xml":"<call module='GENERIC-RESOURCE-API' rpc='get-data-from-policy' mode='sync' >\n","comments":"","outputs":1,"x":658.0038681030273,"y":743.0038180351257,"z":"c985e328.7b018","wires":[[]]},{"id":"2aff268a.886efa","type":"comment","name":"Determine policy vpn binding info","info":"","comments":"","x":686.0039138793945,"y":679.0038523674011,"z":"c985e328.7b018","wires":[]},{"id":"3bc0ef9e.76bdf","type":"set","name":"set: vpn-binding info from policy","xml":"<set>\n\t<parameter name=\"vpn-binding.vpn-name\" value=\"`$rt.network-name`\" />\n\t<parameter name=\"vpn-binding.asn\" value=\"`$get-data-from-policy-output.asn`\" />\n\t<parameter name=\"vpn-binding.route-target-role\" value=\"`$get-data-from-policy-output.route-target-role`\" />\n\t<parameter name=\"vpn-binding.aic-zone\" value=\"`$rt.aic-zone`\" />\n\t<parameter name=\"vpn-binding.route-target-category\" value=\"local\" />\n\t<parameter name=\"vpn-binding.resource\" value=\"`$rt.resource`\" />\n\t<parameter name=\"vpn-binding.resource-value\" value=\"`$rt.resource-value`\" />","comments":"","x":682.5039367675781,"y":775.0038685798645,"z":"c985e328.7b018","wires":[]},{"id":"fce45cda.6c865","type":"set","name":"set: vpn-binding.global-route-target","xml":"<set>\n\t<parameter name=\"vpn-binding.global-route-target\" value=\"`$msRT.routeTargetID`\" />\n","comments":"","x":693.0039978027344,"y":1193.004108428955,"z":"c985e328.7b018","wires":[]},{"id":"361834e3.17ddbc","type":"comment","name":"Generate unique vpn binding id","info":"","comments":"","x":675.2539215087891,"y":827.0040121078491,"z":"c985e328.7b018","wires":[]},{"id":"70f87c50.cd0d94","type":"comment","name":"Save vpn-binding object in AAI","info":"","comments":"","x":675.2539291381836,"y":993.0040020942688,"z":"c985e328.7b018","wires":[]},{"id":"c40fc4f1.3bc1a8","type":"save","name":"save AnAI - vpn-binding.route-target","xml":"<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"route-target\" \n\t\tkey=\"vpn-binding.vpn-binding-id = $vpn-binding.vpn-binding-id \n\t\t\tAND route-target.global-route-target = $vpn-binding.global-route-target\n\t\t\tAND route-target.route-target-role = $vpn-binding.route-target-role\" >\n<!-- Create route-target object -->\n<parameter name=\"global-route-target\" value=\"`$vpn-binding.global-route-target`\" />\n<parameter name=\"route-target-role\" value=\"`$vpn-binding.route-target-role`\" />\n","comments":"","outputs":1,"x":685.25390625,"y":1618.004186630249,"z":"c985e328.7b018","wires":[["e47dc0e3.9beda","4ca35e1d.0db61"]]},{"id":"e47dc0e3.9beda","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":942.2538757324219,"y":1614.0039720535278,"z":"c985e328.7b018","wires":[["6b3f48c0.aeaf18"]]},{"id":"4ca35e1d.0db61","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":948.0633239746094,"y":1642.4802904129028,"z":"c985e328.7b018","wires":[["6b3f48c0.aeaf18"]]},{"id":"61df93f5.b8804c","type":"set","name":"set: tmp.error-message","xml":"<set>\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"tmp.error-message\" value=\"Error: failed to save route target in AAI\"/>","comments":"","x":1295.2538757324219,"y":1619.0039720535278,"z":"c985e328.7b018","wires":[]},{"id":"5291deee.55bce","type":"comment","name":"Validate mandatory parmaeters","info":"","comments":"","x":728.2539520263672,"y":217.00390887260437,"z":"c985e328.7b018","wires":[]},{"id":"d247e1.92be382","type":"execute","name":"execute RestApiCallNode - call releaseroutetarget microservice","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value='`$prop.rt.microservice.url + $prop.restapi.mS.releaseRT`' />\n     <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.rtmS.allocateRT.templatefile`\" />\n    <parameter name='restapiUser' value='`$prop.rt.mS.user`' />\n    <parameter name='restapiPassword' value='`$prop.rt.mS.pwd`' />\n    <parameter name='customHttpHeaders' value='x-UserId=SDNCP' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"msRT\" />\n\n","comments":"","outputs":1,"x":2669.7542114257812,"y":1738.0041303634644,"z":"c985e328.7b018","wires":[[]]},{"id":"1bf43d58.da22a3","type":"switchNode","name":"switch vpn-binding.global-route-target is not null","xml":"<switch test=\"`$vpn-binding.global-route-target != ''`\">\n\n","comments":"","outputs":1,"x":2081.504119873047,"y":1738.004162788391,"z":"c985e328.7b018","wires":[["659d5476.4d1b6c"]]},{"id":"659d5476.4d1b6c","type":"outcomeTrue","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":2347.254051208496,"y":1738.0039501190186,"z":"c985e328.7b018","wires":[["d247e1.92be382"]]},{"id":"e5ac76bd.52fb48","type":"execute","name":"execute RestApiCallNode - PUT vpnbinding by id","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.network-instance-group-vpn-binding.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vpn-binding-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-vpn-binding\" />\n\n","comments":"","outputs":1,"x":717.0039367675781,"y":1420.0041275024414,"z":"c985e328.7b018","wires":[["99e39f1.4e98f6","9bb382c6.de9d9"]]},{"id":"99e39f1.4e98f6","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":983.9786720275879,"y":1449.6690855026245,"z":"c985e328.7b018","wires":[["eb4e0d1a.59417"]]},{"id":"9bb382c6.de9d9","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":978.3120613098145,"y":1418.168921470642,"z":"c985e328.7b018","wires":[["eb4e0d1a.59417"]]},{"id":"65c82154.a610b","type":"comment","name":"Add VPN Binding to mdsal","info":"","comments":"","x":641.2895660400391,"y":1390.1943273544312,"z":"c985e328.7b018","wires":[]},{"id":"eb4e0d1a.59417","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1130.04594039917,"y":1429.3796319961548,"z":"c985e328.7b018","wires":[["1564c253.b7ef1e","25329b31.482244"]]},{"id":"99021b0f.ba4168","type":"execute","name":"generate vpn-binding url","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.network-instance-group-vpn-binding`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpn-binding-url\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$rt.service-instance-id`\"/>\n","comments":"","outputs":1,"x":666.0039978027344,"y":552.0040302276611,"z":"c985e328.7b018","wires":[[]]},{"id":"ea9519dc.13b0e8","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$rt.service-instance-id`'>\n\n","comments":"","outputs":1,"x":723.0039367675781,"y":380.0039052963257,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"c922ec7a.ea7b8","type":"execute","name":"generate vpn-binding url","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vpn-binding-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpn-binding-url\"/>\n    <parameter name=\"target\" value=\"{network-instance-group-id}\"/>\n    <parameter name=\"replacement\" value=\"`$rt.network-instance-group-id`\"/>\n","comments":"","outputs":1,"x":671.0039215087891,"y":591.0039548873901,"z":"c985e328.7b018","wires":[[]]},{"id":"38d6d873.d9d7d8","type":"switchNode","name":"switch network-instance-group-id","xml":"<switch test='`$rt.network-instance-group-id`'>\n\n","comments":"","outputs":1,"x":745.0039367675781,"y":413.0039052963257,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"a9c3a473.5d8b58","type":"execute","name":"generate vpn-binding url","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vpn-binding-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpn-binding-url\"/>\n    <parameter name=\"target\" value=\"{network-id}\"/>\n    <parameter name=\"replacement\" value=\"`$rt.network-id`\"/>\n","comments":"","outputs":1,"x":674.0039215087891,"y":624.0039310455322,"z":"c985e328.7b018","wires":[[]]},{"id":"6e9acffa.e0d5c","type":"switchNode","name":"switch network-id","xml":"<switch test='`$rt.network-id`'>\n\n","comments":"","outputs":1,"x":701.0039596557617,"y":444.00392150878906,"z":"c985e328.7b018","wires":[["ad158186.b0d96"]]},{"id":"894de078.58c28","type":"execute","name":"generate vpn-binding url","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.vpn-binding-url`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vpn-binding-url\"/>\n    <parameter name=\"target\" value=\"{vpn-binding-id}\"/>\n    <parameter name=\"replacement\" value=\"`$vpn-binding.vpn-binding-id`\"/>\n","comments":"","outputs":1,"x":670.00390625,"y":943.0039978027344,"z":"c985e328.7b018","wires":[[]]},{"id":"b73f3c40.df242","type":"comment","name":"Need to rollback AAI and Ms","info":"","comments":"","x":1334.0039978027344,"y":1398.004189491272,"z":"c985e328.7b018","wires":[]},{"id":"1564c253.b7ef1e","type":"set","name":"set: tmp.error-message","xml":"<set>\n\t<parameter name=\"error-code\" value=\"500\"/>\n\t<parameter name=\"tmp.error-message\" value=\"Error: failed to save vpn-binding in md-sal\" />","comments":"","x":1325.00390625,"y":1428.004096031189,"z":"c985e328.7b018","wires":[]},{"id":"d8854478.161e88","type":"execute","name":"execute RestApiCallNode - DELETE vpnbinding by id","xml":"<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + $prop.restapi.network-instance-group-vpn-binding.templatefile`\" />\n    <parameter name='restapiUrl' value='`$prop.controller.url + $tmp.vpn-binding-url`' />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='DELETE' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-vpn-binding\" />\n\n","comments":"","outputs":1,"x":2087.253921508789,"y":1859.0040073394775,"z":"c985e328.7b018","wires":[["7174455f.d6f84c","7a010c3f.208a24"]]},{"id":"7174455f.d6f84c","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":2384.2287635803223,"y":1885.668996810913,"z":"c985e328.7b018","wires":[["67137964.139e48"]]},{"id":"7a010c3f.208a24","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":2378.562152862549,"y":1854.1688327789307,"z":"c985e328.7b018","wires":[["67137964.139e48"]]},{"id":"b0d286cd.289718","type":"comment","name":"Add VPN Binding to mdsal","info":"","comments":"","x":2005.539535522461,"y":1820.1941061019897,"z":"c985e328.7b018","wires":[]},{"id":"67137964.139e48","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":2530.2960319519043,"y":1865.3795433044434,"z":"c985e328.7b018","wires":[[]]}]