[{"id":"b5d823fd.7aecd8","type":"dgstart","name":"DGSTART","outputs":1,"x":277,"y":231.33332061767578,"z":"f8bd12f.b396cf","wires":[["6e521d4c.c8568c"]]},{"id":"6e521d4c.c8568c","type":"service-logic","name":"GENERIC-RESOURCE-API ${project.version}","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":375.78570556640625,"y":305.57142448425293,"z":"f8bd12f.b396cf","wires":[["b8160df1.2602f"]]},{"id":"b8160df1.2602f","type":"method","name":"validate-tunnelxconn-input","xml":"<method rpc='validate-tunnelxconn-input' mode='sync'>\n","comments":"","outputs":1,"x":404.6786193847656,"y":376.50001430511475,"z":"f8bd12f.b396cf","wires":[["94d9cfb6.819148"]]},{"id":"94d9cfb6.819148","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","outputs":1,"x":446.7500457763672,"y":649.7768154144287,"z":"f8bd12f.b396cf","wires":[["d455ef78.1d6598","c59c08c5.9e1d28","89097d35.bba9a8","5137004e.8046f","4ef641b2.88622"]]},{"id":"d455ef78.1d6598","type":"switchNode","name":"switch svc-request-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-request-id`'>\n","comments":"","outputs":1,"x":781.8095703125,"y":134.4286012649536,"z":"f8bd12f.b396cf","wires":[["1677921a.244246"]]},{"id":"1677921a.244246","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1011.5238554818288,"y":132.42859799521284,"z":"f8bd12f.b396cf","wires":[["f70a4626.6b8008"]]},{"id":"f70a4626.6b8008","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-request-id is a required input\" />\n","comments":"","x":1162.9523620605469,"y":129.09526443481445,"z":"f8bd12f.b396cf","wires":[]},{"id":"c59c08c5.9e1d28","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":774.3809204101562,"y":88,"z":"f8bd12f.b396cf","wires":[["9bf5b798.389e88"]]},{"id":"9bf5b798.389e88","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1010.0952758789062,"y":89.57142353057861,"z":"f8bd12f.b396cf","wires":[["358e5ae0.ec086e"]]},{"id":"358e5ae0.ec086e","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"sdnc-request-header.svc-action is a required input\" />\n","comments":"","x":1160.0952491760254,"y":89.57143306732178,"z":"f8bd12f.b396cf","wires":[]},{"id":"7d1a58d7.ff8ef","type":"comment","name":"validate-tunnelxconn-input - CHANGELOG","info":"3/22: Initial release 1.0.0","comments":"","x":290,"y":135.33332061767578,"z":"f8bd12f.b396cf","wires":[]},{"id":"89097d35.bba9a8","type":"switchNode","name":"switch svc-action","xml":"<switch test='`$tunnelxconn-topology-operation-input.sdnc-request-header.svc-action`'>\n","comments":"","outputs":1,"x":686.6666603088379,"y":655.3333568572998,"z":"f8bd12f.b396cf","wires":[["52a3ca72.39a0d4","edd735a8.344048","385d4044.9b32e","f6365d4e.03ea3","33745c85.f01734","b81789f9.0a9b5"]]},{"id":"52a3ca72.39a0d4","type":"other","name":"assign","xml":"<outcome value='assign'>","comments":"","outputs":1,"x":947.7143630981445,"y":490.90478706359863,"z":"f8bd12f.b396cf","wires":[["59acb47.2b0fccc"]]},{"id":"edd735a8.344048","type":"other","name":"activate","xml":"<outcome value='activate'>","comments":"","outputs":1,"x":967.9999694824219,"y":678.3333511352539,"z":"f8bd12f.b396cf","wires":[["a738b59f.50a53"]]},{"id":"385d4044.9b32e","type":"other","name":"deactivate","xml":"<outcome value='deactivate'>","comments":"","outputs":1,"x":974.9999694824219,"y":768.3333511352539,"z":"f8bd12f.b396cf","wires":[["f55bfd08.6c8a7"]]},{"id":"f6365d4e.03ea3","type":"other","name":"unassign","xml":"<outcome value='unassign'>","comments":"","outputs":1,"x":955.9998321533203,"y":935.6666784286499,"z":"f8bd12f.b396cf","wires":[["1e5b3ae5.5059e5"]]},{"id":"59acb47.2b0fccc","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1146.0238189697266,"y":489.05958557128906,"z":"f8bd12f.b396cf","wires":[["8e59346d.9fe89","3fa9f650.04461a","9e8069fd.cb145","111c545d.ab113c","be2f1214.6804a","f79569f8.dbee3"]]},{"id":"a738b59f.50a53","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1146.250015258789,"y":678.0833930969238,"z":"f8bd12f.b396cf","wires":[["9e8069fd.cb145","be2f1214.6804a"]]},{"id":"f55bfd08.6c8a7","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1147.2500305175781,"y":769.3333950042725,"z":"f8bd12f.b396cf","wires":[["9e8069fd.cb145","be2f1214.6804a"]]},{"id":"1e5b3ae5.5059e5","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1144.9998931884766,"y":936.166708946228,"z":"f8bd12f.b396cf","wires":[["9e8069fd.cb145"]]},{"id":"8e59346d.9fe89","type":"switchNode","name":"switch brg-wan-mac-address","xml":"<switch test='`$tunnelxconn-topology-operation-input.tunnelxconn-request-input.brg-wan-mac-address`'>\n","comments":"","outputs":1,"x":1553.1190185546875,"y":483.6309585571289,"z":"f8bd12f.b396cf","wires":[["90bd782.9309f88"]]},{"id":"90bd782.9309f88","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1761.118896484375,"y":483.4404983520508,"z":"f8bd12f.b396cf","wires":[["c04d13fe.02c76"]]},{"id":"c04d13fe.02c76","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-topology-operation-input.brg-wan-mac-address is a required input\" />\n","comments":"","x":1976.3095703125,"y":479.44046783447266,"z":"f8bd12f.b396cf","wires":[]},{"id":"f79569f8.dbee3","type":"switchNode","name":"switch onap-model-information.model-customization-uuid","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`'>\n","comments":"","outputs":1,"x":1709.1072998046875,"y":397.33341217041016,"z":"f8bd12f.b396cf","wires":[["589e1791.76a778"]]},{"id":"589e1791.76a778","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1990.107177734375,"y":397.3333511352539,"z":"f8bd12f.b396cf","wires":[["5420fa60.f9fd94"]]},{"id":"5420fa60.f9fd94","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"tunnelxconn-information.onap-model-information.model-customization-uuid is a required input\" />\n","comments":"","x":2108.5357055664062,"y":392.33335876464844,"z":"f8bd12f.b396cf","wires":[]},{"id":"5137004e.8046f","type":"returnSuccess","name":"return success","xml":"<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n","comments":"","x":713.3571166992188,"y":1076.8332901000977,"z":"f8bd12f.b396cf","wires":[]},{"id":"3fa9f650.04461a","type":"get-resource","name":"get-resource AR_MODEL","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from ALLOTTED_RESOURCE_MODEL WHERE customization_uuid = $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid'\n  pfx='ar-model'>\n\n","comments":"","outputs":1,"x":1539.302146911621,"y":611.6151895523071,"z":"f8bd12f.b396cf","wires":[["342a2062.3016f","3c94fe8c.f9c48a"]]},{"id":"ac2ca07c.8f157","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No allotted resource model found for model customization UUID ' + $tunnelxconn-topology-operation-input.allotted-resource-information.onap-model-information.model-customization-uuid`\" />\n","comments":"","x":1986.3854637145996,"y":599.7817430496216,"z":"f8bd12f.b396cf","wires":[]},{"id":"342a2062.3016f","type":"not-found","name":"not-found","xml":"<outcome value='not-found'>\n","comments":"","outputs":1,"x":1787.6355438232422,"y":595.1389589309692,"z":"f8bd12f.b396cf","wires":[["ac2ca07c.8f157"]]},{"id":"3c94fe8c.f9c48a","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1781.3855438232422,"y":627.6389589309692,"z":"f8bd12f.b396cf","wires":[["ac2ca07c.8f157"]]},{"id":"4ef641b2.88622","type":"switchNode","name":"switch service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.service-information.service-instance-id`'>\n","comments":"","outputs":1,"x":781.4285583496094,"y":363.19051361083984,"z":"f8bd12f.b396cf","wires":[["5c2101ed.68426"]]},{"id":"5c2101ed.68426","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":997.8571472167969,"y":364.19051361083984,"z":"f8bd12f.b396cf","wires":[["e8805a43.764d7"]]},{"id":"e8805a43.764d7","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"service-information.service-instance-id is a required input\" />\n","comments":"","x":1156.2856750488281,"y":363.19051361083984,"z":"f8bd12f.b396cf","wires":[]},{"id":"33745c85.f01734","type":"other","name":"create","xml":"<outcome value='create'>","comments":"","outputs":1,"x":954.7777137756348,"y":576.2407293319702,"z":"f8bd12f.b396cf","wires":[["27b1a5c9.703fb2"]]},{"id":"27b1a5c9.703fb2","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1147.027603149414,"y":572.324052810669,"z":"f8bd12f.b396cf","wires":[["9e8069fd.cb145","be2f1214.6804a"]]},{"id":"b81789f9.0a9b5","type":"other","name":"delete","xml":"<outcome value='delete'>","comments":"","outputs":1,"x":968.111083984375,"y":852.9073152542114,"z":"f8bd12f.b396cf","wires":[["5be27043.6b85f"]]},{"id":"5be27043.6b85f","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":1144.6111068725586,"y":850.9073696136475,"z":"f8bd12f.b396cf","wires":[["9e8069fd.cb145","be2f1214.6804a"]]},{"id":"9e8069fd.cb145","type":"switchNode","name":"switch allotted-resource-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-id`'>\n","comments":"","outputs":1,"x":1635.2938537597656,"y":141.3729977607727,"z":"f8bd12f.b396cf","wires":[["637ba4be.9495e4"]]},{"id":"637ba4be.9495e4","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1838.3296146392822,"y":146.19443893432617,"z":"f8bd12f.b396cf","wires":[["c80adb0c.bf9c4"]]},{"id":"c80adb0c.bf9c4","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-id is a required input\" />\n","comments":"","x":2023.5080833435059,"y":141.44443893432617,"z":"f8bd12f.b396cf","wires":[]},{"id":"111c545d.ab113c","type":"switchNode","name":"switch allotted-resource-type","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.allotted-resource-type`'>\n","comments":"","outputs":1,"x":1639.2224349975586,"y":210.3214235305786,"z":"f8bd12f.b396cf","wires":[["cf5ac7f9.65d6a"]]},{"id":"cf5ac7f9.65d6a","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1834.7578468322754,"y":210.14284706115723,"z":"f8bd12f.b396cf","wires":[["90dc41a5.b5f198"]]},{"id":"90dc41a5.b5f198","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.allotted-resource-type is a required input\" />\n","comments":"","x":1994.9363174438477,"y":209.14284706115723,"z":"f8bd12f.b396cf","wires":[]},{"id":"be2f1214.6804a","type":"switchNode","name":"switch parent-service-instance-id","xml":"<switch test='`$tunnelxconn-topology-operation-input.allotted-resource-information.parent-service-instance-id`'>\n","comments":"","outputs":1,"x":1654.5796127319336,"y":286.0357189178467,"z":"f8bd12f.b396cf","wires":[["fb65b1f0.8c6598"]]},{"id":"fb65b1f0.8c6598","type":"other","name":"NULL","xml":"<outcome value=''>","comments":"","outputs":1,"x":1874.0437355041504,"y":285.67856884002686,"z":"f8bd12f.b396cf","wires":[["d1d452a4.07303"]]},{"id":"d1d452a4.07303","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"allotted-resource-information.parent-service-instance-id is a required input\" />\n","comments":"","x":2025.4722023010254,"y":284.67856884002686,"z":"f8bd12f.b396cf","wires":[]}]