[
    {
        "id": "a497f564.a4f098",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 177,
        "y": 84,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "86c9c962.7342a8"
            ]
        ]
    },
    {
        "id": "86c9c962.7342a8",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>",
        "outputs": 1,
        "x": 453,
        "y": 85,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "d7517e20.9dcd5"
            ]
        ]
    },
    {
        "id": "d7517e20.9dcd5",
        "type": "method",
        "name": "self-serve-vfmodule-ra-assignment",
        "xml": "<method rpc='self-serve-vfmodule-ra-assignment' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 804,
        "y": 85,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "ed8eb912.b3b758"
            ]
        ]
    },
    {
        "id": "ed8eb912.b3b758",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 189.5,
        "y": 167,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "aa1b1c80.cc44a",
                "ad94d45c.b42738",
                "be3cc63c.1364a8",
                "d22ed1cc.a3d2",
                "3b2d4411.81821c",
                "e9f32b69.e2f1b8",
                "d975d3e7.41559",
                "2129120f.4c214e",
                "c3a30796.aceda8",
                "9175398d.c04fa8",
                "11b406c0.22da09",
                "bbab380e.910a58",
                "8e0f6b.25999098",
                "873ccf3b.1d408",
                "5989d23c.c4816c",
                "f15b2532.ed6cd8"
            ]
        ]
    },
    {
        "id": "ad94d45c.b42738",
        "type": "set",
        "name": "set",
        "xml": "<set>\n   <parameter name=\"cds\" value=\"execution-service_process.\"/>\n   <parameter name=\"`$cds + 'commonHeader.requestId'`\" value=\"`$tmp.return.generate.vnf-se-serv-uuid`\"/>\n   <parameter name=\"resource-type\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-type`\" />  \n   <parameter name=\"`$cds + 'commonHeader.subRequestId'`\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\" />   \n   <parameter name=\"`$cds + 'actionIdentifiers.actionName'`\" value=\"resource-assignment\"/> \n   <parameter name=\"responsePrefix\" value=\"raAssign\" />\n   <parameter name=\"`$cds + 'isNonAppend'`\" value=\"true\"/>\n   <parameter name=\"`$cds + 'commonHeader.originatorId'`\" value=\"SDNC_DG\"/>\n   <parameter name=\"`$cds + 'actionIdentifiers.mode'`\" value=\"sync\"/>\n",
        "comments": "",
        "x": 370,
        "y": 220,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "64e2173c.958b58",
        "type": "outcome",
        "name": "true",
        "xml": "<outcome value='true'>",
        "comments": "",
        "outputs": 1,
        "x": 650.2142486572266,
        "y": 565.4642963409424,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "545277b4.e0bb38"
            ]
        ]
    },
    {
        "id": "d22ed1cc.a3d2",
        "type": "for",
        "name": "for vf-module-topology-operation-input",
        "xml": "<for silentFailure='true' index='i' start='0' end='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 473.71431732177734,
        "y": 430.7143135070801,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "4bf3e8f8.745bd8"
            ]
        ]
    },
    {
        "id": "70a829fa.30fea8",
        "type": "set",
        "name": "set tmp.sdnc-model-name",
        "xml": "<set>\n<parameter name='tmp.sdnc-model-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n",
        "comments": "",
        "x": 1220.428565979004,
        "y": 363.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "3153b11f.bf66de",
        "type": "outcome",
        "name": "sdnc_model_name",
        "xml": "<outcome value='sdnc_model_name'>\n",
        "comments": "",
        "outputs": 1,
        "x": 966.4285659790039,
        "y": 363.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "70a829fa.30fea8"
            ]
        ]
    },
    {
        "id": "4bf3e8f8.745bd8",
        "type": "switchNode",
        "name": "switch",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].name`'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 728.4285659790039,
        "y": 430.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "3153b11f.bf66de",
                "2f8525ae.fd272a",
                "49db862e.217b58",
                "ba2667e.2988e98"
            ]
        ]
    },
    {
        "id": "2f8525ae.fd272a",
        "type": "outcome",
        "name": "sdnc_model_version",
        "xml": "<outcome value='sdnc_model_version'>\n",
        "comments": "",
        "outputs": 1,
        "x": 969.4285659790039,
        "y": 409.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "1585d1d8.a9e64e"
            ]
        ]
    },
    {
        "id": "49db862e.217b58",
        "type": "outcome",
        "name": "vf_module_label",
        "xml": "<outcome value='vf_module_label'>\n",
        "comments": "",
        "outputs": 1,
        "x": 954.4285659790039,
        "y": 458.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "4fdf7f0e.99111"
            ]
        ]
    },
    {
        "id": "1585d1d8.a9e64e",
        "type": "set",
        "name": "set tmp.sdnc-model-version",
        "xml": "<set>\n<parameter name='tmp.sdnc-model-version' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n\n",
        "comments": "",
        "x": 1224.428565979004,
        "y": 409.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "4fdf7f0e.99111",
        "type": "set",
        "name": "set tmp.vf-module-label",
        "xml": "<set>\n<parameter name='tmp.vf-module-label' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value`' />\n\n",
        "comments": "",
        "x": 1206.428565979004,
        "y": 458.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "99a874b2.f5f858",
        "type": "set",
        "name": "set name-value other JsonString",
        "xml": "<set>\n<parameter name=\"tmp.config-name-value-other-payload\" value=\"`$tmp.config-name-value-other-payload + '&quot;' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].name + '&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-input-parameters.param[$i].value + '&quot;,'`\"/>\n\n",
        "comments": "",
        "x": 1224.428565979004,
        "y": 509.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "ba2667e.2988e98",
        "type": "outcome",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 926.4285659790039,
        "y": 509.1428813934326,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "99a874b2.f5f858"
            ]
        ]
    },
    {
        "id": "3b2d4411.81821c",
        "type": "set",
        "name": "set configAssignment JsonString",
        "xml": "<set>\n<parameter name=\"tmp.config-name-value-payload4\" value=\"`$tmp.config-name-value-other-payload + '&quot;service-instance-id&quot;:&quot;' + $vf-module-topology-operation-input.service-information.service-instance-id + '&quot;,'`\"/>\n<parameter name=\"tmp.config-name-value-payload5\" value=\"`$tmp.config-name-value-payload4 + '&quot;vnf-id&quot;:&quot;' + $vf-module-topology-operation-input.vnf-information.vnf-id + '&quot;,'`\"/>\n<parameter name=\"tmp.config-name-value-payload6\" value=\"`$tmp.config-name-value-payload5 + '&quot;vf-module-model-customization-uuid&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid + '&quot;,'`\"/>\n<parameter name=\"tmp.config-name-value-payload7\" value=\"`$tmp.config-name-value-payload6 + '&quot;vnf-model-customization-uuid&quot;:&quot;' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-information.onap-model-information.model-customization-uuid + '&quot;,'`\"/>\n<parameter name=\"tmp.config-name-value-payload8\" value=\"`$tmp.config-name-value-payload7 + '&quot;vf-module-id&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + '&quot;,'`\"/>\n<parameter name=\"tmp.config-name-value-payload9\" value=\"`$tmp.config-name-value-payload8 + '&quot;aic-cloud-region&quot;:&quot;' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region + '&quot;'`\"/>",
        "comments": "",
        "x": 450,
        "y": 660,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "e9f32b69.e2f1b8",
        "type": "execute",
        "name": "execute BlueprintProcessingClient",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restconfapicall.RestconfApiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.cds.url + '/api/v1/execution-service/process'`\" />\n    <parameter name='restapiUser' value='`$prop.cds.user`' />\n    <parameter name='restapiPassword' value='`$prop.cds.pwd`' />\n    <parameter name='dirPath' value=\"/opt/onap/sdnc/restconfapi/yang\" />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='POST' />\n    <parameter name=\"responsePrefix\" value=\"`$responsePrefix`\" />",
        "comments": "",
        "outputs": 1,
        "x": 459.33331298828125,
        "y": 900,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "110f9145.d77fff",
                "356e5968.733e76"
            ]
        ]
    },
    {
        "id": "110f9145.d77fff",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 683.3333129882812,
        "y": 866,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "48054045.e69da"
            ]
        ]
    },
    {
        "id": "48054045.e69da",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error from ConfigAssignmentNode\" />\n",
        "comments": "",
        "x": 881.3333129882812,
        "y": 866,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "2129120f.4c214e",
        "type": "for",
        "name": "for resource-accumulator-resolved-data loop",
        "xml": "<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.resource-accumulator-resolved-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 492.00001525878906,
        "y": 1168.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "cb710ae6.5a4038"
            ]
        ]
    },
    {
        "id": "9c282888.202138",
        "type": "set",
        "name": "set from resource-accumulator-resolved-data",
        "xml": "<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='RA Resolved'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='SUCCESS'/>\n\n",
        "comments": "",
        "x": 1706.000015258789,
        "y": 1219.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "c3a30796.aceda8",
        "type": "for",
        "name": "for capability-data",
        "xml": "<for silentFailure='true' index='i' start='0' end='`$jsonContextPrefix.capability-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 411.00001525878906,
        "y": 1431.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "74b1206d.0fed1"
            ]
        ]
    },
    {
        "id": "74b1206d.0fed1",
        "type": "for",
        "name": "for key-mapping",
        "xml": "<for silentFailure='true' index='j' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 634.0000152587891,
        "y": 1431.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "acaea466.cd4ab8"
            ]
        ]
    },
    {
        "id": "d975d3e7.41559",
        "type": "execute",
        "name": "execute jsonStringToCtx",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"jsonStringToCtx\">\n\t<parameter name=\"source\" value=\"`'raAssign.payload.resource-assignment-response.meshed-template.' + $tmp.vf-module-label`\" />\n\t<parameter name=\"outputPath\" value=\"jsonContextPrefix\" />\n\t<parameter name=\"isEscaped\" value=\"false\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 436.00001525878906,
        "y": 1089.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "aa1b1c80.cc44a",
        "type": "execute",
        "name": "execute generateUUID",
        "xml": " <execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" > \n <parameter name=\"ctx-destination\" value=\"tmp.return.generate.vnf-se-serv-uuid\" /> \n ",
        "comments": "",
        "outputs": 1,
        "x": 419,
        "y": 167,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "322955c2.67bfda"
            ]
        ]
    },
    {
        "id": "322955c2.67bfda",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 624,
        "y": 167,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "eedef31.1f0501"
            ]
        ]
    },
    {
        "id": "eedef31.1f0501",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"generateUUID is failed\" />\n",
        "comments": "",
        "x": 788,
        "y": 166,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "ee67402d.5d28e",
        "type": "for",
        "name": "for vnf-parameters-data.param",
        "xml": "<for silentFailure='true' index='cnt' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1465.000015258789,
        "y": 1168.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "7f19057e.59cacc"
            ]
        ]
    },
    {
        "id": "cb710ae6.5a4038",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 771.0000152587891,
        "y": 1169.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "e2f0cba4.654da8",
                "bd5d211c.f590f",
                "69e4eac9.bfa664"
            ]
        ]
    },
    {
        "id": "be3cc63c.1364a8",
        "type": "switchNode",
        "name": "switch vf-parameters-data.param_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 491,
        "y": 268,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "dcf68c0.5595078",
                "212315d0.254f0a"
            ]
        ]
    },
    {
        "id": "dcf68c0.5595078",
        "type": "outcome",
        "name": "null",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 754.1428833007812,
        "y": 235.85715293884277,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "2fd156a6.7f84aa"
            ]
        ]
    },
    {
        "id": "212315d0.254f0a",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 753.1428833007812,
        "y": 299.8571529388428,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "704076e8.db1178"
            ]
        ]
    },
    {
        "id": "2fd156a6.7f84aa",
        "type": "set",
        "name": "set pre service param len as 0",
        "xml": "<set>\n   <parameter name='highnum' value='0' />\n   <parameter name='prehighnum' value='0'/>\n",
        "comments": "",
        "x": 967.1428833007812,
        "y": 235.85715293884277,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "704076e8.db1178",
        "type": "set",
        "name": "set pre service param len",
        "xml": "<set>\n   <parameter name='highnum' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />\n   <parameter name='prehighnum' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' />",
        "comments": "",
        "x": 952.1428833007812,
        "y": 299.8571529388428,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "7f19057e.59cacc",
        "type": "switchNode",
        "name": "switch input vnf-name",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].name == $jsonContextPrefix.resource-accumulator-resolved-data[$i].param-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1723.000015258789,
        "y": 1168.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "249e69e0.c58706"
            ]
        ]
    },
    {
        "id": "249e69e0.c58706",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1903.000015258789,
        "y": 1168.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "ed76b6f6.2b9568"
            ]
        ]
    },
    {
        "id": "ed76b6f6.2b9568",
        "type": "set",
        "name": "set for existing param name",
        "xml": "<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$cnt].value`' value='`$jsonContextPrefix.resource-accumulator-resolved-data[$i].param-value`'/>\n<parameter name='tmp.mso.param.found' value='true' />\n",
        "comments": "",
        "x": 2113.000015258789,
        "y": 1169.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "69e4eac9.bfa664",
        "type": "switchNode",
        "name": "switch tmp.mso.param.not-found",
        "xml": "<switch test='`$tmp.mso.param.found`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1013.0000152587891,
        "y": 1221.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "9a1a87b5.132028"
            ]
        ]
    },
    {
        "id": "9a1a87b5.132028",
        "type": "not-found",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1247.000015258789,
        "y": 1220.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "60cb391a.7088d8"
            ]
        ]
    },
    {
        "id": "e2f0cba4.654da8",
        "type": "set",
        "name": "set for existing param name",
        "xml": "<set>\n<parameter name='tmp.mso.param.found' value='false' />\n",
        "comments": "",
        "x": 997.0000152587891,
        "y": 1110.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "bd5d211c.f590f",
        "type": "switchNode",
        "name": "switch check length > 0",
        "xml": "<switch test='`$prehighnum &gt; 0`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 989.5000152587891,
        "y": 1169.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "a9041b72.5fd4e8"
            ]
        ]
    },
    {
        "id": "a9041b72.5fd4e8",
        "type": "not-found",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1236.500015258789,
        "y": 1169.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "ee67402d.5d28e"
            ]
        ]
    },
    {
        "id": "a8fb4875.424878",
        "type": "for",
        "name": "for payload",
        "xml": "<for index='k' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 1683.000015258789,
        "y": 1483.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "d1581b7a.307818"
            ]
        ]
    },
    {
        "id": "c34d628a.5ba25",
        "type": "set",
        "name": "set resource-key",
        "xml": "<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-name`'/>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key[$num].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload[$k].param-value`'/>\n\t\n",
        "comments": "",
        "x": 2082.000015258789,
        "y": 1424.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "8aa1345a.8ddd28",
        "type": "set",
        "name": "set output-data ",
        "xml": "<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].name`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].value`' value='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping[$l].resource-value`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.capability-name`' value='`$jsonContextPrefix.capability-data[$i].capability-name`'/>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.status`' value='PENDING'/>\n<parameter name='num' value='0' />",
        "comments": "",
        "x": 1261.000015258789,
        "y": 1385.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "acaea466.cd4ab8",
        "type": "for",
        "name": "for output-key-mapping",
        "xml": "<for silentFailure='true' index='l' start='0' end='`$jsonContextPrefix.capability-data[$i].key-mapping[$j].output-key-mapping_length`' >",
        "comments": "",
        "outputs": 1,
        "x": 869.0000152587891,
        "y": 1432.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "44eeef6b.763aa"
            ]
        ]
    },
    {
        "id": "44eeef6b.763aa",
        "type": "block",
        "name": "block atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1064.000015258789,
        "y": 1431.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "8aa1345a.8ddd28",
                "859dcf36.75878",
                "7a25862.9293b78",
                "cf8679e9.4fafd8"
            ]
        ]
    },
    {
        "id": "7a25862.9293b78",
        "type": "set",
        "name": "set length",
        "xml": "<set>\n<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param_length`' value='`$highnum + 1`'/>\n\n",
        "comments": "",
        "x": 1260.000015258789,
        "y": 1483.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "356e5968.733e76",
        "type": "failure",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 688.3333129882812,
        "y": 928,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "48054045.e69da"
            ]
        ]
    },
    {
        "id": "859dcf36.75878",
        "type": "switchNode",
        "name": "switch payload_length",
        "xml": "<switch test=\"`$jsonContextPrefix.capability-data[$i].key-mapping[$j].payload_length == ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 1290.000015258789,
        "y": 1432.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "4c86e71b.d68c88",
                "24678540.a0541a"
            ]
        ]
    },
    {
        "id": "4c86e71b.d68c88",
        "type": "outcome",
        "name": "true",
        "xml": "<outcome value='true'>",
        "comments": "",
        "outputs": 1,
        "x": 1505.000015258789,
        "y": 1364.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "24678540.a0541a",
        "type": "other",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1514.000015258789,
        "y": 1483.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "a8fb4875.424878"
            ]
        ]
    },
    {
        "id": "9175398d.c04fa8",
        "type": "switchNode",
        "name": "switch: model info == NULL",
        "xml": "<switch test=\"`$tmp.sdnc-model-name == '' or $tmp.sdnc-model-version == '' or $tmp.vf-module-label == ''`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 438.78570556640625,
        "y": 565.6071863174438,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "64e2173c.958b58"
            ]
        ]
    },
    {
        "id": "d294acc7.bd931",
        "type": "get-resource",
        "name": "get VF_MODEL.sdnc_model_name",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid'\n  pfx='db1.vf-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1116.9285354614258,
        "y": 566.464297413826,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "10c023aa.5d4fbc",
                "dedcf4a6.d6ca18",
                "2f6f6c84.413364"
            ]
        ]
    },
    {
        "id": "10c023aa.5d4fbc",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1360.1427536010742,
        "y": 566.8451566696167,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "2b521b7.20a39e4"
            ]
        ]
    },
    {
        "id": "2b521b7.20a39e4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODEL table\" />\n",
        "comments": "",
        "x": 1541.142734527588,
        "y": 566.9880638122559,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "64e226e0.1a2c48",
        "type": "get-resource",
        "name": "get VF_MODULE_MODEL.vf-module-label",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT vf_module_label from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid \n  \tAND vf_module_label is not null'\n  pfx='db1.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1138.380874633789,
        "y": 695.3095798492432,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "8ea00362.3b8f7",
                "cf82827d.c0abe",
                "78e0a6e.6498258"
            ]
        ]
    },
    {
        "id": "8ea00362.3b8f7",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1417.1664581298828,
        "y": 695.6904038190842,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "9c3a2915.d4bae8"
            ]
        ]
    },
    {
        "id": "9c3a2915.d4bae8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "x": 1592.166389465332,
        "y": 695.8333042860031,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "cf82827d.c0abe",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1427.3808822631836,
        "y": 775.095287322998,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "726ff5db.17542c"
            ]
        ]
    },
    {
        "id": "545277b4.e0bb38",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 825.7380294799805,
        "y": 565.8452922105789,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "d294acc7.bd931",
                "64e226e0.1a2c48"
            ]
        ]
    },
    {
        "id": "7bffb405.6623ac",
        "type": "set",
        "name": "set sdnc-model-name, sdnc-model-version",
        "xml": "<set>\n<parameter name='tmp.sdnc-model-name' value='`$db1.vf-model.sdnc-model-name`' />\n<parameter name='tmp.sdnc-model-version' value='`$db1.vf-model.sdnc-model-version`' />\n\n\n\n",
        "comments": "",
        "x": 1639.42866897583,
        "y": 646.964334487915,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "dedcf4a6.d6ca18",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1368.0001411437988,
        "y": 647.2500095367432,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "7bffb405.6623ac"
            ]
        ]
    },
    {
        "id": "726ff5db.17542c",
        "type": "set",
        "name": "set vf-module-label",
        "xml": "<set>\n<parameter name='tmp.vf-module-label' value='`$db1.vf-module-model.vf-module-label`' />\n\n\n\n",
        "comments": "",
        "x": 1631.821434020996,
        "y": 776.6786003112793,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "d1581b7a.307818",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1860.000015258789,
        "y": 1482.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "c34d628a.5ba25",
                "c56e214a.a3f38",
                "57886653.e3ab98"
            ]
        ]
    },
    {
        "id": "c56e214a.a3f38",
        "type": "set",
        "name": "set length",
        "xml": "<set>\n\t<parameter name='`service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.vf-module-parameters.param[$highnum].resource-resolution-data.resource-key_length`' value='`$num + 1`'/>\n",
        "comments": "",
        "x": 2071.000015258789,
        "y": 1482.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "2f6f6c84.413364",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1370.7500190734863,
        "y": 606.5000076293945,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "6ec44df1.26ebd4"
            ]
        ]
    },
    {
        "id": "6ec44df1.26ebd4",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'No VF_MODEL found with customization_uuid = ' + $vf-module-topology-operation-input.vnf-information.onap-model-information.model-customization-uuid`\" />",
        "comments": "",
        "x": 1542.0000228881836,
        "y": 605.2500085830688,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "78e0a6e.6498258",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1428.25,
        "y": 736.5,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "b55099bd.544558"
            ]
        ]
    },
    {
        "id": "b55099bd.544558",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`'vf_module_label not found in VF_MODULE_MODEL WHERE customization_uuid = ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />",
        "comments": "",
        "x": 1599.5000038146973,
        "y": 735.2500009536743,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "57886653.e3ab98",
        "type": "set",
        "name": "increment length",
        "xml": "<set>\n\t<parameter name='num' value='`$num + 1`' />\n",
        "comments": "",
        "x": 2084.000015258789,
        "y": 1548.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "cf8679e9.4fafd8",
        "type": "set",
        "name": "increment length",
        "xml": "<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n",
        "comments": "",
        "x": 1277.000015258789,
        "y": 1554.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "a939f9eb.ae83b8",
        "type": "set",
        "name": "increment length",
        "xml": "<set>\n\t<parameter name='highnum' value='`$highnum + 1`' />\n",
        "comments": "",
        "x": 1624.000015258789,
        "y": 1279.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "60cb391a.7088d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1418.000015258789,
        "y": 1219.3333473205566,
        "z": "2e17456e.1fa78a",
        "wires": [
            [
                "9c282888.202138",
                "a939f9eb.ae83b8"
            ]
        ]
    },
    {
        "id": "11b406c0.22da09",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"BEFORE BlueprintProcessingClient\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 370,
        "y": 820,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "bbab380e.910a58",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"AFTER BlueprintProcessingClient\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 380.3333282470703,
        "y": 984.000018119812,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "873ccf3b.1d408",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='`$pathname`' />\n",
        "comments": "",
        "outputs": 1,
        "x": 393.25,
        "y": 1706.5000133514404,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "8e0f6b.25999098",
        "type": "set",
        "name": "set pathname",
        "xml": "<set>\n<parameter name='pathname' \n\tvalue=\"`'/var/tmp/ss-vfmodule-ra-assignment-' + \n\t$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.vf-module-id + '.log'`\" />\n",
        "comments": "",
        "x": 399.5,
        "y": 1654.0000114440918,
        "z": "2e17456e.1fa78a",
        "wires": []
    },
    {
        "id": "5989d23c.c4816c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"DONE: vfmodule-ra-assignment\"/>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 378.00000381469727,
        "y": 1605.2500190734863,
        "z": "2e17456e.1fa78a",
        "wires": [
            []
        ]
    },
    {
        "id": "f15b2532.ed6cd8",
        "type": "set",
        "name": "set updateJsonPayload",
        "xml": "<set>\n\t<parameter name=\"tmp.json-payload\" value=\"`'{' + $tmp.config-name-value-payload9 + '}'`\" />\n    <parameter name=\"`$cds + 'actionIdentifiers.blueprintName'`\" value='`$tmp.sdnc-model-name`' />\n    <parameter name=\"`$cds + 'actionIdentifiers.blueprintVersion'`\" value='`$tmp.sdnc-model-version`' />\n    <parameter name=\"`$cds + 'payload.resource-assignment-request.template-prefix[0]'`\" value='`$tmp.vf-module-label`' />\n    <parameter name=\"`$cds + 'payload.resource-assignment-request.resource-assignment-properties'`\" value='`$tmp.json-payload`' />",
        "comments": "",
        "x": 421,
        "y": 740,
        "z": "2e17456e.1fa78a",
        "wires": []
    }
]
