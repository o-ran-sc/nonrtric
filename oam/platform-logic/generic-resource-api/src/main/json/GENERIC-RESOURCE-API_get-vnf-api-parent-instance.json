[{"id":"b8bfabbe.77248","type":"for","name":"for tmp.vnfs","xml":"<for index='vnfidx' start='0' end='`$tmp.vnfdata.vnfs.vnf-list_length`' >\n\n\n","comments":"","outputs":1,"x":527.833251953125,"y":363.3333740234375,"z":"ff9767f5.010a38","wires":[["4776ee38.4ee138"]]},{"id":"bc101beb.ef5ea","type":"dgstart","name":"DGSTART","outputs":1,"x":182.5,"y":96,"z":"ff9767f5.010a38","wires":[["a51bb8c8.d3e1e8"]]},{"id":"a51bb8c8.d3e1e8","type":"service-logic","name":"GENERIC-RESOURCE-API 1.2.0-SNAPSHOT-111701","module":"GENERIC-RESOURCE-API","version":"${project.version}","comments":"","xml":"<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='${project.version}'>","outputs":1,"x":333.7380790710449,"y":163.95239067077637,"z":"ff9767f5.010a38","wires":[["bc6b4b85.047838"]]},{"id":"bc6b4b85.047838","type":"method","name":"get-vnf-api-parent-instance","xml":"<method rpc='get-vnf-api-parent-instance' mode='sync'>\n","comments":"","outputs":1,"x":387.65484619140625,"y":223.19044494628906,"z":"ff9767f5.010a38","wires":[["3935ebce.d82b5c"]]},{"id":"3935ebce.d82b5c","type":"block","name":"block : atomic","xml":"<block atomic=\"true\">","atomic":"true","comments":"","outputs":1,"x":287.97619247436523,"y":342.5237879753113,"z":"ff9767f5.010a38","wires":[["425453de.b10ae4","b8bfabbe.77248"]]},{"id":"425453de.b10ae4","type":"get-resource","name":"get-resource vnf-api vnfs","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='vnfs' pfx='tmp.vnfdata' >\n","comments":"","outputs":1,"x":575.8333129882812,"y":301,"z":"ff9767f5.010a38","wires":[[]]},{"id":"204813dd.64581c","type":"switchNode","name":"switch parent-service-instance-id matches","xml":"<switch test='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].service-data.service-information.service-instance-id == $tmp.search.parent-service-instance-id`'>\n\n\n","comments":"","outputs":1,"x":864.8333129882812,"y":448.66668701171875,"z":"ff9767f5.010a38","wires":[["bd5f161e.f84a8"]]},{"id":"ec84cb14.e8d89","type":"get-resource","name":"get-resource parent service instance","xml":"<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.mdsal.ConfigResource' resource='VNF-API' key='vnfs/vnf-list/$tmp.vnfdata.vnfs.vnf-list[$vnfidx].vnf-id/service-data/' pfx='parent-service-instance' >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t","comments":"","outputs":1,"x":1374.166648864746,"y":616.6666851043701,"z":"ff9767f5.010a38","wires":[["be638d5d.95cb48"]]},{"id":"be638d5d.95cb48","type":"failure","name":"failure","xml":"<outcome value='failure'>\n","comments":"","outputs":1,"x":1599.4999980926514,"y":616.333366394043,"z":"ff9767f5.010a38","wires":[["4aba0b85.648554"]]},{"id":"bd5f161e.f84a8","type":"success","name":"true","xml":"<outcome value='true'>\n","comments":"","outputs":1,"x":1111.833351135254,"y":532.6666946411133,"z":"ff9767f5.010a38","wires":[["ceced407.7170f8"]]},{"id":"ceced407.7170f8","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":1144.833396911621,"y":619.6667003631592,"z":"ff9767f5.010a38","wires":[["e54aa0de.05e748","ec84cb14.e8d89","ff23046.a29a578","383fa1b1.09842e"]]},{"id":"e54aa0de.05e748","type":"set","name":"set  tmp.old-service-data.vnf-id","xml":"<set>\n<parameter name='tmp.old-service-data.vnf-id' value='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].vnf-id`' />\n","comments":"","x":1359.8333740234375,"y":512.0000305175781,"z":"ff9767f5.010a38","wires":[]},{"id":"4aba0b85.648554","type":"returnFailure","name":"return failure - parent service instance not found","xml":"<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" \n    value=\"`'No entry found for parent service instance id ' + $tmp.ar.parent-service-instance-id + '.'`\" />\n","comments":"","x":1868.4999694824219,"y":608.6666564941406,"z":"ff9767f5.010a38","wires":[]},{"id":"6ff4efde.253f28","type":"returnFailure","name":"return failure","xml":"<return status='failure'>\n<parameter name='error-code' value='' />\n<parameter name='error-message' value='' />\n","comments":"","x":1356,"y":460,"z":"ff9767f5.010a38","wires":[]},{"id":"46071db9.aff5dc","type":"execute","name":"execute printContext","xml":"<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/get-vnf-parent.log' />\n\n","comments":"","outputs":1,"x":1336,"y":694,"z":"ff9767f5.010a38","wires":[[]]},{"id":"4776ee38.4ee138","type":"block","name":"block","xml":"<block>\n","atomic":"false","comments":"","outputs":1,"x":632,"y":411,"z":"ff9767f5.010a38","wires":[["204813dd.64581c","3e55274e.58fc2"]]},{"id":"ff23046.a29a578","type":"set","name":"set debug","xml":"<set>\n<parameter name='tmp.debug.service-instance.id1' value='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].service-data.service-information.service-instance-id`' />\n<parameter name='tmp.debug.service-instance.id2' value='`$tmp.search.parent-service-instance-id`' />\n<parameter name='tmp.debug.service-instance.id3.vnf-id' value='`$tmp.vnfdata.vnfs.vnf-list[$vnfidx].vnf-id`' />\n\n\n\n","comments":"","x":1315,"y":411,"z":"ff9767f5.010a38","wires":[]},{"id":"3e55274e.58fc2","type":"set","name":"set tmp.search.parent-service-instance-id","xml":"<set>\n<parameter name='tmp.debug.tmp.search.parent-service-instance-id' value='`$tmp.search.parent-service-instance-id`' />\n","comments":"","x":860,"y":390,"z":"ff9767f5.010a38","wires":[]},{"id":"383fa1b1.09842e","type":"break","name":"break","xml":"<break>","comments":"","x":1299,"y":769,"z":"ff9767f5.010a38","wires":[]}]
