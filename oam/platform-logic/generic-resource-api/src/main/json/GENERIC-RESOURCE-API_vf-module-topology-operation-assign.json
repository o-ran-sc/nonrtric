[
    {
        "id": "b9191fa3.7ca61",
        "type": "dgstart",
        "name": "DGSTART",
        "outputs": 1,
        "x": 137.51302337646484,
        "y": 56.26301097869873,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dd8ef904.2a0718"
            ]
        ]
    },
    {
        "id": "dd8ef904.2a0718",
        "type": "service-logic",
        "name": "GENERIC-RESOURCE-API ${project.version}",
        "module": "GENERIC-RESOURCE-API",
        "version": "${project.version}",
        "comments": "",
        "xml": "<service-logic xmlns='http://www.onap.org/sdnc/svclogic' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xsi:schemaLocation='http://www.onap.org/sdnc/svclogic ./svclogic.xsd' module='GENERIC-RESOURCE-API' version='1-4-2-20181108R1'>",
        "outputs": 1,
        "x": 251.37015914916992,
        "y": 96.07254886627197,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "79e996c5.93c4a8"
            ]
        ]
    },
    {
        "id": "79e996c5.93c4a8",
        "type": "method",
        "name": "method vf-module-topology-operation-assign",
        "xml": "<method rpc='vf-module-topology-operation-assign' mode='sync'>\n",
        "comments": "",
        "outputs": 1,
        "x": 250.941650390625,
        "y": 136.26301097869873,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fb67aa4b.8284f8"
            ]
        ]
    },
    {
        "id": "f89d4b47.20f5c8",
        "type": "comment",
        "name": "vf-module-topology-operation-assign",
        "info": "",
        "comments": "",
        "x": 561.584114074707,
        "y": 31.738715171813965,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "5d7e2c45.4ebe34",
        "type": "switchNode",
        "name": "switch request-action",
        "xml": "<switch test='`$vf-module-topology-operation-input.request-information.request-action`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 542.7035446166992,
        "y": 409.28680896759033,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d3c6b720.c14d58",
                "9bb35c39.b1fef"
            ]
        ]
    },
    {
        "id": "d3c6b720.c14d58",
        "type": "outcome",
        "name": "CreateVfModuleInstance",
        "xml": "<outcome value='CreateVfModuleInstance'>\n",
        "comments": "",
        "outputs": 1,
        "x": 813.5011825561523,
        "y": 377.67968463897705,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a73a78b9.a830b8"
            ]
        ]
    },
    {
        "id": "9bb35c39.b1fef",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 748.4178047180176,
        "y": 441.8106880187988,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3e5eb577.046eda"
            ]
        ]
    },
    {
        "id": "a73a78b9.a830b8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1003.3583469390869,
        "y": 377.6797161102295,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "48e25fc2.52f7",
        "type": "get-resource",
        "name": "get-resource VF_MODULE_MODEL",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VF_MODULE_MODEL WHERE customization_uuid = $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid'\n  pfx='db.vf-module-model'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 590.0368118286133,
        "y": 510.429762840271,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c0e16531.bf13d8",
                "3ed7b745.5102d8"
            ]
        ]
    },
    {
        "id": "c0e16531.bf13d8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 855.8225021362305,
        "y": 490.8105936050415,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2172bacb.fd1c86"
            ]
        ]
    },
    {
        "id": "3ed7b745.5102d8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 864.3939323425293,
        "y": 535.0963068008423,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c639de59.ae251"
            ]
        ]
    },
    {
        "id": "9d5245b6.abb4e8",
        "type": "switchNode",
        "name": "switch service-data.vnfs.vnf_length",
        "xml": "<switch test='`$service-data.vnfs.vnf_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 583.8820648193359,
        "y": 687.7511224746704,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "128f7183.82d7ae",
                "6a25eddf.15bb44"
            ]
        ]
    },
    {
        "id": "128f7183.82d7ae",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 824.5963363647461,
        "y": 663.8938627243042,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dbfaf511.5478b8"
            ]
        ]
    },
    {
        "id": "6a25eddf.15bb44",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 824.3581771850586,
        "y": 705.846381187439,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7ef59497.ea72ec"
            ]
        ]
    },
    {
        "id": "94a28d82.4f01d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 182.45345306396484,
        "y": 3125.668021798134,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1c68463e.c02a4a",
                "135adbdd.c9ef24",
                "86ef2c44.55f05",
                "e4caf1eb.a8b9f",
                "7c9996aa.a5c0f8",
                "e1558384.bfa8e",
                "b08a4dbf.cf985",
                "f888462e.a53c78",
                "7293e3b2.a19a7c",
                "2a3992a0.134e1e",
                "2162f1f4.5f96fe",
                "ff74ebeb.c5ffd8",
                "489025cd.dbd3ac",
                "59bf9724.469638",
                "474227b8.b83ae8",
                "1d003263.e8205e",
                "75a8181a.0cae18",
                "35a859e5.3e7c46",
                "24109bc2.4c9eb4",
                "c7aef34d.6997b",
                "7ffbcb4d.5fb274",
                "779079fc.7d1618",
                "494a4418.4600ec",
                "88b43b76.6a75d8",
                "bb67c127.33c7c",
                "67fa2696.640ed8",
                "fcaf9b9.f1d4568",
                "9926c7ad.248aa8",
                "7b6a70b.67d389",
                "d9542f83.7d0bb",
                "e283e90a.9eb6c8",
                "5d70e5cf.fff80c",
                "f60c437.45996c",
                "fc541e57.efb67",
                "b631b958.11eb48",
                "e5d7fa3.8c00708",
                "62da7e05.4b2de"
            ]
        ]
    },
    {
        "id": "7ef59497.ea72ec",
        "type": "for",
        "name": "for each vnf",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 986.596321105957,
        "y": 705.5129995346069,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "988df689.061cb8"
            ]
        ]
    },
    {
        "id": "988df689.061cb8",
        "type": "switchNode",
        "name": "switch service data vnf == input vnf",
        "xml": "<switch test='`$service-data.vnfs.vnf[$idx].vnf-id == $vf-module-topology-operation-input.vnf-information.vnf-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1237.9296188354492,
        "y": 705.1797275543213,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c657ad4a.55c47"
            ]
        ]
    },
    {
        "id": "c657ad4a.55c47",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1467.929630279541,
        "y": 704.5130405426025,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ae39954d.b28168"
            ]
        ]
    },
    {
        "id": "9974cb16.902fe8",
        "type": "set",
        "name": "set vnf-index to -1",
        "xml": "<set>\n<parameter name='vnf-index' value='-1' />\n",
        "comments": "",
        "x": 532.9296875,
        "y": 619.1796216964722,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "57723ef9.ea31c",
        "type": "set",
        "name": "set vnf-index to idx",
        "xml": "<set>\n<parameter name='vnf-index' value='`$idx`' />\n",
        "comments": "",
        "x": 1789.5962677001953,
        "y": 675.5129985809326,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "540a131f.3d7bec",
        "type": "switchNode",
        "name": "switch vnf-index",
        "xml": "<switch test='`$vnf-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 521.6797103881836,
        "y": 771.3463115692139,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ca6ccba1.61a798"
            ]
        ]
    },
    {
        "id": "ca6ccba1.61a798",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 700.0130958557129,
        "y": 770.6796875,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "792ace51.b15ed"
            ]
        ]
    },
    {
        "id": "1c68463e.c02a4a",
        "type": "switchNode",
        "name": "switch vf-module_length",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 559.5964088439941,
        "y": 1342.0965156555176,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7203a6bd.008058",
                "1ce0b519.1ca75b"
            ]
        ]
    },
    {
        "id": "7203a6bd.008058",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 816.9773635864258,
        "y": 1309.2392892837524,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1d2df677.49743a"
            ]
        ]
    },
    {
        "id": "1d2df677.49743a",
        "type": "set",
        "name": "set vf-module-index=0",
        "xml": "<set>\n<parameter name='vf-module-index' value='0' />\n",
        "comments": "",
        "x": 1004.5964012145996,
        "y": 1309.9060640335083,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "1ce0b519.1ca75b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 817.4059066772461,
        "y": 1373.5251474380493,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7b5c967b.5645e8"
            ]
        ]
    },
    {
        "id": "3d0e8775.38d2b8",
        "type": "set",
        "name": "set vf-module-index = vf-module_length",
        "xml": "<set>\n<parameter name='vf-module-index' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' />\n",
        "comments": "",
        "x": 1202.5964469909668,
        "y": 1353.715542793274,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f4745546.3c76c8",
        "type": "for",
        "name": "for each existing VF module",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1161.6915397644043,
        "y": 1397.810772895813,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "38be826c.5042de"
            ]
        ]
    },
    {
        "id": "7b5c967b.5645e8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 954.1201858520508,
        "y": 1373.5250730514526,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3d0e8775.38d2b8",
                "f4745546.3c76c8"
            ]
        ]
    },
    {
        "id": "38be826c.5042de",
        "type": "switchNode",
        "name": "switch vf-module-information.vf-module-id == service-data.vnfs.vnf[].vf-modules.vf-module[].vf-module-id",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.vf-module-id == $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1665.3106422424316,
        "y": 1397.3821840286255,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5b65413c.247c9"
            ]
        ]
    },
    {
        "id": "5b65413c.247c9",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2107.9296913146973,
        "y": 1396.9536352157593,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cdf91b0.174e5e8"
            ]
        ]
    },
    {
        "id": "2eae9b0c.edb3d4",
        "type": "comment",
        "name": "make sure this VF module doesn't exist already",
        "info": "",
        "comments": "",
        "x": 1691.7629890441895,
        "y": 1352.0096759796143,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "135adbdd.c9ef24",
        "type": "set",
        "name": "set new vf-module_length",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module_length' value='`$vf-module-index + 1`' />\n",
        "comments": "",
        "x": 570.2629890441895,
        "y": 1453.0963706970215,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "86ef2c44.55f05",
        "type": "set",
        "name": "set vf-module-topology data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-id' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name' value='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`' />\n<parameter name='tmp.vf-module-topology.vf-module-topology-identifier.vf-module-type' value='`$vf-module-topology-operation-input.vf-module-information.vf-module-type`' />\n<parameter name='tmp.vf-module-topology.tenant' value='`$vf-module-topology-operation-input.vf-module-request-input.tenant`' />\n<parameter name='tmp.vf-module-topology.aic-cloud-region' value='`$vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`' />\n",
        "comments": "",
        "x": 576.7630081176758,
        "y": 1565.596477508545,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "77cfe613.fc65c8",
        "type": "set",
        "name": "set aic-clli",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli'\n   value='`$aai-uid-split[$aai-uid-split_length - 1]`' />\n",
        "comments": "",
        "x": 1337.7152671813965,
        "y": 1724.8344039916992,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "e4caf1eb.a8b9f",
        "type": "switchNode",
        "name": "switch aic-clli",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.aic-clli`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 536.7629280090332,
        "y": 1838.7867441177368,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "81ee85e4.dedbf8"
            ]
        ]
    },
    {
        "id": "81ee85e4.dedbf8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 682.0486183166504,
        "y": 1838.7868127822876,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ec2aeced.650af"
            ]
        ]
    },
    {
        "id": "7c9996aa.a5c0f8",
        "type": "get-resource",
        "name": "get-resource cloud region",
        "xml": "<get-resource plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\t\tresource=\"cloud-region\" \n\t\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner AND \n\t\t     cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\"\n        pfx='aai.cloud-region' local-only='false' >\n\n",
        "comments": "",
        "outputs": 1,
        "x": 575.6201438903809,
        "y": 1638.9300155639648,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6f3a4d5a.8ebfd4",
                "9660a46b.1c9ce8"
            ]
        ]
    },
    {
        "id": "9660a46b.1c9ce8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 789.8663368225098,
        "y": 1657.0808715820312,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7adbe623.7575f8"
            ]
        ]
    },
    {
        "id": "6f3a4d5a.8ebfd4",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 798.7949333190918,
        "y": 1614.3666048049927,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "799eaa32.6fe824"
            ]
        ]
    },
    {
        "id": "ae39954d.b28168",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1616.2630920410156,
        "y": 703.4327392578125,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "57723ef9.ea31c",
                "c07cd07d.0c75a"
            ]
        ]
    },
    {
        "id": "c07cd07d.0c75a",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1751.2630577087402,
        "y": 725.0993251800537,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "952256ff.21f9a8",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$db.vf-module-model.invariant-uuid`' />\n",
        "comments": "",
        "x": 951.0962677001953,
        "y": 1880.1827373504639,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "e1558384.bfa8e",
        "type": "switchNode",
        "name": "switch input model-invariant-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 594.9533424377441,
        "y": 1903.0071811676025,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cd2324fc.034808",
                "38df22f.16dd4de"
            ]
        ]
    },
    {
        "id": "cd2324fc.034808",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 800.6200141906738,
        "y": 1880.1501445770264,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "952256ff.21f9a8"
            ]
        ]
    },
    {
        "id": "38df22f.16dd4de",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 802.0486106872559,
        "y": 1924.4357357025146,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cb5b92dd.63cc2"
            ]
        ]
    },
    {
        "id": "cb5b92dd.63cc2",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-invariant-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-invariant-uuid`' />\n",
        "comments": "",
        "x": 956.3343467712402,
        "y": 1923.8643078804016,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "9d20a066.9a052",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$db.vf-module-model.uuid`' />\n",
        "comments": "",
        "x": 952.0485382080078,
        "y": 1968.7214136123657,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "b08a4dbf.cf985",
        "type": "switchNode",
        "name": "switch input model-uuid",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 567.5723609924316,
        "y": 1991.5459184646606,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c7ed7b53.7dd0f8",
                "778bc2b7.d82bbc"
            ]
        ]
    },
    {
        "id": "c7ed7b53.7dd0f8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 801.5723342895508,
        "y": 1968.688850402832,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9d20a066.9a052"
            ]
        ]
    },
    {
        "id": "778bc2b7.d82bbc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 803.0009307861328,
        "y": 2012.9744415283203,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f7d52f4a.cdff6"
            ]
        ]
    },
    {
        "id": "f7d52f4a.cdff6",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-uuid`' />\n",
        "comments": "",
        "x": 957.2866668701172,
        "y": 2012.4030137062073,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "dac6c331.68c42",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$db.vf-module-model.version`' />\n",
        "comments": "",
        "x": 949.1914710998535,
        "y": 2057.5786209106445,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f888462e.a53c78",
        "type": "switchNode",
        "name": "switch input model-version",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 575.7152328491211,
        "y": 2080.4030656814575,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9c31df03.57fb6",
                "9f5a3e1a.3ae01"
            ]
        ]
    },
    {
        "id": "9c31df03.57fb6",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 798.715217590332,
        "y": 2057.546028137207,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dac6c331.68c42"
            ]
        ]
    },
    {
        "id": "9f5a3e1a.3ae01",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 800.1438140869141,
        "y": 2101.8316192626953,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "886a096e.cd9ed8"
            ]
        ]
    },
    {
        "id": "886a096e.cd9ed8",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-version'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-version`' />\n",
        "comments": "",
        "x": 954.4295501708984,
        "y": 2101.2601914405823,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f162ec13.2ea9e",
        "type": "set",
        "name": "set from DB",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$db.vf-module-model.name`' />\n",
        "comments": "",
        "x": 949.1914710998535,
        "y": 2144.7214431762695,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "7293e3b2.a19a7c",
        "type": "switchNode",
        "name": "switch input model-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 570.7152328491211,
        "y": 2167.5458879470825,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fec48afa.f578f8",
                "84aba209.b7386"
            ]
        ]
    },
    {
        "id": "fec48afa.f578f8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 798.715217590332,
        "y": 2144.688850402832,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f162ec13.2ea9e"
            ]
        ]
    },
    {
        "id": "84aba209.b7386",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 800.1438140869141,
        "y": 2188.9744415283203,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fef7c2e3.5fc15"
            ]
        ]
    },
    {
        "id": "fef7c2e3.5fc15",
        "type": "set",
        "name": "set from input",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-name'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-name`' />\n",
        "comments": "",
        "x": 954.4295501708984,
        "y": 2188.4030137062073,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "2a3992a0.134e1e",
        "type": "set",
        "name": "set model-customization-uuid",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.onap-model-information.model-customization-uuid'\n  value='`$vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`' />\n",
        "comments": "",
        "x": 585.1675682067871,
        "y": 2240.054877281189,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "2162f1f4.5f96fe",
        "type": "set",
        "name": "set vf-module-id",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id'\n   value='`$vf-module-topology-operation-input.vf-module-information.vf-module-id`' />\n",
        "comments": "",
        "x": 538.3582153320312,
        "y": 1508.7780532836914,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "ff74ebeb.c5ffd8",
        "type": "for",
        "name": "for each cloud-region relationship",
        "xml": "<for index='idx' start='0' end='`$aai.cloud-region.relationship-list.relationship_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 597.8739585876465,
        "y": 1727.4366989135742,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6dfb70e4.99bce"
            ]
        ]
    },
    {
        "id": "6dfb70e4.99bce",
        "type": "switchNode",
        "name": "switch related-to",
        "xml": "<switch test='`$aai.cloud-region.relationship-list.relationship[$idx].related-to`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 845.5525016784668,
        "y": 1727.1866283416748,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8d3e1649.827698"
            ]
        ]
    },
    {
        "id": "8d3e1649.827698",
        "type": "outcome",
        "name": "complex",
        "xml": "<outcome value='complex'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1015.0168228149414,
        "y": 1726.5794506072998,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "89cc33ca.87336"
            ]
        ]
    },
    {
        "id": "f7308857.ab0638",
        "type": "execute",
        "name": "split related-link",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='split'>\n   <parameter name='ctx_memory_result_key' value='aai-uid-split' />\n   <parameter name='original_string' value='`$aai.cloud-region.relationship-list.relationship[$idx].related-link`' />\n   <parameter name='regex' value='/' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1355.1119804382324,
        "y": 1681.0080261230469,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "89cc33ca.87336",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1174.7786827087402,
        "y": 1727.6748142242432,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f7308857.ab0638",
                "f22bbebf.cf96a",
                "77cfe613.fc65c8"
            ]
        ]
    },
    {
        "id": "f22bbebf.cf96a",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 1324.7786445617676,
        "y": 1771.008111000061,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f4d050b1.8b4c3",
        "type": "execute",
        "name": "execute PropertiesNode",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.prop.PropertiesNode' method='readProperties' >\n    <parameter name='fileName' value='%SDNC_CONFIG_DIR%/generic-resource-api-dg.properties' />\n    <parameter name='contextPrefix' value='prop' />\n",
        "comments": "",
        "outputs": 1,
        "x": 556.5606460571289,
        "y": 165.7868185043335,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "24109bc2.4c9eb4",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.request-action`' />\n",
        "comments": "",
        "x": 483.0253143310547,
        "y": 7336.643301963806,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "c7aef34d.6997b",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 426.5251693725586,
        "y": 8101.690653324127,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "35a859e5.3e7c46",
        "type": "set",
        "name": "copy input data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.sdnc-request-header.'\n   value='$vf-module-topology-operation-input.sdnc-request-header.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.request-information.'\n   value='$vf-module-topology-operation-input.request-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.service-information.'\n   value='$vf-module-topology-operation-input.service-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vnf-information.'\n   value='$vf-module-topology-operation-input.vnf-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.'\n   value='$vf-module-topology-operation-input.vf-module-information.' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-request-input.'\n   value='$vf-module-topology-operation-input.vf-module-request-input.' />\n\n",
        "comments": "",
        "x": 415.1322555541992,
        "y": 7192.992034912109,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "75a8181a.0cae18",
        "type": "set",
        "name": "copy vf-module-topology data",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-topology.' value='tmp.vf-module-topology.' />\n",
        "comments": "",
        "x": 470.0132751464844,
        "y": 7139.776969909668,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "59bf9724.469638",
        "type": "save",
        "name": "update vf-module",
        "xml": "<update plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n<parameter name=\"vf-module-name\" value=\"`$tmp.vf-module-topology.vf-module-topology-identifier.vf-module-name`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.onap-model-information.model-customization-uuid`\" />\n<parameter name=\"selflink\" value=\"`$vf-module-object-path`\" />\n<parameter name=\"automated-assignment\" value=\"`$automated-assignment`\" />",
        "comments": "",
        "outputs": 1,
        "x": 500.4059944152832,
        "y": 4346.778634667397,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d74196bc.6b97c8",
                "6e6f18d0.9bdfe8"
            ]
        ]
    },
    {
        "id": "d74196bc.6b97c8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 675.4776344299316,
        "y": 4315.159256577492,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7f9d44fc.3db7bc"
            ]
        ]
    },
    {
        "id": "6e6f18d0.9bdfe8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 684.0490074157715,
        "y": 4383.778346598148,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "94bb0c2d.81fb6"
            ]
        ]
    },
    {
        "id": "489025cd.dbd3ac",
        "type": "set",
        "name": "set vf-module-object-path",
        "xml": "<set>\n<parameter name='vf-module-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vf-modules/vf-module/'\n + $vf-module-topology-operation-input.vf-module-information.vf-module-id\n + '/vf-module-data/vf-module-topology/'`\"/>\n<parameter name='vnf-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/vnfs/vnf/'\n + $service-data.vnfs.vnf[$vnf-index].vnf-id\n + '/vnf-data/vnf-topology/'`\"/>\n<parameter name='service-object-path'\n value=\"`'restconf/config/GENERIC-RESOURCE-API:services/service/'\n + $vf-module-topology-operation-input.service-information.service-instance-id\n + '/service-data/service-topology/'`\"/>\n",
        "comments": "",
        "x": 524.0728034973145,
        "y": 4222.302863717079,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "fb74751e.022f18",
        "type": "save",
        "name": "save vf-module relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vf-module:relationship-list\"\n   key=\"vf-module.vf-module-id = $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id\n      AND generic-vnf.vnf-id = $service-data.vnfs.vnf[$vnf-index].vnf-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1294.096549987793,
        "y": 5904.931029081345,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6418f89e.efde28",
                "3c5f7fe1.c5c95"
            ]
        ]
    },
    {
        "id": "6418f89e.efde28",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1513.9298934936523,
        "y": 5875.802773237228,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b4477865.f6c3d8"
            ]
        ]
    },
    {
        "id": "3c5f7fe1.c5c95",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1522.5014266967773,
        "y": 5928.421917676926,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a8844fc9.d802f"
            ]
        ]
    },
    {
        "id": "474227b8.b83ae8",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 473.7632751464844,
        "y": 5670.264581918716,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3890cbf7.238894"
            ]
        ]
    },
    {
        "id": "28b6a2fd.61312e",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 870.7632865905762,
        "y": 6088.93141412735,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4bd4ba04.8daa14"
            ]
        ]
    },
    {
        "id": "1d003263.e8205e",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 419.4418182373047,
        "y": 7034.810600280762,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c9fac662.7812b8"
            ]
        ]
    },
    {
        "id": "c9fac662.7812b8",
        "type": "for",
        "name": "for each vm",
        "xml": "<for index='vm-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-count`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 614.4418487548828,
        "y": 7034.143608093262,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "207acffa.3abd1"
            ]
        ]
    },
    {
        "id": "138fc2c6.5fd4fd",
        "type": "save",
        "name": "save VIPR_CONFIGURATION",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource\" resource=\"SQL\"\nkey=\"INSERT INTO VIPR_CONFIGURATION (vnf_id, vnf_name, ecomp_service_instance_id, vm_name, cloud_region_id, cloud_owner) VALUES ( $service-data.vnfs.vnf[$vnf-index].vnf-id , $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-topology-identifier-structure.vnf-name , $service-data.service-information.service-instance-id , $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index] , $tmp.vf-module-topology.aic-cloud-region , $prop.cloud-region.cloud-owner )\" >",
        "comments": "",
        "outputs": 1,
        "x": 1034.858543395996,
        "y": 7059.311295449734,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ad9e155d.1028f8"
            ]
        ]
    },
    {
        "id": "71743690.584d78",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1554.8584442138672,
        "y": 7059.311300218105,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "ad9e155d.1028f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1244.858528137207,
        "y": 7059.311445176601,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2b130462.23f28c"
            ]
        ]
    },
    {
        "id": "2b130462.23f28c",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1388.1919708251953,
        "y": 7059.311283051968,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "da21eac5.eb6e48",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1418.1920928955078,
        "y": 7010.64299672842,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4475a7ad.750578"
            ]
        ]
    },
    {
        "id": "248ddcf1.40e1a4",
        "type": "comment",
        "name": "Not a failure",
        "info": "",
        "comments": "",
        "x": 1741.525146484375,
        "y": 7008.9768189787865,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "4475a7ad.750578",
        "type": "record",
        "name": "record",
        "xml": "<record plugin=\"org.onap.ccsdk.sli.core.sli.recording.Slf4jRecorder\">\n<parameter name=\"logger\" value=\"message-log\"/>\n<parameter name=\"field1\" value=\"__TIMESTAMP__\"/>\n<parameter name=\"field2\" value=\"GENERIC-RESOURCE-API.vf-module-topology-operation-assign:REQID\"/>\n<parameter name=\"field3\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\"/>\n<parameter name=\"field4\" value=\"Failed to insert VIPR_CONFIGURATION record\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 1564.1920280456543,
        "y": 7010.643629968166,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "207acffa.3abd1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 782.7752418518066,
        "y": 7033.143452644348,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "23b5f46a.84a14c",
                "138fc2c6.5fd4fd"
            ]
        ]
    },
    {
        "id": "23b5f46a.84a14c",
        "type": "delete",
        "name": "delete any pre-existing records in VIPR_CONFIGURATION",
        "xml": "<delete plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='DELETE from VIPR_CONFIGURATION WHERE vnf_id = $service-data.vnfs.vnf[$vnf-index].vnf-id\n     AND ecomp_service_instance_id = $service-data.service-information.service-instance-id\n     AND vm_name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vm-name[$vm-index]' >",
        "comments": "",
        "outputs": 1,
        "x": 1124.8585586547852,
        "y": 7010.977629601955,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "da21eac5.eb6e48"
            ]
        ]
    },
    {
        "id": "7f9d44fc.3db7bc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 833.7632026672363,
        "y": 4314.9299274683,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "18d43b0c.816ff5",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "94bb0c2d.81fb6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 834.7631187438965,
        "y": 4381.596217691898,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d3b91e2a.6658a"
            ]
        ]
    },
    {
        "id": "b4477865.f6c3d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1682.4298973083496,
        "y": 5875.597042798996,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a1d9fe5d.0f695",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "a8844fc9.d802f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1677.4298973083496,
        "y": 5928.596885442734,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "e64793d7.bf627",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "755e8713.bcc1c8",
        "type": "execute",
        "name": "execute RestApiCallNode - get preload-list",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $prop.restapi.preloadinformation + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name + '/vf-module'`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='GET' />\n    <parameter name=\"responsePrefix\" value=\"mdsal-preload\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1043.3463745117188,
        "y": 2452.429780960083,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "68e62acd.729e34",
                "a47c9360.b9478"
            ]
        ]
    },
    {
        "id": "68e62acd.729e34",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1311.6796073913574,
        "y": 2410.763111114502,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7b583f75.7c5be"
            ]
        ]
    },
    {
        "id": "a47c9360.b9478",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1310.0129623413086,
        "y": 2485.7632598876953,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "acc728a8.eedfa8"
            ]
        ]
    },
    {
        "id": "7b583f75.7c5be",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1468.346363067627,
        "y": 2409.0965490341187,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cec2f13d.67a37"
            ]
        ]
    },
    {
        "id": "acc728a8.eedfa8",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 1465.0129699707031,
        "y": 2485.763101577759,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3983f41d.db452c"
            ]
        ]
    },
    {
        "id": "cec2f13d.67a37",
        "type": "switchNode",
        "name": "switch mdsal-preload.response-code",
        "xml": "<switch test='`$mdsal-preload.response-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1696.6796646118164,
        "y": 2409.0965900421143,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "e8950979.22bb18",
                "b6c25b1e.892808"
            ]
        ]
    },
    {
        "id": "e8950979.22bb18",
        "type": "outcome",
        "name": "404 (not found)",
        "xml": "<outcome value='404'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1979.5963668823242,
        "y": 2363.6796340942383,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1c4c53fe.44b0dc"
            ]
        ]
    },
    {
        "id": "1c4c53fe.44b0dc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-no-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-no-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2382.512939453125,
        "y": 2277.013102531433,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cc34b72d.383738"
            ]
        ]
    },
    {
        "id": "cc34b72d.383738",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2771.2629013061523,
        "y": 2277.846981048584,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c1b24090.d49b8"
            ]
        ]
    },
    {
        "id": "b6c25b1e.892808",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1945.8463287353516,
        "y": 2427.8464183807373,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d759206d.14388"
            ]
        ]
    },
    {
        "id": "3983f41d.db452c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-operation-assign-preload",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-operation-assign-preload' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1828.3462600708008,
        "y": 2487.429849624634,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "90d09a92.2d1cc8"
            ]
        ]
    },
    {
        "id": "90d09a92.2d1cc8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2184.0131225585938,
        "y": 2485.7634677886963,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "76721fa9.6f7a7"
            ]
        ]
    },
    {
        "id": "3890cbf7.238894",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 664.2633438110352,
        "y": 5671.097816705704,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "28b6a2fd.61312e",
                "eeca3ef7.08f31"
            ]
        ]
    },
    {
        "id": "eeca3ef7.08f31",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 915.2633934020996,
        "y": 4875.763907909393,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "59778d60.c86b24"
            ]
        ]
    },
    {
        "id": "9b23e63c.8ba5d8",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"model-invariant-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`\" />\n<parameter name=\"model-version-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].uuid`\" />\n<parameter name=\"model-customization-id\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1641.2634620666504,
        "y": 4684.097838401794,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8c17d99f.3ce5f8",
                "b50cee13.b9a08"
            ]
        ]
    },
    {
        "id": "59778d60.c86b24",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1083.596694946289,
        "y": 4876.430735111237,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2ee1ddb7.3ce5a2",
                "63a7631.9e7f99c",
                "e77ee371.ca79f",
                "a45139cd.c06788",
                "d5639dcc.50d87",
                "3291e6ae.85f8ba"
            ]
        ]
    },
    {
        "id": "8c17d99f.3ce5f8",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1832.263500213623,
        "y": 4636.431172370911,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fc84df82.5bc09"
            ]
        ]
    },
    {
        "id": "fc84df82.5bc09",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1997.4301872253418,
        "y": 4650.5590056777,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "30bee8c0.434ad8",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "e77ee371.ca79f",
        "type": "save",
        "name": "save vnfc relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vnfc:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"generic-vnf\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vf-module\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/generic-vnfs/generic-vnf/' +\n        $vf-module-topology-operation-input.vnf-information.vnf-id +\n        '/vf-modules/vf-module/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1308.1679801940918,
        "y": 4784.717070102692,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b41f1fa4.6a16e",
                "c5bf9d82.77072"
            ]
        ]
    },
    {
        "id": "36f8149b.0100dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1640.0011711120605,
        "y": 4758.034694194794,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "17b97fa6.0b332",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "138ca4b2.cb534b",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1640.0012474060059,
        "y": 4811.034452915192,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "43b53fc.f18d2c",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "b41f1fa4.6a16e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1483.168056488037,
        "y": 4758.050364017487,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "36f8149b.0100dc"
            ]
        ]
    },
    {
        "id": "c5bf9d82.77072",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1491.739589691162,
        "y": 4810.669508457184,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "138ca4b2.cb534b"
            ]
        ]
    },
    {
        "id": "2ee1ddb7.3ce5a2",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1305.644100189209,
        "y": 5201.573478221893,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "52bb6b86.aae8d4"
            ]
        ]
    },
    {
        "id": "7ffbcb4d.5fb274",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleb.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 526.2630043029785,
        "y": 2509.4773001670837,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "3ff39820.94ba88",
        "type": "for",
        "name": "for each vnfc-subnetwork-role",
        "xml": "<for silentFailure='true' index='subnet-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1761.59663772583,
        "y": 5164.763911724091,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "bae62f0f.f599"
            ]
        ]
    },
    {
        "id": "bae62f0f.f599",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for silentFailure='true' index='address-family-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2028.9299812316895,
        "y": 5163.764400005341,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "83b71d8.34202e"
            ]
        ]
    },
    {
        "id": "9893ef44.5c929",
        "type": "for",
        "name": "for each vnfc-ip-address",
        "xml": "<for silentFailure='true' index='address-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2460.9295921325684,
        "y": 5230.430099487305,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4955053a.cc8cec"
            ]
        ]
    },
    {
        "id": "83b71d8.34202e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2239.9297523498535,
        "y": 5163.76385641098,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "bd1ac39a.c86f3",
                "9893ef44.5c929"
            ]
        ]
    },
    {
        "id": "bd1ac39a.c86f3",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2459.9300804138184,
        "y": 5083.763753890991,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "4955053a.cc8cec",
        "type": "switchNode",
        "name": "switch address family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2699.9296836853027,
        "y": 5228.763921737671,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "df6d826a.602a2",
                "b4544053.188e9"
            ]
        ]
    },
    {
        "id": "df6d826a.602a2",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2897.0726890563965,
        "y": 5132.335182189941,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "78841d68.5129e4"
            ]
        ]
    },
    {
        "id": "b4544053.188e9",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2894.6917610168457,
        "y": 5312.097213745117,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "133e1aca.140a05"
            ]
        ]
    },
    {
        "id": "82d4dce2.8069",
        "type": "comment",
        "name": "Fixed IPs",
        "info": "",
        "comments": "",
        "x": 1778.5966529846191,
        "y": 5126.431288719177,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "ae224e40.c6874",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv4-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3340.405818939209,
        "y": 5080.668262163799,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "929637d6.457068"
            ]
        ]
    },
    {
        "id": "78841d68.5129e4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3047.0726890563965,
        "y": 5132.335100809734,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ae224e40.c6874",
                "8bea43e3.8116"
            ]
        ]
    },
    {
        "id": "36922023.99beb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3753.905693054199,
        "y": 5080.65275446574,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cc682bd5.2eb5c8",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "929637d6.457068",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3597.072578430176,
        "y": 5080.668424288433,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "36922023.99beb"
            ]
        ]
    },
    {
        "id": "8bea43e3.8116",
        "type": "save",
        "name": "save l3-interface-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv4-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv4-address-list.l3-interface-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3335.406063079834,
        "y": 5179.00168100993,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2e1bef20.bf0fd",
                "5d3ca55b.b0a96c"
            ]
        ]
    },
    {
        "id": "aa9b6876.841938",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3755.5723152160645,
        "y": 5150.652725855511,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1499e507.42f6db",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "670834a7.3d263c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3755.5723915100098,
        "y": 5203.652484575909,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dac8db15.74e098",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "2e1bef20.bf0fd",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3598.739200592041,
        "y": 5150.6683956782035,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "aa9b6876.841938"
            ]
        ]
    },
    {
        "id": "5d3ca55b.b0a96c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3607.310733795166,
        "y": 5203.287540117901,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "670834a7.3d263c"
            ]
        ]
    },
    {
        "id": "f5cbef76.ec89e",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"l3-interface-ipv6-address-list\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\" >\n<parameter name=\"l3-interface-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address`\" />\n<parameter name=\"l3-interface-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3339.2155570983887,
        "y": 5259.716318130493,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f2553d5e.abe0f"
            ]
        ]
    },
    {
        "id": "133e1aca.140a05",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3045.882427215576,
        "y": 5311.383156776428,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f5cbef76.ec89e",
                "81cd3242.fe0b"
            ]
        ]
    },
    {
        "id": "51b65599.0e89cc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3752.715431213379,
        "y": 5259.700810432434,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "97323f99.6212d",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "f2553d5e.abe0f",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3595.8823165893555,
        "y": 5259.716480255127,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "51b65599.0e89cc"
            ]
        ]
    },
    {
        "id": "81cd3242.fe0b",
        "type": "save",
        "name": "save l3-interface-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"l3-interface-ipv6-address-list:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\n\t  AND l3-interface-ipv6-address-list.l3-interface-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[$address-index].vnfc-ip-address\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].network-id +\n        '/subnets/subnet/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3334.2158012390137,
        "y": 5358.0497369766235,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cd0e04b7.a88538",
                "2202ffa2.d2838"
            ]
        ]
    },
    {
        "id": "973eecbd.3a12f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3754.382053375244,
        "y": 5329.700781822205,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2f312957.2b15e6",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "41ca4b49.e89434",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3754.3821296691895,
        "y": 5382.7005405426025,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9f878bec.0f8958",
                "11d81f8a.7859d"
            ]
        ]
    },
    {
        "id": "cd0e04b7.a88538",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3597.5489387512207,
        "y": 5329.7164516448975,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "973eecbd.3a12f"
            ]
        ]
    },
    {
        "id": "2202ffa2.d2838",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3606.1204719543457,
        "y": 5382.335596084595,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "41ca4b49.e89434"
            ]
        ]
    },
    {
        "id": "4bd4ba04.8daa14",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1060.596607208252,
        "y": 6088.430853366852,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "39f74881.371fb8",
                "fb74751e.022f18",
                "12eb0afe.678335",
                "43f00c8e.4c60b4"
            ]
        ]
    },
    {
        "id": "d2a87a71.553fc8",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1708.5967826843262,
        "y": 6210.764601230621,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "316d52f.75519ae"
            ]
        ]
    },
    {
        "id": "9dd5477e.b61ec8",
        "type": "save",
        "name": "save vip-ipv4-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv4-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\" >\n<parameter name=\"vip-ipv4-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]`\" />\n<parameter name=\"vip-ipv4-prefix-length\" value=\"32\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1791.59663772583,
        "y": 6042.097612857819,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5a0f98fa.d60308",
                "17b6d486.2926eb"
            ]
        ]
    },
    {
        "id": "12eb0afe.678335",
        "type": "for",
        "name": "for each floating ipv4 address",
        "xml": "<for silentFailure='true' index='ipv4-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1299.5966300964355,
        "y": 6100.097685337067,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "686b5e11.422ff"
            ]
        ]
    },
    {
        "id": "686b5e11.422ff",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1525.5966300964355,
        "y": 6098.097685337067,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9dd5477e.b61ec8",
                "9094ce2c.0f237",
                "d2a87a71.553fc8"
            ]
        ]
    },
    {
        "id": "aefdf6d5.094438",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2187.096508026123,
        "y": 6012.08198595047,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d7673076.3ac06",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "8aa6fe69.46205",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2187.0965843200684,
        "y": 6065.081744670868,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "34a07ec7.5c1d72",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "5a0f98fa.d60308",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2030.2633934020996,
        "y": 6012.097655773163,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "aefdf6d5.094438"
            ]
        ]
    },
    {
        "id": "17b6d486.2926eb",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2038.8349266052246,
        "y": 6064.71680021286,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8aa6fe69.46205"
            ]
        ]
    },
    {
        "id": "c0647bff.dcfb98",
        "type": "save",
        "name": "save vip-ipv4-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv4-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2127.2632331848145,
        "y": 6154.764276027679,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f0cfd83.86b5328",
                "f315ed94.7bfc9"
            ]
        ]
    },
    {
        "id": "fd3e62f.a29bea",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2530.429512023926,
        "y": 6126.748618662357,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "38cb90b2.4e39c",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "5997fd18.c16ad4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2530.429588317871,
        "y": 6179.748377382755,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8d6accf1.493c8",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "f0cfd83.86b5328",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2373.5963973999023,
        "y": 6126.76428848505,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fd3e62f.a29bea"
            ]
        ]
    },
    {
        "id": "f315ed94.7bfc9",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2382.1679306030273,
        "y": 6179.3834329247475,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5997fd18.c16ad4"
            ]
        ]
    },
    {
        "id": "783e4357.c986ec",
        "type": "save",
        "name": "save vip-ipv6-address-list object to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vip-ipv6-address-list\" \n\tkey=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\" >\n<parameter name=\"vip-ipv6-address\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]`\" />\n<parameter name=\"vip-ipv6-prefix-length\" value=\"128\" />\n<parameter name=\"is-floating\" value=\"false\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1794.9299659729004,
        "y": 6365.430296421051,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1d38b1dd.61e89e",
                "6176025c.2ad73c"
            ]
        ]
    },
    {
        "id": "43f00c8e.4c60b4",
        "type": "for",
        "name": "for each floating ipv6 address",
        "xml": "<for silentFailure='true' index='ipv6-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1302.9299583435059,
        "y": 6422.430368900299,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "299ac4c9.b765dc"
            ]
        ]
    },
    {
        "id": "299ac4c9.b765dc",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1528.9299583435059,
        "y": 6421.430368900299,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "783e4357.c986ec",
                "3d0b5fc0.1aec4",
                "1976134f.84b09d"
            ]
        ]
    },
    {
        "id": "9dec848e.b51528",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2190.4298362731934,
        "y": 6335.414669513702,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ec585839.cf03a8",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "cc9a9082.df9ad",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2190.4299125671387,
        "y": 6388.4144282341,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dc08e935.aa2128",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "1d38b1dd.61e89e",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2033.59672164917,
        "y": 6335.430339336395,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9dec848e.b51528"
            ]
        ]
    },
    {
        "id": "6176025c.2ad73c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2042.168254852295,
        "y": 6388.0494837760925,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cc9a9082.df9ad"
            ]
        ]
    },
    {
        "id": "82969649.e96bb8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2523.7630920410156,
        "y": 6448.414720118046,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9303413c.a15fb",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "a4127791.07e268",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2523.763168334961,
        "y": 6501.414478838444,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "41362899.a075b8",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "79c39cc4.e386e4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2366.929977416992,
        "y": 6448.430389940739,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "82969649.e96bb8"
            ]
        ]
    },
    {
        "id": "a282925a.d9e0c",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2375.501510620117,
        "y": 6501.049534380436,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a4127791.07e268"
            ]
        ]
    },
    {
        "id": "bdb5121f.d0648",
        "type": "save",
        "name": "save vip-ipv6-address-list relationships",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"subnet\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].network-id\n        + '/subnets/subnet/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.ipv6-subnet-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vnfc\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2122.596820831299,
        "y": 6477.09680891037,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "79c39cc4.e386e4",
                "a282925a.d9e0c"
            ]
        ]
    },
    {
        "id": "63a7631.9e7f99c",
        "type": "set",
        "name": "set created_flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].created_flag' value='true' />\n",
        "comments": "",
        "x": 1285.2632637023926,
        "y": 4724.430592954159,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "39f74881.371fb8",
        "type": "set",
        "name": "set created-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].created-flag' value='true' />\n",
        "comments": "",
        "x": 1255.930019378662,
        "y": 5972.4307743906975,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "9094ce2c.0f237",
        "type": "set",
        "name": "set created-ipv4-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv4-flag' value='true' />\n",
        "comments": "",
        "x": 1728.9299850463867,
        "y": 6100.4308542609215,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "3d0b5fc0.1aec4",
        "type": "set",
        "name": "set created-ipv6-flag",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.created-ipv6-flag' value='true' />\n",
        "comments": "",
        "x": 1734.2633209228516,
        "y": 6426.430457532406,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "b50cee13.b9a08",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1835.2634391784668,
        "y": 4684.430831849575,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fc84df82.5bc09"
            ]
        ]
    },
    {
        "id": "779079fc.7d1618",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-vlan-tagging-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-vlan-tagging-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 602.6798400878906,
        "y": 6759.430809020996,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9bf7c5a4.dd9598"
            ]
        ]
    },
    {
        "id": "9bf7c5a4.dd9598",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 947.013256072998,
        "y": 6758.764304161072,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "471e8c34.437354"
            ]
        ]
    },
    {
        "id": "471e8c34.437354",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1102.0131301879883,
        "y": 6758.764100074768,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3ca8387c.2993a8",
                "ddd8fcd8.b0fa8"
            ]
        ]
    },
    {
        "id": "3ca8387c.2993a8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vlantaggingfailure.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1282.7867469787598,
        "y": 6731.502106189728,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "fb67aa4b.8284f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 257.1558837890625,
        "y": 510.3101568222046,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f4d050b1.8b4c3",
                "5d7e2c45.4ebe34",
                "48e25fc2.52f7",
                "9974cb16.902fe8",
                "9d5245b6.abb4e8",
                "540a131f.3d7bec",
                "d0321bc2.4f6358",
                "348782c.04c017e",
                "bceb88ad.260758",
                "3f8bd8eb.1bd018"
            ]
        ]
    },
    {
        "id": "9926c7ad.248aa8",
        "type": "switchNode",
        "name": "switch from-preload",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-information.from-preload`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 548.1677284240723,
        "y": 2575.9059200286865,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9e164e02.d239",
                "44723a81.45b694"
            ]
        ]
    },
    {
        "id": "9e164e02.d239",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 720.0724601745605,
        "y": 2553.286940574646,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3590eb8.88aec14"
            ]
        ]
    },
    {
        "id": "44723a81.45b694",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 721.7391128540039,
        "y": 2598.2867794036865,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9742bfa8.39e3a"
            ]
        ]
    },
    {
        "id": "3590eb8.88aec14",
        "type": "set",
        "name": "set automated-assignment to true",
        "xml": "<set>\n<parameter name='automated-assignment' value='true' />\n",
        "comments": "",
        "x": 935.0724449157715,
        "y": 2551.620111465454,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "9742bfa8.39e3a",
        "type": "set",
        "name": "set automated-assignment to false",
        "xml": "<set>\n<parameter name='automated-assignment' value='false' />\n",
        "comments": "",
        "x": 933.4057655334473,
        "y": 2596.6200313568115,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "1976134f.84b09d",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1709.69185256958,
        "y": 6525.310881137848,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "24db1747.589188"
            ]
        ]
    },
    {
        "id": "494a4418.4600ec",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 526.9298248291016,
        "y": 3936.096802711487,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "edc660aa.aae32"
            ]
        ]
    },
    {
        "id": "edc660aa.aae32",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 717.4298934936523,
        "y": 3936.930037498474,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8a22c1f6.1af97"
            ]
        ]
    },
    {
        "id": "8a22c1f6.1af97",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 918.9298248291016,
        "y": 3936.096802711487,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a190fe2f.d886f"
            ]
        ]
    },
    {
        "id": "a190fe2f.d886f",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1108.7631454467773,
        "y": 3935.5962419509888,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "e0f0f785.dc0f38"
            ]
        ]
    },
    {
        "id": "e0f0f785.dc0f38",
        "type": "get-resource",
        "name": "get-resource VFC_RELATED_NETWORK_ROLE",
        "xml": "<get-resource plugin='org.onap.ccsdk.sli.adaptors.resource.sql.SqlResource' resource='SQL'\n  key='SELECT * from VFC_RELATED_NETWORK_ROLE where vfc_customization_uuid = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].model-customization-uuid\n    and network_role = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role'\n  pfx='db.vnf-related-network-role[]'>\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1398.2631187438965,
        "y": 3934.096884727478,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fd7f5581.6d4528",
                "b45e71b2.bc101"
            ]
        ]
    },
    {
        "id": "fd7f5581.6d4528",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1669.2630577087402,
        "y": 3838.763586997986,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d6d5d78c.a73e18"
            ]
        ]
    },
    {
        "id": "d6d5d78c.a73e18",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1816.4535751342773,
        "y": 3837.311601638794,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6c1ed4b9.5ecf9c",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "b45e71b2.bc101",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1670.0962677001953,
        "y": 4083.4304666519165,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "952ac2a9.fea88"
            ]
        ]
    },
    {
        "id": "b3ac03af.ef15c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2088.4295196533203,
        "y": 4085.4302225112915,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b5a4eea6.72594",
                "ce6a381b.978038",
                "1364d6f3.245769",
                "f6d3df5a.7d52a",
                "66f94089.96de5",
                "a6a60ea4.9fb45",
                "e617263a.f37478",
                "5c5c0e0.7b249f4"
            ]
        ]
    },
    {
        "id": "ce6a381b.978038",
        "type": "for",
        "name": "for each vnf network",
        "xml": "<for silentFailure='true' index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2270.929698944092,
        "y": 3927.7634706497192,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3f61199.ed2ade6"
            ]
        ]
    },
    {
        "id": "b5a4eea6.72594",
        "type": "set",
        "name": "set found-related-network to false",
        "xml": "<set>\n<parameter name='found-related-network' value='false' />\n",
        "comments": "",
        "x": 2310.929775238037,
        "y": 3869.4302473068237,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "86eb7e36.9d7f7",
        "type": "for",
        "name": "for each related network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2669.929660797119,
        "y": 3904.4297342300415,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "69287c55.352c84"
            ]
        ]
    },
    {
        "id": "3f61199.ed2ade6",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2458.929698944092,
        "y": 3927.7634706497192,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "86eb7e36.9d7f7",
                "456cf44d.c85fac"
            ]
        ]
    },
    {
        "id": "69287c55.352c84",
        "type": "switchNode",
        "name": "switch network-role matches",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].related-networks.related-network[$related-network-index].network-role\n  == $db.vnf-related-network-role[$db-related-network-index].related-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2921.9295768737793,
        "y": 3904.429810523987,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "875934e4.a63818"
            ]
        ]
    },
    {
        "id": "952ac2a9.fea88",
        "type": "for",
        "name": "for each db related-network",
        "xml": "<for index='db-related-network-index' start='0' end='`$db.vnf-related-network-role_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1874.4296417236328,
        "y": 4084.0972146987915,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b3ac03af.ef15c"
            ]
        ]
    },
    {
        "id": "875934e4.a63818",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3121.9295768737793,
        "y": 3902.429810523987,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5d83fcee.a618a4"
            ]
        ]
    },
    {
        "id": "5d83fcee.a618a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3275.9295768737793,
        "y": 3900.429810523987,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4df768f6.bb1e68",
                "f4645e05.09dbf",
                "29f5561c.96eb2a"
            ]
        ]
    },
    {
        "id": "4df768f6.bb1e68",
        "type": "set",
        "name": "set found-related-network to true",
        "xml": "<set>\n<parameter name='found-related-network' value='true' />\n",
        "comments": "",
        "x": 3507.9297370910645,
        "y": 3860.0963945388794,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f4645e05.09dbf",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3431.262912750244,
        "y": 3946.763144493103,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "1364d6f3.245769",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2306.429588317871,
        "y": 4028.430356025696,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "19517216.b897fe"
            ]
        ]
    },
    {
        "id": "19517216.b897fe",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2500.429588317871,
        "y": 4026.430356025696,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f7f125ed.69c228"
            ]
        ]
    },
    {
        "id": "f7f125ed.69c228",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2630.429588317871,
        "y": 4026.430356025696,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4102f097.0a51",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "f6d3df5a.7d52a",
        "type": "set",
        "name": "set is-trunked and segmentation-id in vm-network",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].is-trunked'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].is-trunked`' />\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].segmentation-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].segmentation-id`' />\n",
        "comments": "",
        "x": 2368.429588317871,
        "y": 4076.430356025696,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "a6a60ea4.9fb45",
        "type": "switchNode",
        "name": "switch rn-index",
        "xml": "<switch test='`$rn-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2256.429588317871,
        "y": 4184.430356025696,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6c6e5ed6.1638b"
            ]
        ]
    },
    {
        "id": "66f94089.96de5",
        "type": "set",
        "name": "set rn-index to related network length",
        "xml": "<set>\n<parameter name='rn-index' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' />\n",
        "comments": "",
        "x": 2328.429588317871,
        "y": 4128.430356025696,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "6c6e5ed6.1638b",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2420.429588317871,
        "y": 4184.430356025696,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4cbc1f39.6eef5"
            ]
        ]
    },
    {
        "id": "4cbc1f39.6eef5",
        "type": "set",
        "name": "set rn-index to 0",
        "xml": "<set>\n<parameter name='rn-index' value='0' />\n",
        "comments": "",
        "x": 2580.429588317871,
        "y": 4184.430356025696,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "e617263a.f37478",
        "type": "set",
        "name": "set related-network data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].network-role'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].network-role`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.vlan-interface'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.vlan-interface`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.lower-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.lower-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.upper-tag-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.upper-tag-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$rn-index].vlan-tags.is-private'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$saved-vnf-network-index].related-networks.related-network[$saved-related-network-index].vlan-tags.is-private`' />\n",
        "comments": "",
        "x": 2280.429588317871,
        "y": 4236.430356025696,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "5c5c0e0.7b249f4",
        "type": "set",
        "name": "set new related network length",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length'\n  value='`$rn-index + 1`' />\n",
        "comments": "",
        "x": 2298.429588317871,
        "y": 4288.430356025696,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "456cf44d.c85fac",
        "type": "switchNode",
        "name": "switch found-related-network",
        "xml": "<switch test='`$found-related-network`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2682.9296836853027,
        "y": 3952.096594810486,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "65005548.e9ca8c"
            ]
        ]
    },
    {
        "id": "65005548.e9ca8c",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2879.5965461730957,
        "y": 3952.0969667434692,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a15ee876.ab6228"
            ]
        ]
    },
    {
        "id": "a15ee876.ab6228",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 3009.5964317321777,
        "y": 3950.430090904236,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "29f5561c.96eb2a",
        "type": "set",
        "name": "save indexes",
        "xml": "<set>\n<parameter name='saved-vnf-network-index' value='`$vnf-network-index`' />\n<parameter name='saved-related-network-index' value='`$related-network-index`' />\n",
        "comments": "",
        "x": 3449.5966453552246,
        "y": 3902.0969648361206,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "9a10ba16.3aa6a8",
        "type": "execute",
        "name": "generate cp-instance-id",
        "xml": "<execute plugin=\"org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils\" method=\"generateUUID\" >\n<parameter name=\"ctx-destination\" value=\"cp-instance-id\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1738.5011367797852,
        "y": 4931.621017932892,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "878cd74b.b859a8",
        "type": "save",
        "name": "save cp to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"cp\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n\t  AND cp.cp-instance-id = $cp-instance-id\" >\n<parameter name=\"cp-instance-id\" value=\"`$cp-instance-id`\" />\n<parameter name=\"port-id\" value=\"0\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1720.1677589416504,
        "y": 4998.2875237464905,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "38156f19.d3b92",
                "6b679924.dbe638"
            ]
        ]
    },
    {
        "id": "38156f19.d3b92",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1909.167739868164,
        "y": 4973.954137265682,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "115e423c.501c8e"
            ]
        ]
    },
    {
        "id": "115e423c.501c8e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2076.334487915039,
        "y": 4989.748570859432,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b0761ca.5d4cce",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "6b679924.dbe638",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1914.167739868164,
        "y": 5023.620397031307,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "115e423c.501c8e"
            ]
        ]
    },
    {
        "id": "52bb6b86.aae8d4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1514.9774589538574,
        "y": 5200.905811786652,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1faae59a.ef7cea",
                "3ff39820.94ba88",
                "9a10ba16.3aa6a8",
                "878cd74b.b859a8",
                "eebcfd35.55fb9",
                "82ba34b3.fa1f48"
            ]
        ]
    },
    {
        "id": "1faae59a.ef7cea",
        "type": "set",
        "name": "set connection point data",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.connection-point-id'\n  value='`$cp-instance-id`' />\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].connection-point.port-id'\n  value='0' />\n",
        "comments": "",
        "x": 1750.5013008117676,
        "y": 5076.1450934410095,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "933839f3.7f2e78",
        "type": "comment",
        "name": "Floating IPs",
        "info": "",
        "comments": "",
        "x": 1311.2631187438965,
        "y": 6058.430211722851,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "eebcfd35.55fb9",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='vnf-network-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1734.5963020324707,
        "y": 5472.4305872917175,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cc35a2e9.bcb07"
            ]
        ]
    },
    {
        "id": "62b74236.aad4fc",
        "type": "save",
        "name": "save cp relationship to l3-network",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2372.9297828674316,
        "y": 5472.097095012665,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d2f01f95.109f6",
                "4a44bec7.49b2a"
            ]
        ]
    },
    {
        "id": "6441b421.db195c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2744.7628211975098,
        "y": 5445.415043354034,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "64e7c13b.82899",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "21487f6.95f1f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2744.762897491455,
        "y": 5498.414802074432,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f4e9414e.c0a39",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "d2f01f95.109f6",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2587.9297065734863,
        "y": 5445.430713176727,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6441b421.db195c"
            ]
        ]
    },
    {
        "id": "4a44bec7.49b2a",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2596.5012397766113,
        "y": 5498.049857616425,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "21487f6.95f1f8"
            ]
        ]
    },
    {
        "id": "82ba34b3.fa1f48",
        "type": "for",
        "name": "for each vm-network",
        "xml": "<for silentFailure='true' index='network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1734.5964546203613,
        "y": 5633.096942424774,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1f595d1a.8ff293"
            ]
        ]
    },
    {
        "id": "b629e1fe.afa3d",
        "type": "save",
        "name": "save cp relationship to l3-network and vlan-tag",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"cp:relationship-list\"\n   key=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n     AND cp.cp-instance-id = $cp-instance-id\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"l3-network\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/l3-networks/l3-network/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].network-id`\" />\n    <parameter name=\"relationship-list.relationship[1].related-to\" value=\"vlan-tag\" />\n    <parameter name=\"relationship-list.relationship[1].related-link\"\n      value=\"`'/aai/v$/network/vlan-tags/vlan-tag/' +\n        $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network[$related-network-index].vlan-tags.vlan-interface`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2654.2634620666504,
        "y": 5631.096937656403,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6dc366c6.1b2608",
                "a704ca3.36a4b38"
            ]
        ]
    },
    {
        "id": "12c7943c.a55a2c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3061.096508026123,
        "y": 5604.414236545564,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "94072bfe.632c28",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "2b88635f.5a533c",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3061.0965843200684,
        "y": 5657.413995265962,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4462ce4a.8f7a5",
                "1254304a.7d8a4"
            ]
        ]
    },
    {
        "id": "6dc366c6.1b2608",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2904.2633934020996,
        "y": 5604.4299063682565,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "12c7943c.a55a2c"
            ]
        ]
    },
    {
        "id": "a704ca3.36a4b38",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2912.8349266052246,
        "y": 5657.049050807954,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2b88635f.5a533c"
            ]
        ]
    },
    {
        "id": "1de94581.c488da",
        "type": "for",
        "name": "for each related-network",
        "xml": "<for silentFailure='true' index='related-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].related-networks.related-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2350.2632942199707,
        "y": 5631.096938610077,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b629e1fe.afa3d"
            ]
        ]
    },
    {
        "id": "88b43b76.6a75d8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-generate-heat-parameters",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-generate-heat-parameters' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 598.5966186523438,
        "y": 6872.847700119019,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "bb67c127.33c7c",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmoduleheat.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 408.67992401123047,
        "y": 6925.8473777771,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "67fa2696.640ed8",
        "type": "switchNode",
        "name": "switch input vf-module-name",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.vf-module-name`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 581.2630195617676,
        "y": 2357.929759979248,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "de18afec.e1079",
                "49fb0ac8.04b604"
            ]
        ]
    },
    {
        "id": "de18afec.e1079",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 803.7629852294922,
        "y": 2280.4297199249268,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1c4c53fe.44b0dc"
            ]
        ]
    },
    {
        "id": "49fb0ac8.04b604",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 805.4415855407715,
        "y": 2453.0483045578003,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "755e8713.bcc1c8"
            ]
        ]
    },
    {
        "id": "a421948e.7e12b8",
        "type": "for",
        "name": "for each vnfc-subnet-role",
        "xml": "<for index='subnet-role-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1338.7631187438965,
        "y": 3152.929436683655,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ebf9c337.4e138"
            ]
        ]
    },
    {
        "id": "ebf9c337.4e138",
        "type": "for",
        "name": "for each vnfc-address-family",
        "xml": "<for index='address-family-index' start='0'\n  end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1587.096378326416,
        "y": 3152.929436683655,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a86ece19.ececb"
            ]
        ]
    },
    {
        "id": "fcaf9b9.f1d4568",
        "type": "for",
        "name": "for each vm-type",
        "xml": "<for silentFailure='true' index='vm-type-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 544.5962944030762,
        "y": 2871.262773513794,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f8bef45b.8c1d38"
            ]
        ]
    },
    {
        "id": "f8bef45b.8c1d38",
        "type": "for",
        "name": "for each vnfc",
        "xml": "<for silentFailure='true' index='vnfc-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 726.2630729675293,
        "y": 2869.929922103882,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "97b3bca9.21b53"
            ]
        ]
    },
    {
        "id": "97b3bca9.21b53",
        "type": "for",
        "name": "for each vnfc-network",
        "xml": "<for silentFailure='true' index='vnfc-network-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 927.4296455383301,
        "y": 2869.76261138916,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a3d88602.8525e8"
            ]
        ]
    },
    {
        "id": "a3d88602.8525e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1139.5963172912598,
        "y": 2868.7629718780518,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d5a5aef3.81764",
                "37a20e05.126042",
                "f86420d0.f8cb4",
                "a421948e.7e12b8"
            ]
        ]
    },
    {
        "id": "d5a5aef3.81764",
        "type": "set",
        "name": "set vnf-network-index to -1",
        "xml": "<set>\n<parameter name='vnf-network-index' value='-1' />\n",
        "comments": "",
        "x": 1351.2630348205566,
        "y": 2822.096185684204,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "37a20e05.126042",
        "type": "for",
        "name": "for each vnf-network",
        "xml": "<for index='idx' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1332.9298248291016,
        "y": 2868.7629375457764,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1cb49556.32692b"
            ]
        ]
    },
    {
        "id": "1cb49556.32692b",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1574.5962944030762,
        "y": 2867.096432685852,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d1c77ddb.a0354"
            ]
        ]
    },
    {
        "id": "d1c77ddb.a0354",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1771.2629737854004,
        "y": 2867.096351623535,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1428ec99.f2d413"
            ]
        ]
    },
    {
        "id": "1428ec99.f2d413",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1924.5961952209473,
        "y": 2867.0962238311768,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fcce8154.9685e",
                "cbd9fa48.bee5b8",
                "491c8e10.8347"
            ]
        ]
    },
    {
        "id": "fcce8154.9685e",
        "type": "set",
        "name": "set vnf-network-index",
        "xml": "<set>\n<parameter name='vnf-network-index' value='`$idx`' />\n",
        "comments": "",
        "x": 2131.263027191162,
        "y": 2815.4296016693115,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "cbd9fa48.bee5b8",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 2086.2629432678223,
        "y": 2905.4295225143433,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "f86420d0.f8cb4",
        "type": "switchNode",
        "name": "switch vnf-network-index",
        "xml": "<switch test='`$vnf-network-index`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1344.596363067627,
        "y": 2928.762939453125,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "79b99590.d3fcac"
            ]
        ]
    },
    {
        "id": "79b99590.d3fcac",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1536.2630043029785,
        "y": 2928.76318359375,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "917a6c27.9bf3"
            ]
        ]
    },
    {
        "id": "917a6c27.9bf3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1684.5961952209473,
        "y": 2927.0962238311768,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "a6ff636a.1da36",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "95349f39.6e5a9",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2376.262912750244,
        "y": 3337.0960750579834,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9e396ac0.1c0cd8",
                "f53353ba.f6cea",
                "35326a6f.8ce8b6"
            ]
        ]
    },
    {
        "id": "9e396ac0.1c0cd8",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2572.9296646118164,
        "y": 3292.0959939956665,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d3c7828c.9a35d"
            ]
        ]
    },
    {
        "id": "d3c7828c.9a35d",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2799.596290588379,
        "y": 3292.0959939956665,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c4cd4a9c.110088"
            ]
        ]
    },
    {
        "id": "c4cd4a9c.110088",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2979.5962562561035,
        "y": 3292.0964002609253,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d297a29d.32368"
            ]
        ]
    },
    {
        "id": "801d0ec7.9db1b",
        "type": "set",
        "name": "set tmp.address-family",
        "xml": "<set>\n<parameter name='tmp.address-family'\n  value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-address-family`' />\n",
        "comments": "",
        "x": 2404.596248626709,
        "y": 3155.429488182068,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "a86ece19.ececb",
        "type": "switchNode",
        "name": "switch vnfc-subnet-ip_length",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip_length`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1849.596591949463,
        "y": 3152.096523284912,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b8041b24.2b66c8",
                "9c9140dc.f2e33",
                "489d3614.0f27f8"
            ]
        ]
    },
    {
        "id": "b8041b24.2b66c8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 2051.2631034851074,
        "y": 3052.0960664749146,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8bb4c617.110b48"
            ]
        ]
    },
    {
        "id": "9c9140dc.f2e33",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2047.6917343139648,
        "y": 3238.048357963562,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b0bfddfb.72eba"
            ]
        ]
    },
    {
        "id": "8bb4c617.110b48",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 2182.9296531677246,
        "y": 3074.7628135681152,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "38e8e50c.e85dda",
        "type": "set",
        "name": "set subnet-id to -1",
        "xml": "<set>\n<parameter name='subnet-id' value='-1' />\n",
        "comments": "",
        "x": 3072.9301719665527,
        "y": 3453.7634801864624,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "b0bfddfb.72eba",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2201.2631492614746,
        "y": 3237.0959901809692,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "801d0ec7.9db1b",
                "95349f39.6e5a9"
            ]
        ]
    },
    {
        "id": "d34b6157.8f35a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4332.929769515991,
        "y": 3625.429957151413,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "88064ec.10dddb",
                "52c4ad67.8cbd34"
            ]
        ]
    },
    {
        "id": "52c4ad67.8cbd34",
        "type": "execute",
        "name": "execute isInSameSubnet",
        "xml": "<execute plugin=\"com.att.sdnctl.sli.plugin.ipAddressTools.IpAddressTool\" method=\"isInSameSubnet\">\n\t<parameter name=\"firstIPAddr\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`\" />\n\t<parameter name=\"secondIPAddr\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address`\" />\n\t<parameter name=\"subnet\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`\" />\n\t<parameter name=\"ipType\" value=\"`$ip-type`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4547.92977142334,
        "y": 3675.4296309947968,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "995a749b.8f5f58"
            ]
        ]
    },
    {
        "id": "88064ec.10dddb",
        "type": "switchNode",
        "name": "switch tmp.address-family",
        "xml": "<switch test='`$tmp.address-family`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4549.596927642822,
        "y": 3582.096617460251,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "431902e1.65a18c",
                "a1d0494d.a8bd18"
            ]
        ]
    },
    {
        "id": "431902e1.65a18c",
        "type": "outcome",
        "name": "ipv4",
        "xml": "<outcome value='ipv4'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4752.930189768473,
        "y": 3555.4298477967577,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "bb7bc2b4.6ce51"
            ]
        ]
    },
    {
        "id": "a1d0494d.a8bd18",
        "type": "outcome",
        "name": "ipv6",
        "xml": "<outcome value='ipv6'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4752.929862976074,
        "y": 3602.0963752269745,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "e7f8c0a.86c664"
            ]
        ]
    },
    {
        "id": "bb7bc2b4.6ce51",
        "type": "set",
        "name": "set ip-type parameter to IPv4",
        "xml": "<set>\n<parameter name='ip-type' value='IPv4' />\n",
        "comments": "",
        "x": 4949.596675872803,
        "y": 3553.7633216381073,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "e7f8c0a.86c664",
        "type": "set",
        "name": "set ip-type parameter to IPv6",
        "xml": "<set>\n<parameter name='ip-type' value='IPv6' />\n",
        "comments": "",
        "x": 4954.59655380249,
        "y": 3602.096394300461,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "7fcd1d62.d76cb4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4887.929801940918,
        "y": 3675.096394300461,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5e631020.53cce",
                "df991002.c407"
            ]
        ]
    },
    {
        "id": "5e631020.53cce",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 5066.263122558594,
        "y": 3651.762881040573,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "df991002.c407",
        "type": "break",
        "name": "break",
        "xml": "<break>\n",
        "comments": "",
        "x": 5051.263126373291,
        "y": 3698.4298751354218,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "4e4fca65.cbf754",
        "type": "switchNode",
        "name": "switch subnet-id",
        "xml": "<switch test='`$subnet-id`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3064.596046447754,
        "y": 3615.430214881897,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "5fc3b8b.62e4a48"
            ]
        ]
    },
    {
        "id": "5fc3b8b.62e4a48",
        "type": "outcome",
        "name": "-1",
        "xml": "<outcome value='-1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3221.26261138916,
        "y": 3615.4301500320435,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1fa6c512.92b1cb"
            ]
        ]
    },
    {
        "id": "1fa6c512.92b1cb",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3369.595802307129,
        "y": 3613.76319026947,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fec2cbd9.e930a8",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "10262cd6.950543",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id' value='`$subnet-id`' />\n",
        "comments": "",
        "x": 3176.2626914978027,
        "y": 3692.0969858169556,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "7b6a70b.67d389",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodulec.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 529.5962867736816,
        "y": 3287.0962238311768,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "995a749b.8f5f58",
        "type": "success",
        "name": "success",
        "xml": "<outcome value='success'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4734.596374511719,
        "y": 3675.4301192760468,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7fcd1d62.d76cb4"
            ]
        ]
    },
    {
        "id": "491c8e10.8347",
        "type": "set",
        "name": "set network-id",
        "xml": "<set>\n<parameter name='$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].network-id'\n  value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$idx].network-id`' />\n",
        "comments": "",
        "x": 2107.929531097412,
        "y": 2860.429684638977,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "a45139cd.c06788",
        "type": "switchNode",
        "name": "switch nfc-naming-code",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1306.262996673584,
        "y": 4475.42941236496,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7364ca38.2e5154",
                "58d89920.1583e8"
            ]
        ]
    },
    {
        "id": "7364ca38.2e5154",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1491.2629432678223,
        "y": 4450.42923116684,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8158813c.66973"
            ]
        ]
    },
    {
        "id": "58d89920.1583e8",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1489.3582153320312,
        "y": 4497.215058803558,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3d2f5ba8.c13584"
            ]
        ]
    },
    {
        "id": "8158813c.66973",
        "type": "set",
        "name": "set tmp.nfc-naming-code to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='DEFAULT' />\n",
        "comments": "",
        "x": 1722.9297142028809,
        "y": 4448.762581348419,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "3d2f5ba8.c13584",
        "type": "set",
        "name": "set tmp.nfc-naming-code",
        "xml": "<set>\n<parameter name='tmp.nfc-naming-code' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-naming-code`' />\n",
        "comments": "",
        "x": 1679.5962257385254,
        "y": 4497.096079349518,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "d5639dcc.50d87",
        "type": "switchNode",
        "name": "switch nfc-function",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1294.5963287353516,
        "y": 4573.762586116791,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b1314442.1e8e58",
                "4e90e22a.aab6cc"
            ]
        ]
    },
    {
        "id": "b1314442.1e8e58",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1491.2629356384277,
        "y": 4548.762383937836,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c5c1ae87.86af"
            ]
        ]
    },
    {
        "id": "4e90e22a.aab6cc",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1489.3582077026367,
        "y": 4595.548211574554,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ba48d68e.f81aa8"
            ]
        ]
    },
    {
        "id": "c5c1ae87.86af",
        "type": "set",
        "name": "set tmp.nfc-function to DEFAULT",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='DEFAULT' />\n",
        "comments": "",
        "x": 1702.9297180175781,
        "y": 4547.0955929756165,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "ba48d68e.f81aa8",
        "type": "set",
        "name": "set tmp.nfc-function",
        "xml": "<set>\n<parameter name='tmp.nfc-function' value='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].nfc-function`' />\n",
        "comments": "",
        "x": 1661.2628479003906,
        "y": 4595.429254055023,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "cc35a2e9.bcb07",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$network-role-index].vnfc-network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1967.92964553833,
        "y": 5472.4296135902405,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7bf7e0e4.c2092"
            ]
        ]
    },
    {
        "id": "7bf7e0e4.c2092",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2166.263114929199,
        "y": 5472.096768856049,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "62b74236.aad4fc"
            ]
        ]
    },
    {
        "id": "1f595d1a.8ff293",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1971.2629890441895,
        "y": 5632.096061229706,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "47d7d211.80a5ec"
            ]
        ]
    },
    {
        "id": "47d7d211.80a5ec",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2169.5964584350586,
        "y": 5631.763216495514,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1de94581.c488da"
            ]
        ]
    },
    {
        "id": "316d52f.75519ae",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1874.5962715148926,
        "y": 6210.4294810295105,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c0647bff.dcfb98",
                "5911a368.70726c"
            ]
        ]
    },
    {
        "id": "24db1747.589188",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1876.2630195617676,
        "y": 6525.429492473602,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "bdb5121f.d0648",
                "9dacd2cd.93ab"
            ]
        ]
    },
    {
        "id": "5911a368.70726c",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2091.2632179260254,
        "y": 6268.762651920319,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f138f006.e2934"
            ]
        ]
    },
    {
        "id": "14599bc4.dfcff4",
        "type": "save",
        "name": "save vip-ipv4-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv4-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv4-address-list.vip-ipv4-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v4[$ipv4-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2766.26314163208,
        "y": 6268.762490749359,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "34dd5b17.9e06c4",
                "c966a91b.7c68b8"
            ]
        ]
    },
    {
        "id": "52867741.452a08",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3158.09623336792,
        "y": 6242.080272197723,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1a54f803.3243e8",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "fbf6e33e.69daa",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3158.0963096618652,
        "y": 6295.080030918121,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9ebbd632.ef43d8",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "34dd5b17.9e06c4",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3001.2631187438965,
        "y": 6242.095942020416,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "52867741.452a08"
            ]
        ]
    },
    {
        "id": "c966a91b.7c68b8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3009.8346519470215,
        "y": 6294.7150864601135,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "fbf6e33e.69daa"
            ]
        ]
    },
    {
        "id": "9dacd2cd.93ab",
        "type": "for",
        "name": "for each vnfc-network-role",
        "xml": "<for silentFailure='true' index='vnfc-network-role-index' start='0' end='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2092.929615020752,
        "y": 6592.096061229706,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2dbd930d.06759c"
            ]
        ]
    },
    {
        "id": "6321a56a.de355c",
        "type": "save",
        "name": "save vip-ipv6-address-list relationship to cp",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\"\n   resource=\"vip-ipv6-address-list:relationship-list\"\n   key=\"cloud-region.cloud-owner = $prop.cloud-region.cloud-owner\n\t  AND cloud-region.cloud-region-id = $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region\n\t  AND vip-ipv6-address-list.vip-ipv6-address = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$vm-network-index].floating-ips.floating-ip-v6[$ipv6-index]\"\n   force=\"true\" pfx=\"tmp.AnAI-data\">\n    <parameter name=\"relationship-list.relationship[0].related-to\" value=\"cp\" />\n    <parameter name=\"relationship-list.relationship[0].related-link\"\n      value=\"`'/aai/v$/network/vnfcs/vnfc/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\n        + '/cps/cp/'\n        + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].connection-point.connection-point-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2762.9295692443848,
        "y": 6590.428843975067,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7666db3f.f47e74",
                "639b285f.08d4e8"
            ]
        ]
    },
    {
        "id": "f0c87b03.93a6b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3154.7626609802246,
        "y": 6563.746625423431,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "82534f84.1802c",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "301d4b1.d1d96b4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3154.76273727417,
        "y": 6616.746384143829,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "bec2c422.16f948",
                "fc515f97.dc4ef"
            ]
        ]
    },
    {
        "id": "7666db3f.f47e74",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2997.929546356201,
        "y": 6563.762295246124,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f0c87b03.93a6b8"
            ]
        ]
    },
    {
        "id": "639b285f.08d4e8",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3006.501079559326,
        "y": 6616.3814396858215,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "301d4b1.d1d96b4"
            ]
        ]
    },
    {
        "id": "f138f006.e2934",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2344.5962867736816,
        "y": 6268.762328624725,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "96bf85f6.f873f8"
            ]
        ]
    },
    {
        "id": "96bf85f6.f873f8",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2531.2631301879883,
        "y": 6268.762815952301,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "14599bc4.dfcff4"
            ]
        ]
    },
    {
        "id": "2dbd930d.06759c",
        "type": "switchNode",
        "name": "switch network-roles match?",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-role\n  == $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-role-index].vnfc-network-role`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2341.262866973877,
        "y": 6590.429069042206,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "75bae1b8.8d5a7"
            ]
        ]
    },
    {
        "id": "75bae1b8.8d5a7",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2527.9297103881836,
        "y": 6590.4295563697815,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6321a56a.de355c"
            ]
        ]
    },
    {
        "id": "14b5c458.f3a9ec",
        "type": "comment",
        "name": "SELF-SERVE FORK",
        "info": "",
        "comments": "",
        "x": 690.9773178100586,
        "y": 922.5363388061523,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "b4ce17c3.fa50b8",
        "type": "comment",
        "name": "First, count the subnets for this address family",
        "info": "",
        "comments": "",
        "x": 2706.2634239196777,
        "y": 3201.7384843826294,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "12c26bf4.a2a7c4",
        "type": "for",
        "name": "for each subnet-data",
        "xml": "<for index='subnet-data-index' start='0' end='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data_length`' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3079.5961112976074,
        "y": 3496.7389879226685,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6a0e881b.4ba548"
            ]
        ]
    },
    {
        "id": "6a0e881b.4ba548",
        "type": "switchNode",
        "name": "address-families match?",
        "xml": "<switch test='`$tmp.address-family\n  == $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].ip-version`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3306.26273727417,
        "y": 3496.7389879226685,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "78272436.cd36bc"
            ]
        ]
    },
    {
        "id": "78272436.cd36bc",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3486.2627029418945,
        "y": 3496.7393941879272,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8571ff4f.7368d"
            ]
        ]
    },
    {
        "id": "f53353ba.f6cea",
        "type": "set",
        "name": "set af-count to 0",
        "xml": "<set>\n<parameter name='af-count' value='0' />\n",
        "comments": "",
        "x": 2561.262996673584,
        "y": 3243.4052362442017,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "774c4dcf.519194",
        "type": "set",
        "name": "increment af-count",
        "xml": "<set>\n<parameter name='af-count' value='`$af-count + 1`' />\n",
        "comments": "",
        "x": 3309.596363067627,
        "y": 3310.0719861984253,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "d297a29d.32368",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 3126.26273727417,
        "y": 3291.7386713027954,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "774c4dcf.519194",
                "93d44f0.e06a8b"
            ]
        ]
    },
    {
        "id": "93d44f0.e06a8b",
        "type": "set",
        "name": "set subnet-id",
        "xml": "<set>\n<parameter name='subnet-id' value='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id`' />\n",
        "comments": "",
        "x": 3291.262783050537,
        "y": 3265.0719842910767,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "35326a6f.8ce8b6",
        "type": "switchNode",
        "name": "switch af-count",
        "xml": "<switch test='`$af-count`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2551.2634086608887,
        "y": 3480.0721530914307,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d300c477.7f84e8",
                "8e745db4.433a4"
            ]
        ]
    },
    {
        "id": "d300c477.7f84e8",
        "type": "outcome",
        "name": "1",
        "xml": "<outcome value='1'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2711.262928009033,
        "y": 3378.40532207489,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "700167b.43daf98"
            ]
        ]
    },
    {
        "id": "700167b.43daf98",
        "type": "set",
        "name": "set subnet-id in vnfc-ip-assignments (temp variable)",
        "xml": "<set>\n<parameter name='tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].subnet-id'\n  value='`$subnet-id`' />\n",
        "comments": "",
        "x": 2984.59623336792,
        "y": 3376.7386713027954,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "8e745db4.433a4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 2711.2628440856934,
        "y": 3580.072241783142,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "49b5ae7f.1ecb1"
            ]
        ]
    },
    {
        "id": "49b5ae7f.1ecb1",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2867.929485321045,
        "y": 3580.0719232559204,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "38e8e50c.e85dda",
                "12c26bf4.a2a7c4",
                "4e4fca65.cbf754",
                "10262cd6.950543"
            ]
        ]
    },
    {
        "id": "8571ff4f.7368d",
        "type": "switchNode",
        "name": "switch network-start-address",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].network-start-address`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3681.262882232666,
        "y": 3495.072237968445,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dcdbaac8.71fac8",
                "9a1f2d8c.38269"
            ]
        ]
    },
    {
        "id": "dcdbaac8.71fac8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 3877.92972946167,
        "y": 3430.071848630905,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ff48f3fc.6ff7e"
            ]
        ]
    },
    {
        "id": "9a1f2d8c.38269",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 3871.0251274108887,
        "y": 3564.3577601909637,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f43b3822.b1c158"
            ]
        ]
    },
    {
        "id": "f43b3822.b1c158",
        "type": "switchNode",
        "name": "switch cidr-mask",
        "xml": "<switch test='`$service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].cidr-mask`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4026.2629203796387,
        "y": 3563.404967069626,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4eb745de.4f4aec",
                "898134a0.ae5d18"
            ]
        ]
    },
    {
        "id": "4eb745de.4f4aec",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 4181.262996673584,
        "y": 3493.405266523361,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8dbb144d.370578"
            ]
        ]
    },
    {
        "id": "898134a0.ae5d18",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 4184.358793258667,
        "y": 3626.0243537425995,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d34b6157.8f35a"
            ]
        ]
    },
    {
        "id": "489d3614.0f27f8",
        "type": "outcome",
        "name": "0",
        "xml": "<outcome value='0'>",
        "comments": "",
        "outputs": 1,
        "x": 2052.9296073913574,
        "y": 3100.0719232559204,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8bb4c617.110b48"
            ]
        ]
    },
    {
        "id": "ff48f3fc.6ff7e",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4022.929656982422,
        "y": 3430.071615934372,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1b07cf87.9b6fe",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "8dbb144d.370578",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 4327.929512023926,
        "y": 3491.7384831905365,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "319df706.15f388",
                "f394576a.e4e1d8"
            ]
        ]
    },
    {
        "id": "55e003a5.fca06c",
        "type": "comment",
        "name": "Ignore address families with no addresses",
        "info": "",
        "comments": "",
        "x": 2327.262981414795,
        "y": 3030.4054193496704,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "3291e6ae.85f8ba",
        "type": "switchNode",
        "name": "switch invariant-uuid",
        "xml": "<switch test='`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].invariant-uuid`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1297.9298210144043,
        "y": 4660.071797370911,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6a6eb8f1.9f62d8",
                "f080e271.42c9b"
            ]
        ]
    },
    {
        "id": "6a6eb8f1.9f62d8",
        "type": "outcome",
        "name": "NULL",
        "xml": "<outcome value=''>",
        "comments": "",
        "outputs": 1,
        "x": 1479.59623336792,
        "y": 4636.73842716217,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "db88ee95.a44c3"
            ]
        ]
    },
    {
        "id": "f080e271.42c9b",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1477.691505432129,
        "y": 4683.524254798889,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9b23e63c.8ba5d8"
            ]
        ]
    },
    {
        "id": "db88ee95.a44c3",
        "type": "save",
        "name": "save vnfc to A&AI",
        "xml": "<save plugin=\"org.onap.ccsdk.sli.adaptors.aai.AAIService\" \n\tresource=\"vnfc\" \n\tkey=\"vnfc.vnfc-name = $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name\" >\n<parameter name=\"vnfc-name\" value=\"`$tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-name`\" />\n<parameter name=\"nfc-naming-code\" value=\"`$tmp.nfc-naming-code`\" />\n<parameter name=\"nfc-function\" value=\"`$tmp.nfc-function`\" />\n<parameter name=\"orchestration-status\" value=\"`PendingCreate`\" />\n<parameter name=\"in-maint\" value=\"true\" />\n<parameter name=\"prov-status\" value=\"`PREPROV`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1641.2628593444824,
        "y": 4638.40541934967,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8c17d99f.3ce5f8",
                "b50cee13.b9a08"
            ]
        ]
    },
    {
        "id": "d0321bc2.4f6358",
        "type": "switchNode",
        "name": "switch input cloud-owner",
        "xml": "<switch test='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`'>\n",
        "comments": "",
        "outputs": 1,
        "x": 556.9772186279297,
        "y": 312.39344787597656,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "da47b7e7.f3d848",
                "23870b6f.901aa4"
            ]
        ]
    },
    {
        "id": "da47b7e7.f3d848",
        "type": "other",
        "name": "NULL",
        "xml": "<outcome value=''>\n",
        "comments": "",
        "outputs": 1,
        "x": 740.3105926513672,
        "y": 282.39343643188477,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4f66f95.7b33f08"
            ]
        ]
    },
    {
        "id": "23870b6f.901aa4",
        "type": "other",
        "name": "other",
        "xml": "<outcome value='Other'>\n",
        "comments": "",
        "outputs": 1,
        "x": 740.0724983215332,
        "y": 323.3459300994873,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dee18ffa.a6fe6"
            ]
        ]
    },
    {
        "id": "4f66f95.7b33f08",
        "type": "block",
        "name": "block",
        "xml": "<block>\n",
        "atomic": "false",
        "comments": "",
        "outputs": 1,
        "x": 875.310546875,
        "y": 280.7267761230469,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "dee18ffa.a6fe6",
        "type": "set",
        "name": "set prop.cloud-region.cloud-owner",
        "xml": "<set>\n<parameter name='prop.cloud-region.cloud-owner' value='`$vf-module-topology-operation-input.vf-module-request-input.cloud-owner`' />\n",
        "comments": "",
        "x": 956.9772033691406,
        "y": 322.3934574127197,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "348782c.04c017e",
        "type": "call",
        "name": "call self-serve-vf-module-forking-logic",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-forking-logic' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 588.5645904541016,
        "y": 863.7867784500122,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "bceb88ad.260758",
        "type": "switchNode",
        "name": "switch ss.self-serve-flag",
        "xml": "<switch test=\"`$ss.self-serve-flag`\">\n",
        "comments": "",
        "outputs": 1,
        "x": 546.7073287963867,
        "y": 1090.786847114563,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "7c55f766.ae1538",
                "c5c4e1ec.02a4b"
            ]
        ]
    },
    {
        "id": "7c55f766.ae1538",
        "type": "outcomeFalse",
        "name": "false",
        "xml": "<outcome value='false'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.4215278625488,
        "y": 1208.3577461242676,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "94a28d82.4f01d"
            ]
        ]
    },
    {
        "id": "c5c4e1ec.02a4b",
        "type": "outcomeTrue",
        "name": "true",
        "xml": "<outcome value='true'>\n",
        "comments": "",
        "outputs": 1,
        "x": 767.9929809570312,
        "y": 967.2153835296631,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "3d2fe671.10512a"
            ]
        ]
    },
    {
        "id": "42e09bf7.400e44",
        "type": "call",
        "name": "call check for VNF-API-preload and copy",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='gw-vfmodule-update' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 599.7630157470703,
        "y": 7269.98964881897,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "3e5eb577.046eda",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 922.5129852294922,
        "y": 441.368989944458,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "6514e137.563f3",
                "37049c8a.e3e5e4"
            ]
        ]
    },
    {
        "id": "37049c8a.e3e5e4",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"If svc-action is 'assign' then request-action must be 'CreateVfModuleInstance'\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1110.4296684265137,
        "y": 424.9999680519104,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "2172bacb.fd1c86",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1024.71529006958,
        "y": 489.85708379745483,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "b1597171.3ee09",
                "6514e137.563f3"
            ]
        ]
    },
    {
        "id": "b1597171.3ee09",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VF_MODULE_MODEL table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1222.036693572998,
        "y": 468.392783164978,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "c639de59.ae251",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1039.0009956359863,
        "y": 534.999936580658,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "e497f95d.3eb3c8",
                "6514e137.563f3"
            ]
        ]
    },
    {
        "id": "e497f95d.3eb3c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No model found for VF module customization UUID ' + $vf-module-topology-operation-input.vf-module-information.onap-model-information.model-customization-uuid`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1233.6438827514648,
        "y": 511.96422290802,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "dbfaf511.5478b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1000.6082534790039,
        "y": 663.0714178085327,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "2e3d6663.deaf6a",
                "6514e137.563f3"
            ]
        ]
    },
    {
        "id": "2e3d6663.deaf6a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"There are no VNFs defined in MD-SAL\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1207.572509765625,
        "y": 634.1071424484253,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "792ace51.b15ed",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 864.8939590454102,
        "y": 771.0714178085327,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "63dc2a33.a12634",
                "6514e137.563f3"
            ]
        ]
    },
    {
        "id": "63dc2a33.a12634",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find VNF ID ' + $vf-module-topology-operation-input.vnf-information.vnf-id + ' in MD-SAL'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1066.858253479004,
        "y": 746.4285869598389,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "11136e46.5af982",
        "type": "call",
        "name": "call self-serve-vf-module-assign",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='self-serve-vf-module-assign' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1189.8456230163574,
        "y": 879.8449487686157,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "cab143b7.d90eb"
            ]
        ]
    },
    {
        "id": "cab143b7.d90eb",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 1410.1432037353516,
        "y": 879.3329801559448,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dbc9bb02.023fe8"
            ]
        ]
    },
    {
        "id": "6a1554d7.38e2ec",
        "type": "returnSuccess",
        "name": "return success",
        "xml": "<return status='success'>\n<parameter name=\"ack-final-indicator\" value=\"Y\" />\n<parameter name=\"error-code\" value=\"200\" />\n<parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1142.5482940673828,
        "y": 1125.1065063476562,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "763275a1.1cfcbc",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/ss-vnfend.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 1128.7625045776367,
        "y": 970.8481245040894,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "7a9afeeb.bcc87",
        "type": "set",
        "name": "set order-status to PendingCreate",
        "xml": "<set>\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.order-status'\n  value='PendingCreate' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-rpc-action'\n  value='`$vf-module-topology-operation-input.sdnc-request-header.svc-action`' />\n<parameter name='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.vf-module-level-oper-status.last-action'\n  value='`$vf-module-topology-operation-input.request-information.request-action`' />\n",
        "comments": "",
        "x": 1197.7862663269043,
        "y": 924.8089780807495,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "3d2fe671.10512a",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 938.8817367553711,
        "y": 966.3088102340698,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "11136e46.5af982",
                "7a9afeeb.bcc87",
                "763275a1.1cfcbc",
                "6a1554d7.38e2ec",
                "67e4426c.6971cc",
                "e7600116.eb3ff"
            ]
        ]
    },
    {
        "id": "6514e137.563f3",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1649.0608139038086,
        "y": 1147.6433925628662,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "c44f4709.248e68",
                "cff53af6.747968"
            ]
        ]
    },
    {
        "id": "dbc9bb02.023fe8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 1556.143928527832,
        "y": 878.7143354415894,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "1b79c9d4.553d96",
                "6514e137.563f3"
            ]
        ]
    },
    {
        "id": "1b79c9d4.553d96",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Failed to create self-serve assignment for vf-module with vf-module-id=' + $vf-module-topology-operation-input.vf-module-information.vf-module-id + ' with error: ' + $error-message`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1753.8226852416992,
        "y": 858.0000448226929,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "88ef43cf.4353c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VF module id ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-id\n       + ' already exists, and status is ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$idx].vf-module-data.vf-module-level-oper-status.order-status`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2461.263038635254,
        "y": 1377.207555770874,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "cdf91b0.174e5e8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2267.334129333496,
        "y": 1396.6718444824219,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "88ef43cf.4353c",
                "80b5ab3d.6f3ef8"
            ]
        ]
    },
    {
        "id": "799eaa32.6fe824",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 972.334358215332,
        "y": 1614.3384866714478,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9ddd96ce.6586c8",
                "80b5ab3d.6f3ef8"
            ]
        ]
    },
    {
        "id": "7adbe623.7575f8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 974.0010452270508,
        "y": 1657.6718606948853,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "22247b5.eb10384",
                "80b5ab3d.6f3ef8"
            ]
        ]
    },
    {
        "id": "9ddd96ce.6586c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Cloud region not found in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1176.2630233764648,
        "y": 1591.1242628097534,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "22247b5.eb10384",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving cloud region from AAI.  Is AAI down?\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1171.6797637939453,
        "y": 1639.4575996398926,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "ec2aeced.650af",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 856.9175720214844,
        "y": 1838.3385391235352,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "9bc214de.5d73d8",
                "80b5ab3d.6f3ef8"
            ]
        ]
    },
    {
        "id": "9bc214de.5d73d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find aic-clli in AAI for aic-cloud-region ' + $vf-module-topology-operation-input.vf-module-request-input.aic-cloud-region`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1049.5962295532227,
        "y": 1811.1242694854736,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "80b5ab3d.6f3ef8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1651.08447265625,
        "y": 2099.279275894165,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "382e3395.e82afc",
                "e12123b4.7517"
            ]
        ]
    },
    {
        "id": "8c6eb005.385ba",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2766.262939453125,
        "y": 2587.5128660202026,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "76721fa9.6f7a7",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 2383.524429321289,
        "y": 2637.930076599121,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8c6eb005.385ba",
                "73466628.3dbbb8",
                "928b846e.f5c2c8"
            ]
        ]
    },
    {
        "id": "c1b24090.d49b8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2944.59623336792,
        "y": 2278.2630882263184,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "ecc636c8.71fe78",
                "76721fa9.6f7a7"
            ]
        ]
    },
    {
        "id": "ecc636c8.71fe78",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'from-preload flag is true but could not find preload information for VF module name ' + $vf-module-topology-operation-input.vf-module-request-input.vf-module-name`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3144.179473876953,
        "y": 2244.906032562256,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "d759206d.14388",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 2116.5007858276367,
        "y": 2425.8463954925537,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "64958d02.cd8064",
                "76721fa9.6f7a7"
            ]
        ]
    },
    {
        "id": "64958d02.cd8064",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error retrieving preload-information\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2322.512893676758,
        "y": 2400.4891319274902,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "8af4f32.673261",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4189.596542358398,
        "y": 4465.985095024109,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "f394576a.e4e1d8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3801.8577575683594,
        "y": 4512.652036190033,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "8af4f32.673261",
                "a106598.33f8ca8",
                "8a0f16a0.408838"
            ]
        ]
    },
    {
        "id": "a6ff636a.1da36",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'VNFC network role '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-network-role\n      + ' is not found in VNF network list'\n      `\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1884.5963439941406,
        "y": 2909.4576473236084,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "1b07cf87.9b6fe",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have network-start-address populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4214.179832458496,
        "y": 3385.15172457695,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "319df706.15f388",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'SDNC subnet id '\n      + $service-data.vnfs.vnf[$vnf-index].vnf-data.vnf-topology.vnf-resource-assignments.vnf-networks.vnf-network[$vnf-network-index].subnets-data.subnet-data[$subnet-data-index].sdnc-subnet-id\n      + ' does not have cidr-mask populated'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 4529.17985534668,
        "y": 3462.651731491089,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "fec2cbd9.e930a8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Not able to find VNF network subnet that contains address '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-names.vnfc-names[$vnfc-index].vnfc-networks.vnfc-network-data[$vnfc-network-index].vnfc-subnet[$subnet-role-index].vnfc-ip-assignments[$address-family-index].vnfc-subnet-ip[0].vnfc-ip-address\n      `\" />",
        "comments": "",
        "outputs": 1,
        "x": 3576.6798095703125,
        "y": 3582.6517486572266,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "6c1ed4b9.5ecf9c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error reading VFC_RELATED_NETWORK_ROLE table\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2017.3740615844727,
        "y": 3819.1801166534424,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "4102f097.0a51",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'Unable to find related network '\n      + $db.vnf-related-network-role[$db-related-network-index].related-network-role + ' in vnf-networks'`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2824.874122619629,
        "y": 4004.179864883423,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "30bee8c0.434ad8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving vnfc to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2201.262969970703,
        "y": 4626.819506645203,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "52bc7cef.ddfa64",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3678.068458557129,
        "y": 5821.82004737854,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "1254304a.7d8a4",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3291.579948425293,
        "y": 5864.737259864807,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "52bc7cef.ddfa64",
                "6f7485bf.c7042c",
                "7ec70a43.dc5584"
            ]
        ]
    },
    {
        "id": "17b97fa6.0b332",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating vnfc relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1838.6043319702148,
        "y": 4740.568719863892,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "43b53fc.f18d2c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Not-found error updating vnfc relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1838.0686531066895,
        "y": 4797.5332860946655,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "b0761ca.5d4cce",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error saving cp object to AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2280.5686626434326,
        "y": 4966.8189868927,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "64e7c13b.82899",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2935.5687255859375,
        "y": 5419.041241645813,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "f4e9414e.c0a39",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2938.0687255859375,
        "y": 5481.541244506836,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "94072bfe.632c28",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating cp relationship to l3-network and vlan-tag in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3266.6403274536133,
        "y": 5579.041257858276,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "4462ce4a.8f7a5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating cp relationship to l3-network and vlan-tag\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3269.140426635742,
        "y": 5641.541258811951,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "cc682bd5.2eb5c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv4-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3958.4860305786133,
        "y": 5050.291213989258,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "1499e507.42f6db",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3955.9860305786133,
        "y": 5129.041219711304,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "dac8db15.74e098",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3958.4857635498047,
        "y": 5189.041226387024,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "97323f99.6212d",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error creating l3-interface-ipv6-address-list object in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3962.235771179199,
        "y": 5239.0412311553955,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "2f312957.2b15e6",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating l3-interface-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3960.9855041503906,
        "y": 5300.2912340164185,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "9f878bec.0f8958",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating l3-interface-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3962.2355041503906,
        "y": 5360.291234970093,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "f60ef6eb.870138",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4372.235439300537,
        "y": 5486.541163444519,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "11d81f8a.7859d",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3991.996925354004,
        "y": 5531.208375930786,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f60ef6eb.870138",
                "97d29a04.0c0528",
                "9ae41d25.ebedb"
            ]
        ]
    },
    {
        "id": "dccafd0f.1af91",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3795.7073516845703,
        "y": 6950.985408782959,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "fc515f97.dc4ef",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 3407.968574523926,
        "y": 7001.40207862854,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "dccafd0f.1af91",
                "8461f05b.e0d6e",
                "4a0caeea.9a1"
            ]
        ]
    },
    {
        "id": "bec2c422.16f948",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3345.7076454162598,
        "y": 6589.735626220703,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "82534f84.1802c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3339.4579162597656,
        "y": 6525.98616027832,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "9ebbd632.ef43d8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationship to cp\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3350.707649230957,
        "y": 6277.235605239868,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "1a54f803.3243e8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationship to cp in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 3350.7079162597656,
        "y": 6215.986141204834,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "41362899.a075b8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv6-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2718.2076110839844,
        "y": 6477.23561668396,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "9303413c.a15fb",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv6-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2716.95760345459,
        "y": 6419.736152648926,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "dc08e935.aa2128",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv6-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2380.707588195801,
        "y": 6363.485609054565,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "ec585839.cf03a8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv6-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2380.707588195801,
        "y": 6309.7356061935425,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "8d6accf1.493c8",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error updating vip-ipv4-address-list relationships\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2726.957607269287,
        "y": 6152.235597610474,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "38cb90b2.4e39c",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vip-ipv4-address-list relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2728.2076110839844,
        "y": 6094.735593795776,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "34a07ec7.5c1d72",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Not-found error saving vip-ipv4-address-list\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2384.457588195801,
        "y": 6050.985589981079,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "d7673076.3ac06",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error saving vip-ipv4-address-list in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 2380.707588195801,
        "y": 5983.485586166382,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "e64793d7.bf627",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"`'No l3-network found in AAI for network ID '\n      + $tmp.vf-module-topology.vf-module-assignments.vms.vm[$vm-type-index].vm-networks.vm-network[$network-role-index].network-id`\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 1878.2075538635254,
        "y": 5908.485583305359,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "a1d9fe5d.0f695",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module relationships in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1879.4575500488281,
        "y": 5849.735575199127,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "18d43b0c.816ff5",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"Error updating vf-module in AAI\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1031.2630081176758,
        "y": 4280.569283485413,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "d3b91e2a.6658a",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n    <parameter name=\"error-message\" value=\"`'No vf-module found in AAI for vf module ID ' + $service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-id`\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1035.0130081176758,
        "y": 4356.819286346436,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "e283e90a.9eb6c8",
        "type": "execute",
        "name": "printContext",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliPluginUtils' method='printContext' >\n<parameter name='filename' value='/var/tmp/bgb-vfmodule.log' />\n",
        "comments": "",
        "outputs": 1,
        "x": 418.5863952636719,
        "y": 7918.448681354523,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "d9542f83.7d0bb",
        "type": "execute",
        "name": "execute RestApiCallNode - PUT vf-module",
        "xml": "<execute plugin='org.onap.ccsdk.sli.plugins.restapicall.RestapiCallNode' method='sendRequest' >\n    <parameter name='templateFileName' value=\"`$prop.restapi.templateDir + '/' + 'vf-module-assign.json'`\" />\n    <parameter name='restapiUrl' value=\"`$prop.controller.url + $tmp.vf-module.url`\" />\n    <parameter name='restapiUser' value='`$prop.controller.user`' />\n    <parameter name='restapiPassword' value='`$prop.controller.pwd`' />\n    <parameter name='format' value='json' />\n    <parameter name='httpMethod' value='PUT' />\n    <parameter name=\"responsePrefix\" value=\"vf-module-assign\" />\n\n",
        "comments": "",
        "outputs": 1,
        "x": 515.9195327758789,
        "y": 7777.6475620269775,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "f3d88006.1d825",
                "a685bcd2.6458d"
            ]
        ]
    },
    {
        "id": "f3d88006.1d825",
        "type": "not-found",
        "name": "not-found",
        "xml": "<outcome value='not-found'>\n",
        "comments": "",
        "outputs": 1,
        "x": 796.7037048339844,
        "y": 7798.343640804291,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "193e6953.109c97"
            ]
        ]
    },
    {
        "id": "a685bcd2.6458d",
        "type": "failure",
        "name": "failure",
        "xml": "<outcome value='failure'>\n",
        "comments": "",
        "outputs": 1,
        "x": 789.1323394775391,
        "y": 7756.843660831451,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "193e6953.109c97"
            ]
        ]
    },
    {
        "id": "193e6953.109c97",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic=\"true\">",
        "atomic": "true",
        "outputs": 1,
        "x": 998.0624504089355,
        "y": 7777.0126214027405,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "d6c7309a.4a629",
                "ddd8fcd8.b0fa8"
            ]
        ]
    },
    {
        "id": "4f53e7be.5b9088",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API:vf-module-topology-assign-rollback",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='vf-module-topology-assign-rollback' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1752.3126983642578,
        "y": 7919.180991649628,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "ddd8fcd8.b0fa8",
        "type": "block",
        "name": "block : atomic",
        "xml": "<block atomic='true'>",
        "atomic": "true",
        "comments": "",
        "outputs": 1,
        "x": 1371.3599472045898,
        "y": 7971.2046484947205,
        "z": "565447bf.1f1598",
        "wires": [
            [
                "4f53e7be.5b9088",
                "ac1c6eaf.9a9a5",
                "28ceaebf.a2a0e2"
            ]
        ]
    },
    {
        "id": "d6c7309a.4a629",
        "type": "configure",
        "name": "set error-message",
        "xml": "<set>\n<parameter name=\"error-message\" value=\"Error doing PUT of vf-module\" />\n",
        "comments": "",
        "outputs": 1,
        "x": 1202.5628662109375,
        "y": 7749.5376353263855,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "5ad131fa.7f772",
        "type": "comment",
        "name": "This should have been removed from Dublin",
        "info": "",
        "comments": "",
        "x": 671.2630157470703,
        "y": 7239.040754318237,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "3f8bd8eb.1bd018",
        "type": "set",
        "name": "Initialize SO 500 reponse params",
        "xml": "<set>\n<parameter name=\"so.ack-final-indicator\" value=\"Y\" />\n<parameter name=\"so.response-code\" value=\"500\" />\n<parameter name=\"so.notification-url\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-notification-url`\" />\n<parameter name=\"so.svc-request-id\" value=\"`$vf-module-topology-operation-input.sdnc-request-header.svc-request-id`\" />\n<parameter name=\"so.service-type\" value=\"`$vf-module-topology-operation-input.service-information.subscription-service-type`\" />\n<parameter name=\"so.service-instance-id\" value=\"`$vf-module-topology-operation-input.service-information.service-instance-id`\" />",
        "comments": "",
        "x": 587.5129547119141,
        "y": 223.76301383972168,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "c44f4709.248e68",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1956.2628936767578,
        "y": 1126.124216079712,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "382e3395.e82afc",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1963.762939453125,
        "y": 2078.346435546875,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "e7600116.eb3ff",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1252.5129165649414,
        "y": 1074.040759086609,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "67e4426c.6971cc",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 1181.262939453125,
        "y": 1017.790771484375,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "73466628.3dbbb8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 2708.7629203796387,
        "y": 2638.068730354309,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "a106598.33f8ca8",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4131.40185546875,
        "y": 4513.6240234375,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "97d29a04.0c0528",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 4313.901893615723,
        "y": 5530.429918289185,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "6f7485bf.c7042c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3615.15185546875,
        "y": 5867.2353515625,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "8461f05b.e0d6e",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 3735.15185546875,
        "y": 7001.26318359375,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "ac1c6eaf.9a9a5",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 1693.2073440551758,
        "y": 7971.9582324028015,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "f60c437.45996c",
        "type": "call",
        "name": "call GENERIC-RESOURCE-API_send-so-response",
        "xml": "<call module='GENERIC-RESOURCE-API' rpc='send-so-response' mode='sync' >\n",
        "comments": "",
        "outputs": 1,
        "x": 536.9574661254883,
        "y": 8025.709732532501,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "5d70e5cf.fff80c",
        "type": "set",
        "name": "set so.reponse-code = 200",
        "xml": "<set>\n<parameter name=\"so.response-code\" value=\"200\" />\n",
        "comments": "",
        "x": 466.9574661254883,
        "y": 7971.68098783493,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "28ceaebf.a2a0e2",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1574.457405090332,
        "y": 8020.707935810089,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "4a0caeea.9a1",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3614.8740234375,
        "y": 7049.8740234375,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "7ec70a43.dc5584",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 3493.6240234375,
        "y": 5912.51318359375,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "9ae41d25.ebedb",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4197.3740234375,
        "y": 5575.01318359375,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "8a0f16a0.408838",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 4012.3740234375,
        "y": 4557.791015625,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "928b846e.f5c2c8",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 2592.512939453125,
        "y": 2684.1796875,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "e12123b4.7517",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1845.012939453125,
        "y": 2120.012939453125,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "cff53af6.747968",
        "type": "returnFailure",
        "name": "return failure",
        "xml": "<return status='failure'>\n\t<parameter name='ack-final' value='Y'/>\n\t<parameter name=\"error-code\" value=\"500\" />\n    <parameter name=\"error-message\" value=\"`$error-message`\" />\n",
        "comments": "",
        "x": 1836.262939453125,
        "y": 1168.7630615234375,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "fc541e57.efb67",
        "type": "set",
        "name": "copy vf-module data",
        "xml": "<set>\n<parameter name='vf-module-data.'\n  value='service-data.vnfs.vnf[$vnf-index].vnf-data.vf-modules.vf-module[$vf-module-index].vf-module-data.' />\n",
        "comments": "",
        "x": 435.58421325683594,
        "y": 7422.19614982605,
        "z": "565447bf.1f1598",
        "wires": []
    },
    {
        "id": "b631b958.11eb48",
        "type": "execute",
        "name": "generate vf-module URL (sub service-instance-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$prop.restapi.vf-module`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{service-instance-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.service-topology.service-topology-identifier.service-instance-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 534.6912536621094,
        "y": 7506.483808517456,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "e5d7fa3.8c00708",
        "type": "execute",
        "name": "generate vf-module URL (sub vnf-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.part\"/>\n    <parameter name=\"target\" value=\"{vnf-id}\"/>\n    <parameter name=\"replacement\" value=\"`$service-data.vnfs.vnf[$vnf-index].vnf-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 489.33406829833984,
        "y": 7551.661762237549,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    },
    {
        "id": "62da7e05.4b2de",
        "type": "execute",
        "name": "generate vf-module URL (sub vf-module-id)",
        "xml": "<execute plugin='org.onap.ccsdk.sli.core.slipluginutils.SliStringUtils' method='replace' >\n    <parameter name=\"source\" value=\"`$tmp.part`\"/>\n    <parameter name=\"outputPath\" value=\"tmp.vf-module.url\"/>\n    <parameter name=\"target\" value=\"{vf-module-id}\"/>\n    <parameter name=\"replacement\" value=\"`$vf-module-topology-operation-input.vf-module-information.vf-module-id`\"/>\n",
        "comments": "",
        "outputs": 1,
        "x": 514.5127258300781,
        "y": 7598.268753051758,
        "z": "565447bf.1f1598",
        "wires": [
            []
        ]
    }
]