{
    "components": {"schemas": {
        "producer_info_job_request": {
            "description": "The body of the Information Producer callbacks for Information Job creation and deletion",
            "type": "object",
            "required": ["info_job_identity"],
            "properties": {
                "owner": {
                    "description": "The owner of the job",
                    "type": "string"
                },
                "last_updated": {
                    "description": "The time when the job was last updated or created (ISO-8601)",
                    "type": "string"
                },
                "info_job_identity": {
                    "description": "Identity of the Information Job",
                    "type": "string"
                },
                "target_uri": {
                    "description": "URI for the target of the produced Information",
                    "type": "string"
                },
                "info_job_data": {
                    "description": "Json for the job data",
                    "type": "object"
                },
                "info_type_identity": {
                    "description": "Type identity for the job",
                    "type": "string"
                }
            }
        },
        "error_information": {
            "description": "Problem as defined in https://tools.ietf.org/html/rfc7807",
            "type": "object",
            "properties": {
                "detail": {
                    "description": " A human-readable explanation specific to this occurrence of the problem.",
                    "type": "string",
                    "example": "Policy type not found"
                },
                "status": {
                    "format": "int32",
                    "description": "The HTTP status code generated by the origin server for this occurrence of the problem. ",
                    "type": "integer",
                    "example": 503
                }
            }
        },
        "void": {
            "description": "Void/empty",
            "type": "object"
        },
        "producer_registration_info": {
            "description": "Information for an Information Producer",
            "type": "object",
            "required": [
                "info_job_callback_url",
                "info_producer_supervision_callback_url",
                "supported_info_types"
            ],
            "properties": {
                "info_producer_supervision_callback_url": {
                    "description": "callback for producer supervision",
                    "type": "string"
                },
                "supported_info_types": {
                    "description": "Supported Information Type IDs",
                    "type": "array",
                    "items": {
                        "description": "Supported Information Type IDs",
                        "type": "string"
                    }
                },
                "info_job_callback_url": {
                    "description": "callback for Information Job",
                    "type": "string"
                }
            }
        },
        "producer_info_type_info": {
            "description": "Information for an Information Type",
            "type": "object",
            "required": [
                "info_job_data_schema",
                "info_type_information"
            ],
            "properties": {
                "info_type_information": {
                    "description": "Type specific information for the information type",
                    "type": "object"
                },
                "info_job_data_schema": {
                    "description": "Json schema for the job data",
                    "type": "object"
                }
            }
        }
    }},
    "openapi": "3.0.1",
    "paths": {
        "/data-producer/v1/info-producers/{infoProducerId}": {
            "get": {
                "operationId": "getInfoProducer",
                "responses": {"200": {
                    "description": "OK",
                    "content": {"application/json": {"schema": {"type": "object"}}}
                }},
                "parameters": [{
                    "schema": {"type": "string"},
                    "in": "path",
                    "name": "infoProducerId",
                    "required": true
                }],
                "tags": ["Information Coordinator Service Simulator (exists only in test)"]
            },
            "put": {
                "requestBody": {
                    "content": {"application/json": {"schema": {"$ref": "#/components/schemas/producer_registration_info"}}},
                    "required": true
                },
                "operationId": "putInfoProducer",
                "responses": {"200": {
                    "description": "OK",
                    "content": {"application/json": {"schema": {"type": "object"}}}
                }},
                "parameters": [{
                    "schema": {"type": "string"},
                    "in": "path",
                    "name": "infoProducerId",
                    "required": true
                }],
                "tags": ["Information Coordinator Service Simulator (exists only in test)"]
            }
        },
        "/dmaap_dataproducer/info_job": {
            "post": {
                "summary": "Callback for Information Job creation/modification",
                "requestBody": {
                    "content": {"application/json": {"schema": {"type": "string"}}},
                    "required": true
                },
                "description": "The call is invoked to activate or to modify a data subscription. The endpoint is provided by the Information Producer.",
                "operationId": "jobCreatedCallback",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {"application/json": {"schema": {"$ref": "#/components/schemas/void"}}}
                    },
                    "404": {
                        "description": "Information type is not found",
                        "content": {"application/json": {"schema": {"$ref": "#/components/schemas/error_information"}}}
                    }
                },
                "tags": ["Producer job control API"]
            },
            "get": {
                "summary": "Get all jobs",
                "description": "Returns all info jobs, can be used for trouble shooting",
                "operationId": "getJobs",
                "responses": {"200": {
                    "description": "Information jobs",
                    "content": {"application/json": {"schema": {
                        "type": "array",
                        "items": {"$ref": "#/components/schemas/producer_info_job_request"}
                    }}}
                }},
                "tags": ["Producer job control API"]
            }
        },
        "/dmaap_dataproducer/health_check": {"get": {
            "summary": "Producer supervision",
            "description": "The endpoint is provided by the Information Producer and is used for supervision of the producer.",
            "operationId": "producerSupervision",
            "responses": {"200": {
                "description": "The producer is OK",
                "content": {"application/json": {"schema": {"type": "string"}}}
            }},
            "tags": ["Producer job control API"]
        }},
        "/dmaap_dataproducer/info_job/{infoJobId}": {"delete": {
            "summary": "Callback for Information Job deletion",
            "description": "The call is invoked to terminate a data subscription. The endpoint is provided by the Information Producer.",
            "operationId": "jobDeletedCallback",
            "responses": {"200": {
                "description": "OK",
                "content": {"application/json": {"schema": {"$ref": "#/components/schemas/void"}}}
            }},
            "parameters": [{
                "schema": {"type": "string"},
                "in": "path",
                "name": "infoJobId",
                "required": true
            }],
            "tags": ["Producer job control API"]
        }},
        "/data-producer/v1/info-types/{infoTypeId}": {"put": {
            "requestBody": {
                "content": {"application/json": {"schema": {"$ref": "#/components/schemas/producer_info_type_info"}}},
                "required": true
            },
            "operationId": "putInfoType",
            "responses": {"200": {
                "description": "OK",
                "content": {"application/json": {"schema": {"type": "object"}}}
            }},
            "parameters": [{
                "schema": {"type": "string"},
                "in": "path",
                "name": "infoTypeId",
                "required": true
            }],
            "tags": ["Information Coordinator Service Simulator (exists only in test)"]
        }},
        "/consumer": {"post": {
            "summary": "Consume data",
            "requestBody": {
                "content": {"application/json": {"schema": {"type": "string"}}},
                "required": true
            },
            "description": "The call is invoked to push data to consumer",
            "operationId": "postData",
            "responses": {"200": {
                "description": "OK",
                "content": {"application/json": {"schema": {"$ref": "#/components/schemas/void"}}}
            }},
            "tags": ["Test Consumer Simulator (exists only in test)"]
        }},
        "/dmaap-topic-1": {"get": {
            "summary": "GET from topic",
            "description": "The call is invoked to activate or to modify a data subscription. The endpoint is provided by the Information Producer.",
            "operationId": "getFromTopic",
            "responses": {"200": {
                "description": "OK",
                "content": {"application/json": {"schema": {"$ref": "#/components/schemas/void"}}}
            }},
            "tags": ["DMAAP Simulator (exists only in test)"]
        }}
    },
    "info": {
        "title": "OpenAPI definition",
        "version": "v0"
    }
}